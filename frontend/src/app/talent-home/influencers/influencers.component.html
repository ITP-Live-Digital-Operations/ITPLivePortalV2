<div class="form-container">
<div style="position: relative;">
<div class="search-container">
  <button mat-raised-button  class="back-button"color="primary" style="height: 3rem; width: 10%" (click)="backButton()">
    <mat-icon>arrow_back</mat-icon>
    BACK
  </button>
  <mat-form-field appearance="outline" style="width: 75%; height: 10%; padding-left: 2%; padding-right: 2%;">
    <input #searchInput matInput (keyup)="applyFilterSearch(searchInput.value)" placeholder="Search">
  </mat-form-field>

  <button mat-raised-button  class="back-button"color="primary" style="height: 3rem;  width: 10%"  (click)="newInfluencer()">
    <mat-icon>add_circle_outline</mat-icon>
    New Influencer
  </button>

  <mat-form-field  appearance="outline" style="width: 15%; height: 10%;">
    <mat-label> Gender Filter</mat-label>
    <mat-select placeholder="Gender Filter" (selectionChange)="applyFilter1($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of genders" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field  appearance="outline" style="width: 15%; height: 10%; padding-left: 1%;">
    <mat-label> Location Filter </mat-label>
    <mat-select placeholder="Location Filter" (selectionChange)="applyFilter2($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of locations" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field  appearance="outline" style="width: 15%; height: 10%; padding-left: 1%;">
    <mat-label> City Filter </mat-label>
    <mat-select placeholder="City Filter" (selectionChange)="applyFilter5($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of cities" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field  appearance="outline" style="width: 15%; height: 10%; padding-left: 1%;">
    <mat-label> Main Vertical Filter </mat-label>
    <mat-select placeholder="Main Vertical Filter" (selectionChange)="applyFilter3($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of verticals" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field  appearance="outline" style="width: 15%; height: 10%; padding-left: 1%;">
    <mat-label> Nationality Filter </mat-label>
    <mat-select placeholder="Nationality Filter" (selectionChange)="applyFilter4($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of nationalities" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field  appearance="outline" style="width: 15%; height: 10%; padding-left: 1%;">
    <mat-label> Platform Filter </mat-label>
    <mat-select placeholder="Platform Filter" (selectionChange)="applyPlatformFilter($event.value)">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let option of platforms" [value]="option">{{ option }}</mat-option>
    </mat-select>
  </mat-form-field>

  </div>

<div class="table-container">
<table mat-table [dataSource]="dataSource" matSort>

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->


  <ng-container matColumnDef="ID">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
    <td mat-cell *matCellDef="let element"> {{element.id}} </td>
  </ng-container>


  <ng-container matColumnDef="Name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
    <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
  </ng-container>


  <ng-container matColumnDef="Gender">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
    <td mat-cell *matCellDef="let element"> {{element.Gender}} </td>
  </ng-container>




  <ng-container matColumnDef="Email">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
    <td mat-cell *matCellDef="let element"> {{element.Email}} </td>
  </ng-container>



  <ng-container matColumnDef="CountryLocation" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Location </th>
    <td mat-cell *matCellDef="let element"> {{element.CountryLocation}} </td>
  </ng-container>

  <ng-container matColumnDef="MainVertical" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Main Vertical </th>
    <td mat-cell *matCellDef="let element"> {{element.MainVertical}} </td>
  </ng-container>

  <ng-container matColumnDef="itpAverageRating" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> ITP Rating </th>
    <td mat-cell *matCellDef="let element"> {{element.itpAverageRating}} </td>
  </ng-container>

  <!-- ####### Options for table  ########## -->

  <!-- Instagram  -->
  <ng-container matColumnDef="InstagramHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Instagram Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.InstagramHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="InstagramFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.InstagramFollowers}} </td>
  </ng-container>

  <!-- End Insta  -->

  <!-- Tiktok -->

  <ng-container matColumnDef="TiktokHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tiktok Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.TiktokHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="TiktokFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.TiktokFollowers}} </td>
  </ng-container>

  <!-- End Tiktok  -->

  <!-- Snapchat -->
  <ng-container matColumnDef="SnapchatHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Snapchat Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.SnapchatHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="SnapchatFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.SnapchatFollowers}} </td>
  </ng-container>

  <!-- End Snapchat  -->

  <!-- Twitter -->

  <ng-container matColumnDef="TwitterHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Twitter Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.TwitterHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="TwitterFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.TwitterFollowers}} </td>
  </ng-container>

  <!-- End Twitter  -->

  <!-- Youtube -->

  <ng-container matColumnDef="YoutubeHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Youtube Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.YoutubeHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="YoutubeFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.YoutubeFollowers}} </td>
  </ng-container>

  <!-- End Youtube  -->

  <!-- Facebook -->

  <ng-container matColumnDef="FacebookHandle" >
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Facebook Handle </th>
    <td mat-cell *matCellDef="let element"> {{element.FacebookHandle}} </td>
  </ng-container>

  <ng-container matColumnDef="FacebookFollowers">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>  Followers </th>
    <td mat-cell *matCellDef="let element"> {{element.FacebookFollowers}} </td>
  </ng-container>

  <!-- End Facebook  -->


  <ng-container matColumnDef="Action" >
    <th mat-header-cell *matHeaderCellDef sticky> Edit | Delete  </th>
    <td mat-cell *matCellDef="let element">
     <button mat-raised-button color="primary" (click)="onRowClicked(element.id)"><mat-icon>remove_red_eye</mat-icon></button> |
    <button mat-raised-button color="primary" (click)="editInfluencer(element.id)"><mat-icon>edit</mat-icon></button>
    <button *ngIf="userRole == 'superadmin'" mat-raised-button color="warn" (click)="deleteInfluencer(element.id)"><mat-icon>delete</mat-icon></button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns" sticky></tr>
  <tr mat-row   *matRowDef="let row; columns: displayedColumns;" sticky></tr>

</table>
<mat-paginator  pageSize="15"
               [pageSizeOptions]="[5, 10, 25, 50, 100]"
               (page)="onPageChange($event)"
               showFirstLastButtons
               aria-label="Select page">
</mat-paginator>
</div>



</div>


</div>
