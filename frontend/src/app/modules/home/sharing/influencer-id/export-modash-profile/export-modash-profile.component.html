<div *ngIf="profile" class="profile-container">
  <div class="header">
    <h2>{{ profile.Name }}</h2>
    <div class="social-info">
      <span class="instagram">{{ profile.instagramProfile.username }}</span>
      <span class="followers">{{ profile.instagramProfile.followerCount | number }} followers</span>
    </div>
  </div>

  <div class="metrics-row">
    <div class="metric-item">
      <span class="metric-value">{{ profile.instagramProfile.avgLikes | number }}</span>
      <span class="metric-label">Avg. Likes</span>
    </div>
    <div class="metric-item">
      <span class="metric-value">{{ profile.instagramProfile.followerCount | number }}</span>
      <span class="metric-label">Followers</span>
    </div>
    <div class="metric-item">
      <span class="metric-value">{{ profile.instagramProfile.engagementRate | percent }}</span>
      <span class="metric-label">Engagement Rate</span>
    </div>
  </div>

  <div class="charts-container">
    <div class="chart-section">
      <h3>Age & Gender split</h3>
      <div class="chart-container">
        <canvas baseChart
          [data]="ageGenderChartData"
          [options]="barChartOptions"
          [plugins]="[ChartDataLabels]"
          type="bar">
        </canvas>
      </div>
    </div>

    <div class="chart-section">
      <h3>Gender Split</h3>
      <div class="chart-container">
        <canvas baseChart
          [data]="genderChartData"
          [options]="genderChartOptions"
          type="doughnut">
        </canvas>
      </div>
    </div>
  </div>

  <div class="data-section">
    <div class="top-countries">
      <h3>Location By Country</h3>
      <ul>
        <li *ngFor="let country of getTopCountries()">
          <span>{{ country.name }}</span>
          <span>{{ country.weight | percent }}</span>
        </li>
      </ul>
    </div>

    <div class="follower-interests">
      <h3>Follower Interests</h3>
      <ul>
        <li *ngFor="let interest of profile.instagramProfile.InstagramInterest">
          {{ interest.name }}
        </li>
      </ul>
    </div>
  </div>
</div>
