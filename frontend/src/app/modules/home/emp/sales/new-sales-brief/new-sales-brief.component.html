<style>
::ng-deep .mat-mdc-tab-body-content {
  height: 100%;
  overflow: hidden !important;
}
  ::ng-deep .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs > .mat-mdc-tab-header .mat-mdc-tab {
    flex-grow: 1;
    border-right: 1px solid rgba(70, 70, 93, 0.559);
    transition: background-color 0.3s ease;
    text-align: center;
    font-size: 16px;
    padding-bottom: 20px;
    color: #333;
  }
  ::ng-deep .mat-raised-button {
    border-radius: 20px;}
  ::ng-deep .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs > .mat-mdc-tab-header .mat-mdc-tab:hover {
    background-color: rgba(70, 70, 93, 0.379);
    cursor: pointer;
  }

  @media (max-width: 767px) {
    ::ng-deep .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs > .mat-mdc-tab-header {
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }

    ::ng-deep .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs > .mat-mdc-tab-header .mat-mdc-tab {
      display: inline-block;
      width: auto;
      border-right: none;
    }

    ::ng-deep .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs > .mat-mdc-tab-header .mat-mdc-tab:nth-child(n+3) {
      display: none;
    }
  }
  </style>


<div class="form-container">
  <h2 style="text-align: center;">New Sales Brief</h2>


  <mat-tab-group [(selectedIndex)]="activeTabIndex">
    <mat-tab label="Client"  class="tab-with-border">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <app-basic-information formGroupName="basicInfo" (clients)="clients"></app-basic-information>
      </form>
    </mat-tab>


    <mat-tab label="Campaign Overview" >
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <app-campaign-overview formGroupName="campaignOverview"></app-campaign-overview>

      </form>
    </mat-tab>

    <mat-tab label="Influencer">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <app-influencer-details formGroupName="influencerDetails"></app-influencer-details>
      </form>
    </mat-tab>

    <mat-tab label="Audience">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <app-audience-details formGroupName="audienceDetails"></app-audience-details>
      </form>
    </mat-tab>

    <mat-tab label="Department">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <app-department-details formGroupName="departmentDetails"></app-department-details>
      </form>
    </mat-tab>

    <mat-tab label="Upload Files">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off">
        <br> <br>
        <app-upload-files (filesUploaded)="transferedFiles($event)"></app-upload-files>

        <mat-form-field>
          <p style="color: white">File Notes </p>
          <input
            matInput
            type="text"
            formControlName="FileNotes"
            autocomplete="off"
          />
        </mat-form-field>
        <hr>
      </form>
    </mat-tab>





  </mat-tab-group>
  <div style="display: flex; justify-content: space-between;">
    <button mat-raised-button color="primary" (click)="prevTab()" [disabled]="activeTabIndex === 0" [style.visibility]="activeTabIndex === 0 ? 'hidden' : 'visible'" style="margin-right: 10px; border-radius: 10px !important;">Previous</button>
    <ng-container *ngIf="activeTabIndex !== tabCount - 1">
      <button mat-raised-button color="primary" (click)="nextTab()" [disabled]="activeTabIndex === tabCount - 1" [style.visibility]="activeTabIndex === tabCount - 1 ? 'hidden' : 'visible'" style="border-radius: 10px !important;">Next</button>
    </ng-container>
    <ng-container *ngIf="activeTabIndex === tabCount - 1">
      <form [formGroup]="newForm" (ngSubmit)="submitForm()" autocomplete="off" style="display: flex; justify-content: center;">
        <button mat-raised-button color="primary" type="submit" [disabled]="!newForm.valid" style="margin: 2% auto;border-radius: 15px !important; color: white; width: 200px;">Submit Brief Form</button>
      </form>
    </ng-container>
  </div>



</div>
