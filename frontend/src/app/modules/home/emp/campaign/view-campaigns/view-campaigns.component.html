<div class="campaign-button"></div>

<div class="filter-container">
  <mat-form-field class="filter">
    <mat-label>Campaigns Filter</mat-label>
    <input
      type="text"
      matInput
      [matAutocomplete]="autoCampaign"
      [(ngModel)]="selectedCampaign"
      (input)="searchCampaigns($any($event).target.value)"
      (focus)="searchCampaigns($any($event).target.value)"
    />
    <mat-autocomplete
      #autoCampaign="matAutocomplete"
      (optionSelected)="onCampaignSelect($event)"
    >
      <mat-option *ngFor="let campaign of filteredCampaigns" [value]="campaign">
        {{ campaign }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field class="filter">
    <mat-label>Client Filter</mat-label>
    <input
      type="text"
      matInput
      [matAutocomplete]="autoClient"
      [(ngModel)]="selectedClient"
      (input)="searchClients($any($event).target.value)"
      (focus)="searchClients($any($event).target.value)"
    />
    <mat-autocomplete
      #autoClient="matAutocomplete"
      (optionSelected)="onClientSelect($event)"
      >
      <mat-option value="">All Clients</mat-option>
      <mat-option *ngFor="let client of clients" [value]="client">
        {{ client }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <mat-form-field class="filter">
    <mat-label>Influencer Filter</mat-label>
    <input
      type="text"
      matInput
      [matAutocomplete]="autoInfluencer"
      [(ngModel)]="selectedInfluencer"
      (input)="searchInfluencers($any($event).target.value)"
      (focus)="searchInfluencers($any($event).target.value)"
    />
    <mat-autocomplete
      #autoInfluencer="matAutocomplete"
      (optionSelected)="onInfluencerSelect($event)"
    >
      <mat-option value="">All Influencers</mat-option>
      <mat-option *ngFor="let influencer of influencers" [value]="influencer">
        {{ influencer }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
</div>

<div class="table-container">
  <table mat-table [dataSource]="dataSource" matSort>
    <ng-container matColumnDef="campaignName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Campaign</th>
      <td mat-cell *matCellDef="let element" class="truncate-text">
        {{ element.campaignName }}
      </td>
    </ng-container>

    <ng-container matColumnDef="clientName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Client</th>
      <td mat-cell *matCellDef="let element" class="truncate-text">
        {{ element.clientName }}
      </td>
    </ng-container>

    <ng-container matColumnDef="market">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Market</th>
      <td mat-cell *matCellDef="let element">{{ element.market }}</td>
    </ng-container>

    <ng-container matColumnDef="clientIndustry">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        Client's Industry
      </th>
      <td mat-cell *matCellDef="let element">{{ element.clientIndustry }}</td>
    </ng-container>

    <ng-container matColumnDef="influencerName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Influencer</th>
      <td mat-cell *matCellDef="let element">
        {{ element.influencerName }}
      </td>
    </ng-container>

    <ng-container matColumnDef="influencerVertical">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Vertical</th>
      <td mat-cell *matCellDef="let element">
        {{ element.influencerVertical }}
      </td>
    </ng-container>

    <ng-container matColumnDef="platform">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Platform</th>
      <td mat-cell *matCellDef="let element">
        {{ element.platform }}
      </td>
    </ng-container>

    <ng-container matColumnDef="deliverable">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Deliverable</th>
      <td mat-cell *matCellDef="let element">
        {{ element.deliverable }}
      </td>
    </ng-container>

    <ng-container matColumnDef="poc">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>POC</th>
      <td mat-cell *matCellDef="let element">
        {{ element.poc }}
      </td>
    </ng-container>

    <ng-container matColumnDef="year">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Year</th>
      <td mat-cell *matCellDef="let element">{{ element.year }}</td>
    </ng-container>

    <!--  <ng-container matColumnDef="Action">
      <th mat-header-cell *matHeaderCellDef sticky>View | Edit</th>
      <td mat-cell *matCellDef="let element">
        <button class="icon-btn" (click)="viewInfluencer(element.id)">
          <mat-icon>remove_red_eye</mat-icon>
        </button>

        <button class="icon-btn" (click)="editInfluencer(element.id)">
          <mat-icon>create</mat-icon>
        </button>

        <mat-icon
          *ngIf="userRole == 'superadmin'"
          mat-raised-button
          color="warn"
          (click)="deleteInfluencer(element.id)"
        >
          delete
        </mat-icon>
      </td>
    </ng-container> -->

    <tr mat-header-row *matHeaderRowDef="displayedColumns" sticky></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns" sticky></tr>
  </table>
</div>
<mat-paginator
  pageSize="20"
  [pageSizeOptions]="[5, 10, 25, 50, 100]"
  showFirstLastButtons
  aria-label="Select page"
>
</mat-paginator>
