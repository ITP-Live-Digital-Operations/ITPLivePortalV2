"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[115],{115:(Ve,F,r)=>{r.r(F),r.d(F,{TalentModule:()=>C});var u=r(6814),g=r(1896),_=r(3365),p=r(3566),l=r(5313),Z=r(5753),t=r(5879),M=r(9554),J=r(1921),T=r(3934),v=r(617);function B(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Deadline"),t.qZA())}function V(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.deadline)," ")}}function G(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Status"),t.qZA())}function H(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.status)}}function $(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Weight"),t.qZA())}function E(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.weight)}}function j(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Created On"),t.qZA())}function z(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,n.createdAt)," ")}}function K(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Progress"),t.qZA())}function W(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.progress)}}function X(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Viewed"),t.qZA())}function tt(o,e){1&o&&(t.TgZ(0,"span"),t._uU(1," Yes "),t.qZA())}function et(o,e){1&o&&(t.TgZ(0,"span"),t._uU(1," No "),t.qZA())}function nt(o,e){if(1&o&&(t.TgZ(0,"td",18),t.YNc(1,tt,2,0,"span",19),t.YNc(2,et,2,0,"span",19),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Q6J("ngIf",n.ViewedByTalent>0),t.xp6(1),t.Q6J("ngIf",n.ViewedByTalent<1)}}function ot(o,e){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Priority"),t.qZA())}function it(o,e){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.priority)}}function at(o,e){1&o&&(t.TgZ(0,"th",20),t._uU(1,"View"),t.qZA())}function rt(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"td",18)(1,"button",21),t.NdJ("click",function(){const c=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.viewedTask(c.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove_red_eye"),t.qZA()()()}}function lt(o,e){1&o&&t._UZ(0,"tr",22)}function st(o,e){1&o&&t._UZ(0,"tr",23)}const ct=function(){return[3,5,10,25,100]};class y{constructor(e,n,i,s,c){this.salesService=e,this.route=n,this.taskService=i,this.userService=s,this.activatedRoute=c,this.path=Z.m,this.displayedColumns=["deadline","progress","weight","createdAt","deadline","Action"],this.privilegeLevel=this.userService.getPrivilegeLevel()}ngOnInit(){this.privilegeLevel<7?(this.userID=this.userService.getID(),this.getMyTasks(this.userID)):this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.taskService.getMyTasks(this.id).subscribe(n=>{console.log("my tasks:"),console.log(n),this.dataSource=n.data?.assignedUsers,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}getMyTasks(e){this.taskService.getMyTasks(e).subscribe(n=>{this.briefDetails=n,this.dataSource=new l.by(this.briefDetails.data?.assignedUsers),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewedTask(e){this.privilegeLevel<7&&this.taskService.updateStatus({id:e}).subscribe(n=>{}),this.salesService.getSalesBriefIdbyTaskId(e).subscribe(n=>{this.route.navigate([`${this.path.viewBrief+n.data.brief_id}`])})}}y.\u0275fac=function(e){return new(e||y)(t.Y36(M.M),t.Y36(g.F0),t.Y36(J.M),t.Y36(T.K),t.Y36(g.gz))},y.\u0275cmp=t.Xpm({type:y,selectors:[["app-person-tasks"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_.NW,5),t.Gf(p.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.sort=i.first)}},decls:30,vars:8,consts:[[2,"position","relative"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","deadline"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","weight"],["matColumnDef","createdAt"],["matColumnDef","progress"],["matColumnDef","ViewedByTalent"],["matColumnDef","priority"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell",""],[1,"icon-btn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2),t.ynx(3,3),t.YNc(4,B,2,0,"th",4),t.YNc(5,V,3,3,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,G,2,0,"th",4),t.YNc(8,H,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,$,2,0,"th",4),t.YNc(11,E,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,j,2,0,"th",4),t.YNc(14,z,3,3,"td",5),t.BQk(),t.ynx(15,9),t.YNc(16,K,2,0,"th",4),t.YNc(17,W,2,1,"td",5),t.BQk(),t.ynx(18,10),t.YNc(19,X,2,0,"th",4),t.YNc(20,nt,3,2,"td",5),t.BQk(),t.ynx(21,11),t.YNc(22,ot,2,0,"th",4),t.YNc(23,it,2,1,"td",5),t.BQk(),t.ynx(24,12),t.YNc(25,at,2,0,"th",13),t.YNc(26,rt,4,0,"td",5),t.BQk(),t.YNc(27,lt,1,0,"tr",14),t.YNc(28,st,1,0,"tr",15),t.qZA(),t._UZ(29,"mat-paginator",16),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",10)("pageSizeOptions",t.DdM(7,ct)))},dependencies:[u.O5,v.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,u.uU],styles:[".warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:1%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-top:1px solid black;cursor:pointer}"]});var a=r(6223),O=r(9229),w=r(96),P=r(2032),f=r(4170),D=r(2296);const mt=["star"];function ut(o,e){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",2,3),t.NdJ("click",function(){const c=t.CHM(n).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onClick(c))})("mouseenter",function(){const c=t.CHM(n).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHover(c))})("mouseleave",function(){const c=t.CHM(n).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHoverOut(c))}),t.TgZ(3,"mat-icon"),t._uU(4,"star_rate"),t.qZA()(),t.BQk()}if(2&o){const n=e.$implicit,i=t.oxw();t.xp6(1),t.ekj("active",n<=i._rating)}}function pt(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s._clear())}),t._uU(1),t.qZA()}2&o&&(t.xp6(1),t.hij("","Clear","\n"))}const gt=function(){return[1,2,3,4,5]};class x{constructor(){this.onClick=new t.vpe,this.onView=new t.vpe}_onClick(e){this._rating=e,this.onClick.emit(e)}_clear(){this._rating=0,this.onClick.emit()}_onHover(e){this.startItems.forEach((n,i)=>{i+1<=e&&(!this._rating||i+1>this._rating)&&n.nativeElement.classList.add("active")})}_onHoverOut(e){this.startItems.forEach((n,i)=>{i+1<=e&&(!this._rating||i+1>this._rating)&&n.nativeElement.classList.remove("active")})}}function ft(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Response Rate"),t.qZA())}function dt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.responseRate)}}function _t(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Content Quality"),t.qZA())}function ht(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.contentQuality)}}function Ct(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Creativity"),t.qZA())}function Zt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.creativity)}}function Tt(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Flexibility"),t.qZA())}function vt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.flexibility)}}function yt(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1," Campaign Performance "),t.qZA())}function xt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.campaignPerformance," ")}}function It(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Notes"),t.qZA())}function bt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.notes)}}function At(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Reviewed By"),t.qZA())}function qt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.userID.name)}}function kt(o,e){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Date"),t.qZA())}function Nt(o,e){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.createdAt))}}function wt(o,e){1&o&&t._UZ(0,"tr",26)}function Ut(o,e){1&o&&t._UZ(0,"tr",27)}x.\u0275fac=function(e){return new(e||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-star-rating"]],viewQuery:function(e,n){if(1&e&&t.Gf(mt,5),2&e){let i;t.iGM(i=t.CRH())&&(n.startItems=i)}},hostAttrs:[1,"m-star-rating"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("readonly",n.readonly)},inputs:{rating:"rating",readonly:"readonly"},outputs:{onClick:"onClick",onView:"onView"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["class","m-star-rating-clear",3,"click",4,"ngIf"],[1,"m-star-rating-item",3,"click","mouseenter","mouseleave"],["star",""],[1,"m-star-rating-clear",3,"click"]],template:function(e,n){1&e&&(t.YNc(0,ut,5,2,"ng-container",0),t.YNc(1,pt,2,1,"div",1)),2&e&&(t.Q6J("ngForOf",t.DdM(2,gt)),t.xp6(1),t.Q6J("ngIf",!n.readonly&&n._rating))},dependencies:[u.sg,u.O5,v.Hw],styles:[".m-star-rating{display:flex;align-items:flex-end}.m-star-rating:not(.readonly) .m-star-rating-item{cursor:pointer;transition:all .15s ease-out}.m-star-rating:not(.readonly) .m-star-rating-item:hover{color:#4789a1}.m-star-rating-clear{font-size:14px;font-weight:500;color:gray;cursor:pointer}.m-star-rating-clear:hover{color:#000}.m-star-rating-item{padding-right:5px;color:gray;display:flex}.m-star-rating-item.active{color:#4789a1}\n"],encapsulation:2});const St=function(){return[3,5,10,25,100]};class I{constructor(e,n,i,s,c){this.formBuilder=e,this.route=n,this.userService=i,this.toastrService=s,this.influencerService=c,this.displayedColumns=["responseRate","contentQuality","creativity","flexibility","campaignPerformance","notes","name","createdAt"],this.influencerForm=this.formBuilder.group({responseRate:["",a.kI.required],contentQuality:["",a.kI.required],creativity:["",a.kI.required],flexibility:["",a.kI.required],campaignPerformance:["",a.kI.required],notes:["",a.kI.maxLength(500)]})}ngOnInit(){this.influencerID=this.route.snapshot.paramMap.get("id"),this.GetInfluencerRatings(this.influencerID)}GetInfluencerRatings(e){this.influencerService.getInfluencerRatings(e).subscribe(n=>{this.influenceRatings=n,this.dataSource=new l.by(this.influenceRatings.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}onRatingClicked(e,n){const i=parseInt(e.target.dataset.rating,10);this.influencerForm.controls[n].setValue(i)}onSubmit(){this.influencerService.createInfluencerRating({influencer_id:this.influencerID,createdBy_id:this.userService.getID(),...this.influencerForm.value}).subscribe(e=>{this.data=e,"success"==this.data.status&&this.toastrService.success("Rating Added Successfully!")})}handleClickResponseRate(e){this.influencerForm.controls.responseRate.setValue(e)}handleClickContentQuality(e){this.influencerForm.controls.contentQuality.setValue(e)}handleClickCreativity(e){this.influencerForm.controls.creativity.setValue(e)}handleClickFlexibility(e){this.influencerForm.controls.flexibility.setValue(e)}handleClickCampaignPerformance(e){this.influencerForm.controls.campaignPerformance.setValue(e)}}I.\u0275fac=function(e){return new(e||I)(t.Y36(a.qu),t.Y36(g.gz),t.Y36(T.K),t.Y36(O._W),t.Y36(w.N))},I.\u0275cmp=t.Xpm({type:I,selectors:[["app-influencer-rating"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_.NW,5),t.Gf(p.YE,7),t.Gf(l.BZ,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.sort=i.first),t.iGM(i=t.CRH())&&(n.table=i.first)}},decls:81,vars:11,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"table"],[1,"star-rating"],[3,"onClick"],["formControlName","notes","matInput","","placeholder","Notes"],["align","end"],["mat-raised-button","","type","submit",2,"margin-top","2%",3,"disabled"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","responseRate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contentQuality"],["matColumnDef","creativity"],["matColumnDef","flexibility"],["matColumnDef","campaignPerformance"],["matColumnDef","notes"],["matColumnDef","name"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"h2"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Field"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Rating"),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td"),t._uU(13,"Response Rate"),t.qZA(),t.TgZ(14,"td")(15,"span",3)(16,"app-star-rating",4),t.NdJ("onClick",function(s){return n.handleClickResponseRate(s)}),t.qZA()()()(),t.TgZ(17,"tr")(18,"td"),t._uU(19,"Content Quality"),t.qZA(),t.TgZ(20,"td")(21,"span",3)(22,"app-star-rating",4),t.NdJ("onClick",function(s){return n.handleClickContentQuality(s)}),t.qZA()()()(),t.TgZ(23,"tr")(24,"td"),t._uU(25,"Creativity"),t.qZA(),t.TgZ(26,"td")(27,"span",3)(28,"app-star-rating",4),t.NdJ("onClick",function(s){return n.handleClickCreativity(s)}),t.qZA()()()(),t.TgZ(29,"tr")(30,"td"),t._uU(31,"Flexibility"),t.qZA(),t.TgZ(32,"td")(33,"span",3)(34,"app-star-rating",4),t.NdJ("onClick",function(s){return n.handleClickFlexibility(s)}),t.qZA()()()(),t.TgZ(35,"tr")(36,"td"),t._uU(37,"Campaign Performance"),t.qZA(),t.TgZ(38,"td")(39,"span",3)(40,"app-star-rating",4),t.NdJ("onClick",function(s){return n.handleClickCampaignPerformance(s)}),t.qZA()()()(),t.TgZ(41,"tr")(42,"td"),t._uU(43,"Notes"),t.qZA(),t.TgZ(44,"td")(45,"mat-form-field"),t._UZ(46,"textarea",5),t.TgZ(47,"mat-hint",6),t._uU(48),t.qZA()()()(),t.TgZ(49,"button",7),t._uU(50," Submit "),t.qZA()()()()(),t.TgZ(51,"div",8)(52,"table",9,10),t.ynx(54,11),t.YNc(55,ft,2,0,"th",12),t.YNc(56,dt,2,1,"td",13),t.BQk(),t.ynx(57,14),t.YNc(58,_t,2,0,"th",12),t.YNc(59,ht,2,1,"td",13),t.BQk(),t.ynx(60,15),t.YNc(61,Ct,2,0,"th",12),t.YNc(62,Zt,2,1,"td",13),t.BQk(),t.ynx(63,16),t.YNc(64,Tt,2,0,"th",12),t.YNc(65,vt,2,1,"td",13),t.BQk(),t.ynx(66,17),t.YNc(67,yt,2,0,"th",12),t.YNc(68,xt,2,1,"td",13),t.BQk(),t.ynx(69,18),t.YNc(70,It,2,0,"th",12),t.YNc(71,bt,2,1,"td",13),t.BQk(),t.ynx(72,19),t.YNc(73,At,2,0,"th",12),t.YNc(74,qt,2,1,"td",13),t.BQk(),t.ynx(75,20),t.YNc(76,kt,2,0,"th",12),t.YNc(77,Nt,3,3,"td",13),t.BQk(),t.YNc(78,wt,1,0,"tr",21),t.YNc(79,Ut,1,0,"tr",22),t.qZA(),t._UZ(80,"mat-paginator",23),t.qZA()),2&e){let i;t.xp6(2),t.Q6J("formGroup",n.influencerForm),t.xp6(46),t.hij("",(null==(i=n.influencerForm.get("notes"))||null==i.value?null:i.value.length)||0,"/500"),t.xp6(1),t.Q6J("disabled",n.influencerForm.invalid),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",5)("pageSizeOptions",t.DdM(10,St))}},dependencies:[P.Nt,f.KE,f.bx,D.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,x,u.uU]});var d=r(9347),U=r(8074);function Ot(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Platform "),t.qZA())}function Pt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.platform," ")}}function Dt(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Deliverable "),t.qZA())}function Yt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.deliverable," ")}}function Lt(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Quantity "),t.qZA())}function Rt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function Qt(o,e){1&o&&t._UZ(0,"mat-header-row")}function Ft(o,e){1&o&&t._UZ(0,"mat-row")}function Mt(o,e){if(1&o&&(t.TgZ(0,"div")(1,"mat-table",2),t.ynx(2,3),t.YNc(3,Ot,2,0,"mat-header-cell",4),t.YNc(4,Pt,2,1,"mat-cell",5),t.BQk(),t.ynx(5,6),t.YNc(6,Dt,2,0,"mat-header-cell",4),t.YNc(7,Yt,2,1,"mat-cell",5),t.BQk(),t.ynx(8,7),t.YNc(9,Lt,2,0,"mat-header-cell",4),t.YNc(10,Rt,2,1,"mat-cell",5),t.BQk(),t.YNc(11,Qt,1,0,"mat-header-row",8),t.YNc(12,Ft,1,0,"mat-row",9),t.qZA(),t._UZ(13,"hr"),t.TgZ(14,"h2"),t._uU(15),t.qZA(),t.TgZ(16,"h2"),t._uU(17),t.qZA(),t.TgZ(18,"h2"),t._uU(19),t.qZA()()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.log.packages),t.xp6(10),t.Q6J("matHeaderRowDef",n.displayedColumnsForPackages),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumnsForPackages),t.xp6(3),t.hij("Reply Time : ",n.log.time_to_reply,""),t.xp6(2),t.hij("Notes: ",n.log.notes,""),t.xp6(2),t.AsE("Rate: ",n.log.currency," ",n.log.rate,"")}}function Jt(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Platform "),t.qZA())}function Bt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.platform," ")}}function Vt(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Deliverable "),t.qZA())}function Gt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.deliverable," ")}}function Ht(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Quantity "),t.qZA())}function $t(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.quantity," ")}}function Et(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Currency "),t.qZA())}function jt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.currency," ")}}function zt(o,e){1&o&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Rate "),t.qZA())}function Kt(o,e){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.rate," ")}}function Wt(o,e){1&o&&t._UZ(0,"mat-header-row")}function Xt(o,e){1&o&&t._UZ(0,"mat-row")}function te(o,e){if(1&o&&(t.TgZ(0,"div")(1,"mat-table",2),t.ynx(2,3),t.YNc(3,Jt,2,0,"mat-header-cell",4),t.YNc(4,Bt,2,1,"mat-cell",5),t.BQk(),t.ynx(5,6),t.YNc(6,Vt,2,0,"mat-header-cell",4),t.YNc(7,Gt,2,1,"mat-cell",5),t.BQk(),t.ynx(8,7),t.YNc(9,Ht,2,0,"mat-header-cell",4),t.YNc(10,$t,2,1,"mat-cell",5),t.BQk(),t.ynx(11,10),t.YNc(12,Et,2,0,"mat-header-cell",4),t.YNc(13,jt,2,1,"mat-cell",5),t.BQk(),t.ynx(14,11),t.YNc(15,zt,2,0,"mat-header-cell",4),t.YNc(16,Kt,2,1,"mat-cell",5),t.BQk(),t.YNc(17,Wt,1,0,"mat-header-row",8),t.YNc(18,Xt,1,0,"mat-row",9),t.qZA(),t._UZ(19,"hr"),t.TgZ(20,"h2"),t._uU(21),t.qZA(),t.TgZ(22,"h2"),t._uU(23),t.qZA()()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.log.logItems),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumnsSingle),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumnsSingle),t.xp6(3),t.hij("Reply Time : ",n.log.time_to_reply,""),t.xp6(2),t.hij("Notes: ",n.log.notes,"")}}class b{constructor(e,n){this.source=e,this.logService=n,this.id=this.source.id,this.type=this.source.type,this.package=!1,this.single=!1,this.displayedColumnsSingle=["platform","deliverable","quantity","currency","rate"],this.displayedColumnsForPackages=["platform","deliverable","quantity"]}ngAfterViewInit(){this.logService.getLogById(this.id).subscribe(e=>{this.log=e,"single"==this.type?this.single=!0:"package"==this.type&&(this.package=!0)})}}b.\u0275fac=function(e){return new(e||b)(t.Y36(d.WI),t.Y36(U.$))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-view-log"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","platform"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","deliverable"],["matColumnDef","quantity"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","currency"],["matColumnDef","rate"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Mt,20,7,"div",1),t.YNc(2,te,24,5,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.package),t.xp6(1),t.Q6J("ngIf",n.single))},dependencies:[u.O5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk],styles:[".single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{color:#fff;margin-top:2%}.row[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]{padding:2%}"]});var S=r(1218),Y=r(8525),L=r(3680);function ee(o,e){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function ne(o,e){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function oe(o,e){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function ie(o,e){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function ae(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",12)(1,"div",2)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.qZA(),t.TgZ(5,"mat-select",13),t.NdJ("change",function(){const c=t.CHM(n).index,m=t.oxw();return t.KtG(m.onPlatformChange(c))}),t.YNc(6,ne,2,2,"mat-option",4),t.qZA()(),t.TgZ(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Deliverable"),t.qZA(),t.TgZ(10,"mat-select",14),t.YNc(11,oe,2,2,"mat-option",4),t.qZA()(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Quantity"),t.qZA(),t._UZ(15,"input",15),t.qZA(),t.TgZ(16,"mat-form-field")(17,"mat-label"),t._uU(18,"Currency"),t.qZA(),t.TgZ(19,"mat-select",16),t.YNc(20,ie,2,2,"mat-option",4),t.qZA()(),t.TgZ(21,"mat-form-field")(22,"mat-label"),t._uU(23,"Rate"),t.qZA(),t._UZ(24,"input",17),t.qZA(),t.TgZ(25,"button",18),t.NdJ("click",function(){const c=t.CHM(n).index,m=t.oxw();return t.KtG(m.removeFields(c))}),t.TgZ(26,"mat-icon"),t._uU(27," delete "),t.qZA()()()()}if(2&o){const n=e.index,i=t.oxw();t.Q6J("formGroupName",n),t.xp6(4),t.hij("Platform ",n+1,""),t.xp6(2),t.Q6J("ngForOf",i.platforms),t.xp6(5),t.Q6J("ngForOf",i.getAvailableDeliverables(n)),t.xp6(9),t.Q6J("ngForOf",i.currencies)}}class A{constructor(e,n,i,s,c,m,R,Q){this.formBuilder=e,this.router=n,this.influencerService=i,this.userService=s,this.logService=c,this.toastrService=m,this.dialog=R,this.source=Q,this.currencies=S.QT,this.platforms=S.Zk,this.submitted=!1,this.path=Z.m,this.userId=this.userService.getID(),this.id=this.source.id,this.logForm=this.formBuilder.group({Influencer:["",a.kI.required],Campaign:["",a.kI.required],Notes:[""],Time_to_reply:["",a.kI.required]}),this.form=this.formBuilder.group({fields:this.formBuilder.array([])})}ngOnInit(){this.getInfluencers(),this.addFields(),this.loadRateLog()}get fields(){return this.form.get("fields")}addFields(){const e=this.formBuilder.group({Platform:["",a.kI.required],Deliverable:["",a.kI.required],Quantity:["",a.kI.required],Currency:["",a.kI.required],Rate:["",a.kI.required]});this.fields.push(e)}removeFields(e){this.fields.removeAt(e)}getInfluencers(){this.influencerService.getInfluencerNames().subscribe(e=>{this.influencers=e})}loadRateLog(){this.logService.getLogById(this.id).subscribe(e=>{this.log=e,console.log(this.log),this.logForm.patchValue({Influencer:this.log.influencerID,Campaign:this.log.campaign,Notes:this.log.notes,Time_to_reply:this.log.time_to_reply}),this.logItemId=this.log.logItems[0].id,console.log(this.logItemId),this.fields.controls.forEach((n,i)=>{n.patchValue({Platform:this.log.logItems[i].platform,Deliverable:this.log.logItems[i].deliverable,Quantity:this.log.logItems[i].quantity,Currency:this.log.logItems[i].currency,Rate:this.log.logItems[i].rate})})})}onSubmit(){if(!this.submitted){if(this.submitted=!0,this.form.valid){const e={UserID:this.userId,InfluencerID:this.logForm.value.Influencer,Campaign:this.logForm.value.Campaign,type:"single",Notes:this.logForm.value.Notes,Time_to_reply:this.logForm.value.Time_to_reply,Item:this.form.value.fields,packageItems:{},logItemId:this.logItemId};console.log(e),this.logService.updateSingleLog(this.id,e).subscribe(n=>{this.toastrService.success("Log updated successfully"),this.router.navigate([this.path.rateLogs])})}this.dialog.closeAll()}}getAvailableDeliverables(e){switch(this.fields.controls[e].get("Platform")?.value){case"Instagram":return["Static image posts","Carousel posts","Instagram Stories","Instagram Reels","IGTV","Influencer partnerships and collaborations"];case"Tiktok":return["Short-form video content","Hashtag challenges","Influencer partnerships and collaborations"];case"Snapchat":return["Snap stories","Geofilters and lenses","Influencer partnerships and collaborations"];case"Twitter":return["Tweets","Retweets","Twitter threads","Hashtags","Influencer partnerships and collaborations"];case"Facebook":return["Facebook posts","Facebook Stories","Live videos","Groups","Influencer partnerships and collaborations"];case"Youtube":return["Video content","Livestreams","Live videos","Collaborations with other YouTubers or brands","Product reviews or demonstrations","Influencer partnerships and collaborations"];default:return[]}}onPlatformChange(e){const n=this.fields.controls[e].get("Platform")?.value,i=this.fields.controls[e].get("Deliverable");i?.setValue(null),i?.enable(),n?i?.setValidators(a.kI.required):i?.clearValidators()}}function re(o,e){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function le(o,e){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function se(o,e){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function ce(o,e){if(1&o&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function me(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"div",14)(1,"div",2)(2,"mat-form-field")(3,"mat-label"),t._uU(4),t.qZA(),t.TgZ(5,"mat-select",15),t.NdJ("change",function(){const c=t.CHM(n).index,m=t.oxw();return t.KtG(m.onPlatformChange(c))}),t.YNc(6,se,2,2,"mat-option",4),t.qZA()(),t.TgZ(7,"mat-form-field")(8,"mat-label"),t._uU(9,"Deliverable"),t.qZA(),t.TgZ(10,"mat-select",16),t.YNc(11,ce,2,2,"mat-option",4),t.qZA()(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Quantity"),t.qZA(),t._UZ(15,"input",17),t.qZA(),t.TgZ(16,"button",18),t.NdJ("click",function(){const c=t.CHM(n).index,m=t.oxw();return t.KtG(m.removeFields(c))}),t.TgZ(17,"mat-icon"),t._uU(18,"delete"),t.qZA()()()()}if(2&o){const n=e.index,i=t.oxw();t.Q6J("formGroupName",n),t.xp6(4),t.hij("Platform ",n+1,""),t.xp6(2),t.Q6J("ngForOf",i.platforms),t.xp6(5),t.Q6J("ngForOf",i.getAvailableDeliverables(n))}}A.\u0275fac=function(e){return new(e||A)(t.Y36(a.qu),t.Y36(g.F0),t.Y36(w.N),t.Y36(T.K),t.Y36(U.$),t.Y36(O._W),t.Y36(d.uw),t.Y36(d.WI))},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-edit-item-log"]],decls:27,vars:5,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["formControlName","Influencer"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","Campaign","autocomplete","off","required",""],["matInput","","formControlName","Notes","rows","2","autocomplete","off"],["matInput","","type","text","formControlName","Time_to_reply","autocomplete","off","required",""],["formArrayName","fields"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",1,"btn-color",3,"disabled"],[3,"value"],[3,"formGroupName"],["formControlName","Platform",3,"change"],["formControlName","Deliverable"],["matInput","","type","number","formControlName","Quantity","autocomplete","off","required",""],["formControlName","Currency","required",""],["matInput","","type","number","formControlName","Rate","autocomplete","off","required",""],[1,"icon-btn",2,"max-width","5%",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"div",2)(3,"mat-form-field")(4,"mat-label"),t._uU(5,"Influencer"),t.qZA(),t.TgZ(6,"mat-select",3),t.YNc(7,ee,2,2,"mat-option",4),t.qZA()(),t.TgZ(8,"mat-form-field")(9,"mat-label"),t._uU(10," Campaign "),t.qZA(),t._UZ(11,"input",5),t.qZA()(),t.TgZ(12,"div",2)(13,"mat-form-field")(14,"mat-label"),t._uU(15,"Notes "),t.qZA(),t._UZ(16,"textarea",6),t.qZA(),t.TgZ(17,"mat-form-field")(18,"mat-label"),t._uU(19," Time to reply "),t.qZA(),t._UZ(20,"input",7),t.qZA()()(),t.TgZ(21,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(22,"div",8),t.YNc(23,ae,28,5,"div",9),t.qZA(),t.TgZ(24,"div",2)(25,"button",10),t._uU(26," Edit "),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.logForm),t.xp6(6),t.Q6J("ngForOf",n.influencers),t.xp6(14),t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("ngForOf",n.fields.controls),t.xp6(2),t.Q6J("disabled",!(n.logForm.valid&&n.form.valid)||0==n.fields.length))},dependencies:[u.sg,P.Nt,f.KE,f.hX,D.lW,v.Hw,Y.gD,L.ey,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE],styles:[".form-container[_ngcontent-%COMP%]{padding:2%}.btn-color[_ngcontent-%COMP%]{background-color:#4789a1}"]});class q{constructor(e,n,i,s,c,m,R,Q){this.formBuilder=e,this.router=n,this.service=i,this.userService=s,this.logService=c,this.toastrService=m,this.dialog=R,this.source=Q,this.currencies=S.QT,this.platforms=S.Zk,this.submitted=!1,this.path=Z.m,this.userId=this.userService.getID(),this.id=this.source.id,this.packageIds=[],this.logForm=this.formBuilder.group({Influencer:["",a.kI.required],Campaign:["",a.kI.required],Currency:["",a.kI.required],Rate:["",a.kI.required],Notes:[""],Time_to_reply:["",a.kI.required]}),this.form=this.formBuilder.group({fields:this.formBuilder.array([])})}ngOnInit(){this.getInfluencers(),this.addFields(),this.loadRateLog()}get fields(){return this.form.get("fields")}addFields(){const e=this.formBuilder.group({Platform:["",a.kI.required],Deliverable:["",a.kI.required],Quantity:["",a.kI.required]});this.fields.push(e)}removeFields(e){this.fields.removeAt(e)}getInfluencers(){this.service.getInfluencerNames().subscribe(e=>{this.influencers=e})}loadRateLog(){this.logService.getLogById(this.id).subscribe(e=>{this.log=e,this.logForm.patchValue({Influencer:this.log.influencerID,Campaign:this.log.campaign,Notes:this.log.notes,Time_to_reply:this.log.time_to_reply,Currency:this.log.currency,Rate:this.log.rate});for(let n=0;n<this.log.packages.length;n++)null!=this.log.packages[n].id&&(this.addFields(),this.packageIds.push(this.log.packages[n].id)),this.removeFields(this.log.packages.length);this.fields.controls.forEach((n,i)=>{n.patchValue({Platform:this.log.packages[i].platform,Deliverable:this.log.packages[i].deliverable,Quantity:this.log.packages[i].quantity})})})}onSubmit(){if(!this.submitted){if(this.submitted=!0,this.form.valid){console.log(this.form.value.fields);const e={UserID:this.userId,InfluencerID:this.logForm.value.Influencer,Campaign:this.logForm.value.Campaign,type:"package",Time_to_reply:this.logForm.value.Time_to_reply,Notes:this.logForm.value.Notes,Currency:this.logForm.value.Currency,Rate:this.logForm.value.Rate,package:this.form.value.fields,rateLogItems:{},packageIds:this.packageIds};this.logService.updatePackageLog(this.id,e).subscribe(n=>{this.data=n,"success"===this.data.status?(this.toastrService.success("Log Added Successfully!"),sessionStorage.removeItem("influencerData"),this.router.navigate([this.path.influencerRating+this.logForm.value.Influencer])):this.toastrService.error("Error! Please Try Again!")})}setTimeout(()=>{this.dialog.closeAll()},1e3)}}getAvailableDeliverables(e){switch(this.fields.controls[e].get("Platform")?.value){case"Instagram":return["Static image posts","Carousel posts","Instagram Stories","Instagram Reels","IGTV","Influencer partnerships and collaborations"];case"Tiktok":return["Short-form video content","Hashtag challenges","Influencer partnerships and collaborations"];case"Snapchat":return["Snap stories","Geofilters and lenses","Influencer partnerships and collaborations"];case"Twitter":return["Tweets","Retweets","Twitter threads","Hashtags","Influencer partnerships and collaborations"];case"Facebook":return["Facebook posts","Facebook Stories","Live videos","Groups","Influencer partnerships and collaborations"];case"Youtube":return["Video content","Livestreams","Live videos","Collaborations with other YouTubers or brands","Product reviews or demonstrations","Influencer partnerships and collaborations"];default:return[]}}onPlatformChange(e){const n=this.fields.controls[e].get("Platform")?.value,i=this.fields.controls[e].get("Deliverable");i?.setValue(null),i?.enable(),n?i?.setValidators(a.kI.required):i?.clearValidators()}}q.\u0275fac=function(e){return new(e||q)(t.Y36(a.qu),t.Y36(g.F0),t.Y36(w.N),t.Y36(T.K),t.Y36(U.$),t.Y36(O._W),t.Y36(d.uw),t.Y36(d.WI))},q.\u0275cmp=t.Xpm({type:q,selectors:[["app-edit-package-log"]],decls:36,vars:6,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["formControlName","Influencer"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","Campaign","autocomplete","off","required",""],["formControlName","Currency","required",""],["matInput","","type","number","formControlName","Rate","autocomplete","off","required",""],["matInput","","formControlName","Notes","rows","2","autocomplete","off"],["matInput","","type","text","formControlName","Time_to_reply","autocomplete","off","required",""],["formArrayName","fields"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"],[3,"formGroupName"],["formControlName","Platform",3,"change"],["formControlName","Deliverable"],["matInput","","type","number","formControlName","Quantity","autocomplete","off","required",""],["color","warn",1,"icon-btn",2,"max-width","5%",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"div",2)(3,"mat-form-field")(4,"mat-label"),t._uU(5,"Influencer"),t.qZA(),t.TgZ(6,"mat-select",3),t.YNc(7,re,2,2,"mat-option",4),t.qZA()(),t.TgZ(8,"mat-form-field")(9,"mat-label"),t._uU(10," Campaign "),t.qZA(),t._UZ(11,"input",5),t.qZA(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14,"Currency"),t.qZA(),t.TgZ(15,"mat-select",6),t.YNc(16,le,2,2,"mat-option",4),t.qZA()(),t.TgZ(17,"mat-form-field")(18,"mat-label"),t._uU(19," Rate"),t.qZA(),t._UZ(20,"input",7),t.qZA()(),t.TgZ(21,"div",2)(22,"mat-form-field")(23,"mat-label"),t._uU(24,"Notes "),t.qZA(),t._UZ(25,"textarea",8),t.qZA(),t.TgZ(26,"mat-form-field")(27,"mat-label"),t._uU(28," Time to reply "),t.qZA(),t._UZ(29,"input",9),t.qZA()()(),t.TgZ(30,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(31,"div",10),t.YNc(32,me,19,4,"div",11),t.qZA(),t.TgZ(33,"div",2)(34,"button",12),t._uU(35," Edit "),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",n.logForm),t.xp6(6),t.Q6J("ngForOf",n.influencers),t.xp6(9),t.Q6J("ngForOf",n.currencies),t.xp6(14),t.Q6J("formGroup",n.form),t.xp6(2),t.Q6J("ngForOf",n.fields.controls),t.xp6(2),t.Q6J("disabled",!(n.logForm.valid&&n.form.valid)||0==n.fields.length))},dependencies:[u.sg,P.Nt,f.KE,f.hX,D.lW,v.Hw,Y.gD,L.ey,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE],styles:[".form-container[_ngcontent-%COMP%]{padding:2%}"]});var ue=r(6085),pe=r(7398);class k{constructor(e){this.influencerService=e}transform(e){return this.influencerService.getInfluencerNameById(e).pipe((0,pe.U)(n=>n.data.name))}}function ge(o,e){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.ALo(2,"async"),t.ALo(3,"influencerName"),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,t.lcZ(3,4,n)),"")}}function fe(o,e){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n,"")}}function de(o,e){if(1&o&&(t.TgZ(0,"mat-option",24),t._uU(1),t.ALo(2,"async"),t.ALo(3,"userNamePipe"),t.qZA()),2&o){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",t.lcZ(2,2,t.lcZ(3,4,n)),"")}}function _e(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Influencer"),t.qZA())}function he(o,e){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"async"),t.ALo(3,"influencerName"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,n.influencerID))," ")}}function Ce(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Campaign"),t.qZA())}function Ze(o,e){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(n.campaign)}}function Te(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Contact"),t.qZA())}function ve(o,e){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"async"),t.ALo(3,"userNamePipe"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,t.lcZ(3,3,n.userID))," ")}}function ye(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Date"),t.qZA())}function xe(o,e){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.createdAt))}}function Ie(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Reply time"),t.qZA())}function be(o,e){if(1&o&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.hij(" ",n.time_to_reply," ")}}function Ae(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Type"),t.qZA())}function qe(o,e){if(1&o&&(t.TgZ(0,"td",26),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&o){const n=e.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,n.type))}}function ke(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"View"),t.qZA())}function Ne(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"mat-icon",28),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,c=t.oxw();return t.KtG(c.editInfluencerLog(s.id,s.type))}),t._uU(1," edit "),t.qZA()}}function we(o,e){if(1&o){const n=t.EpF();t.TgZ(0,"td",26)(1,"mat-icon",28),t.NdJ("click",function(){const c=t.CHM(n).$implicit,m=t.oxw();return t.KtG(m.viewInfluencerLog(c.id,c.type))}),t._uU(2," remove_red_eye "),t.qZA(),t.YNc(3,Ne,2,0,"mat-icon",29),t.qZA()}if(2&o){const n=e.$implicit,i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.userId===n.userID)}}function Ue(o,e){1&o&&t._UZ(0,"tr",30)}function Se(o,e){1&o&&t._UZ(0,"tr",31)}function Oe(o,e){if(1&o&&(t.TgZ(0,"div",33)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA()()),2&o){const n=e.$implicit;t.xp6(2),t.Oqu(n.platform),t.xp6(2),t.Oqu(n.deliverable),t.xp6(2),t.Oqu(n.quantity)}}function Pe(o,e){if(1&o&&(t.TgZ(0,"div",32)(1,"div",33)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"h2"),t._uU(5),t.qZA()(),t._UZ(6,"hr"),t.YNc(7,Oe,7,3,"div",34),t.qZA()),2&o){const n=t.oxw();t.xp6(3),t.hij("Notes : ",n.log.notes,""),t.xp6(2),t.AsE("Rate: ",n.log.currency," ",n.log.rate,""),t.xp6(2),t.Q6J("ngForOf",n.log.packages)}}function De(o,e){if(1&o&&(t.TgZ(0,"div",33)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"h4"),t._uU(8),t.qZA(),t.TgZ(9,"h4"),t._uU(10),t.qZA()()),2&o){const n=e.$implicit;t.xp6(2),t.Oqu(n.platform),t.xp6(2),t.Oqu(n.deliverable),t.xp6(2),t.Oqu(n.quantity),t.xp6(2),t.Oqu(n.currency),t.xp6(2),t.Oqu(n.rate)}}function Ye(o,e){if(1&o&&(t.TgZ(0,"div",35)(1,"div",33)(2,"h2"),t._uU(3),t.qZA()(),t._UZ(4,"hr"),t.YNc(5,De,11,5,"div",34),t.qZA()),2&o){const n=t.oxw();t.xp6(3),t.hij("Notes : ",n.log.notes,""),t.xp6(2),t.Q6J("ngForOf",n.log.logItems)}}k.\u0275fac=function(e){return new(e||k)(t.Y36(w.N,16))},k.\u0275pipe=t.Yjl({name:"influencerName",type:k,pure:!0});const Le=function(){return[3,5,10,25,100]};class N{constructor(e,n,i,s){this.userService=e,this.router=n,this.logService=i,this.dialog=s,this.userRole=this.userService.getRole(),this.userId=this.userService.getID(),this.path=Z.m,this.influencers=[],this.campaigns=[],this.contacts=[],this.filterValues={influencerID:"",campaign:"",userID:""},this.single=!1,this.package=!1,this.logs=[],this.displayedColumns=["Influencer","Campaign","Contact","Time_to_reply","Date","type","Action"]}ngOnInit(){this.getAllLogs()}getAllLogs(){this.logService.getAllLogs().subscribe(e=>{console.log(e),this.logs=e,this.dataSource=new l.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.influencers=[...new Set(e.map(n=>n.influencerID))],this.campaigns=[...new Set(e.map(n=>n.campaign))],this.contacts=[...new Set(e.map(n=>n.userID))]})}filterInfluencer(e){this.filterValues.influencerID=e,this.applyFilter(),this.updateFilterOptions()}filterCampaign(e){this.filterValues.campaign=e,this.applyFilter(),this.updateFilterOptions()}filterContact(e){this.filterValues.userID=e,this.applyFilter(),this.updateFilterOptions()}applyFilter(){this.dataSource.filterPredicate=(e,n)=>{const i=JSON.parse(n),s=!i.influencerID||e.influencerID===i.influencerID,c=!i.campaign||e.campaign.toLowerCase().includes(i.campaign.toLowerCase()),m=!i.userID||e.userID===i.userID;return s&&c&&m},this.dataSource.filter=JSON.stringify(this.filterValues)}updateFilterOptions(){const e=this.dataSource.filteredData||[];this.influencers=[...new Set(e.map(n=>n.influencerID))].sort(),this.campaigns=[...new Set(e.map(n=>n.campaign))].sort(),this.contacts=[...new Set(e.map(n=>n.userID))].sort()}editInfluencerLog(e,n){"single"==n?this.dialog?.open(A,{width:"70%",height:"60%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:e}}):this.dialog?.open(q,{width:"70%",height:"60%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:e}})}viewInfluencerLog(e,n){this.dialog?.open(b,{width:"70%",height:"50%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:e,type:n}})}redirectToNewLog(){this.router.navigate([this.path.newRateLog])}}N.\u0275fac=function(e){return new(e||N)(t.Y36(T.K),t.Y36(g.F0),t.Y36(U.$),t.Y36(d.uw))},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-influencer-logs"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_.NW,5),t.Gf(p.YE,5),t.Gf(l.BZ,5)),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first),t.iGM(i=t.CRH())&&(n.sort=i.first),t.iGM(i=t.CRH())&&(n.table=i.first)}},decls:56,vars:13,consts:[[1,"logs-button"],["type","button",2,"margin-left","2%",3,"click"],[1,"filter-container"],[1,"filter"],["placeholder","Gender Filter",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Influencer"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Campaign"],["matColumnDef","Contact"],["matColumnDef","Date"],["matColumnDef","Time_to_reply"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["class","package",4,"ngIf"],["class","single",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"truncate-text"],[3,"click"],[3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""],[1,"package"],[1,"row"],["class","row",4,"ngFor","ngForOf"],[1,"single"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"H2"),t._uU(2,"Logs"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return n.redirectToNewLog()}),t._uU(4," Add New Log "),t.qZA()(),t.TgZ(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),t._uU(8," Influencers Filter"),t.qZA(),t.TgZ(9,"mat-select",4),t.NdJ("selectionChange",function(s){return n.filterInfluencer(s.value)}),t.TgZ(10,"mat-option",5),t._uU(11,"All Influencers"),t.qZA(),t.YNc(12,ge,4,6,"mat-option",6),t.qZA()(),t.TgZ(13,"mat-form-field",3)(14,"mat-label"),t._uU(15," Campaigns Filter"),t.qZA(),t.TgZ(16,"mat-select",4),t.NdJ("selectionChange",function(s){return n.filterCampaign(s.value)}),t.TgZ(17,"mat-option",5),t._uU(18,"All Campaigns"),t.qZA(),t.YNc(19,fe,2,2,"mat-option",6),t.qZA()(),t.TgZ(20,"mat-form-field",3)(21,"mat-label"),t._uU(22," Contacts Filter"),t.qZA(),t.TgZ(23,"mat-select",4),t.NdJ("selectionChange",function(s){return n.filterContact(s.value)}),t.TgZ(24,"mat-option",5),t._uU(25,"All Contacts"),t.qZA(),t.YNc(26,de,4,6,"mat-option",6),t.qZA()()(),t.TgZ(27,"div",7)(28,"table",8),t.ynx(29,9),t.YNc(30,_e,2,0,"th",10),t.YNc(31,he,4,5,"td",11),t.BQk(),t.ynx(32,12),t.YNc(33,Ce,2,0,"th",10),t.YNc(34,Ze,2,1,"td",11),t.BQk(),t.ynx(35,13),t.YNc(36,Te,2,0,"th",10),t.YNc(37,ve,4,5,"td",11),t.BQk(),t.ynx(38,14),t.YNc(39,ye,2,0,"th",10),t.YNc(40,xe,3,3,"td",11),t.BQk(),t.ynx(41,15),t.YNc(42,Ie,2,0,"th",10),t.YNc(43,be,2,1,"td",16),t.BQk(),t.ynx(44,17),t.YNc(45,Ae,2,0,"th",10),t.YNc(46,qe,3,3,"td",11),t.BQk(),t.ynx(47,18),t.YNc(48,ke,2,0,"th",10),t.YNc(49,we,4,1,"td",11),t.BQk(),t.YNc(50,Ue,1,0,"tr",19),t.YNc(51,Se,1,0,"tr",20),t.qZA(),t._UZ(52,"mat-paginator",21)(53,"hr"),t.YNc(54,Pe,8,4,"div",22),t.YNc(55,Ye,6,2,"div",23),t.qZA()),2&e&&(t.xp6(12),t.Q6J("ngForOf",n.influencers),t.xp6(7),t.Q6J("ngForOf",n.campaigns),t.xp6(7),t.Q6J("ngForOf",n.contacts),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("length",null==n.dataSource?null:n.dataSource.data.length)("pageSize",15)("pageSizeOptions",t.DdM(12,Le)),t.xp6(2),t.Q6J("ngIf",n.package),t.xp6(1),t.Q6J("ngIf",n.single))},dependencies:[u.sg,u.O5,f.KE,f.hX,v.Hw,Y.gD,L.ey,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,u.Ov,u.gd,u.uU,ue.z,k],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});let Re=Z.m;const Qe=[{path:"viewBrief/:id",children:[{path:"",loadChildren:()=>r.e(757).then(r.bind(r,9757)).then(o=>o.ViewBriefModule)}]},{path:"edit",children:[{path:"",loadChildren:()=>Promise.all([r.e(765),r.e(592),r.e(83)]).then(r.bind(r,5083)).then(o=>o.EditModule)}]},{path:"tasks/:id",component:y},{path:"logs",component:N},{path:"influencerRating/:id",component:I},{path:"new",children:[{path:"",loadChildren:()=>r.e(765).then(r.bind(r,9765)).then(o=>o.CreateModule)}]},{path:"head",children:[{path:"",loadChildren:()=>Promise.all([r.e(592),r.e(50)]).then(r.bind(r,50)).then(o=>o.HeadOfTalentModule)}]},{path:"",redirectTo:`${Re.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[g.Bz.forChild(Qe),g.Bz]});var Fe=r(8519),Me=r(1474),Je=r(6534),Be=r(3305);class C{}C.\u0275fac=function(e){return new(e||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[u.ez,h,Fe.q,a.UX,a.u5,Me.JF,Je.SharingModule,d.Is,Be.To]})}}]);