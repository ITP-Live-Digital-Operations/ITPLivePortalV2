"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[814],{4814:(oe,R,a)=>{a.r(R),a.d(R,{TalentModule:()=>h});var p=a(6814),f=a(1896),d=a(3365),u=a(3566),r=a(5313),y=a(5753),t=a(5879),D=a(9554),Y=a(1921),A=a(3934),I=a(617);function q(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Deadline"),t.qZA())}function b(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.deadline)," ")}}function Q(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Status"),t.qZA())}function w(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.status)}}function O(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Weight"),t.qZA())}function P(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.weight)}}function L(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Created On"),t.qZA())}function M(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.createdAt)," ")}}function F(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Progress"),t.qZA())}function B(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.progress)}}function J(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Viewed"),t.qZA())}function H(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1," Yes "),t.qZA())}function G(n,e){1&n&&(t.TgZ(0,"span"),t._uU(1," No "),t.qZA())}function $(n,e){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,H,2,0,"span",19),t.YNc(2,G,2,0,"span",19),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Q6J("ngIf",i.ViewedByTalent>0),t.xp6(1),t.Q6J("ngIf",i.ViewedByTalent<1)}}function z(n,e){1&n&&(t.TgZ(0,"th",17),t._uU(1,"Priority"),t.qZA())}function E(n,e){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.priority)}}function j(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1,"View"),t.qZA())}function K(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"td",18)(1,"button",21),t.NdJ("click",function(){const s=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.viewedTask(s.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove_red_eye"),t.qZA()()()}}function V(n,e){1&n&&t._UZ(0,"tr",22)}function W(n,e){1&n&&t._UZ(0,"tr",23)}const X=function(){return[3,5,10,25,100]};class _{constructor(e,i,o,l,s){this.salesService=e,this.route=i,this.taskService=o,this.userService=l,this.activatedRoute=s,this.path=y.m,this.displayedColumns=["deadline","status","weight","createdAt","progress","priority","Action"],this.privilegeLevel=this.userService.getPrivilegeLevel()}ngOnInit(){this.privilegeLevel<7?(this.userID=this.userService.getID(),this.getMyTasks(this.userID)):this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.taskService.getMyTasks(this.id).subscribe(i=>{this.dataSource=i.data})})}getMyTasks(e){this.taskService.getMyTasks(e).subscribe(i=>{this.briefDetails=i,this.dataSource=new r.by(this.briefDetails.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewedTask(e){this.privilegeLevel<7&&this.taskService.updateStatus({assigned_to:this.userID,id:e}).subscribe(i=>{}),this.salesService.getSalesBriefIdbyTaskId(e).subscribe(i=>{this.route.navigate([`${this.path.viewBrief+i.data.brief_id}`])})}}_.\u0275fac=function(e){return new(e||_)(t.Y36(D.M),t.Y36(f.F0),t.Y36(Y.M),t.Y36(A.K),t.Y36(f.gz))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-person-tasks"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.NW,5),t.Gf(u.YE,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:30,vars:8,consts:[[2,"position","relative"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","deadline"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","weight"],["matColumnDef","createdAt"],["matColumnDef","progress"],["matColumnDef","ViewedByTalent"],["matColumnDef","priority"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell",""],[1,"icon-btn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2),t.ynx(3,3),t.YNc(4,q,2,0,"th",4),t.YNc(5,b,3,3,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,Q,2,0,"th",4),t.YNc(8,w,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,O,2,0,"th",4),t.YNc(11,P,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,L,2,0,"th",4),t.YNc(14,M,3,3,"td",5),t.BQk(),t.ynx(15,9),t.YNc(16,F,2,0,"th",4),t.YNc(17,B,2,1,"td",5),t.BQk(),t.ynx(18,10),t.YNc(19,J,2,0,"th",4),t.YNc(20,$,3,2,"td",5),t.BQk(),t.ynx(21,11),t.YNc(22,z,2,0,"th",4),t.YNc(23,E,2,1,"td",5),t.BQk(),t.ynx(24,12),t.YNc(25,j,2,0,"th",13),t.YNc(26,K,4,0,"td",5),t.BQk(),t.YNc(27,V,1,0,"tr",14),t.YNc(28,W,1,0,"tr",15),t.qZA(),t._UZ(29,"mat-paginator",16),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",10)("pageSizeOptions",t.DdM(7,X)))},dependencies:[p.O5,I.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.NW,u.YE,u.nU,p.uU],styles:[".warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:1%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-top:1px solid black;cursor:pointer}"]});var c=a(6223),N=a(9229),S=a(96),U=a(2032),v=a(4170),k=a(2296);const tt=["star"];function et(n,e){if(1&n){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",2,3),t.NdJ("click",function(){const s=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onClick(s))})("mouseenter",function(){const s=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHover(s))})("mouseleave",function(){const s=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHoverOut(s))}),t.TgZ(3,"mat-icon"),t._uU(4,"star_rate"),t.qZA()(),t.BQk()}if(2&n){const i=e.$implicit,o=t.oxw();t.xp6(1),t.ekj("active",i<=o._rating)}}function nt(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){t.CHM(i);const l=t.oxw();return t.KtG(l._clear())}),t._uU(1),t.qZA()}2&n&&(t.xp6(1),t.hij("","Clear","\n"))}const it=function(){return[1,2,3,4,5]};class C{constructor(){this.onClick=new t.vpe,this.onView=new t.vpe}_onClick(e){this._rating=e,this.onClick.emit(e)}_clear(){this._rating=0,this.onClick.emit()}_onHover(e){this.startItems.forEach((i,o)=>{o+1<=e&&(!this._rating||o+1>this._rating)&&i.nativeElement.classList.add("active")})}_onHoverOut(e){this.startItems.forEach((i,o)=>{o+1<=e&&(!this._rating||o+1>this._rating)&&i.nativeElement.classList.remove("active")})}}function ot(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Response Rate"),t.qZA())}function at(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.responseRate)}}function rt(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Content Quality"),t.qZA())}function lt(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.contentQuality)}}function st(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Creativity"),t.qZA())}function ct(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.creativity)}}function mt(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Flexibility"),t.qZA())}function ut(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.flexibility)}}function pt(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1," Campaign Performance "),t.qZA())}function ft(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.campaignPerformance," ")}}function dt(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Notes"),t.qZA())}function gt(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.notes)}}function ht(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Reviewed By"),t.qZA())}function _t(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.userID.name)}}function Ct(n,e){1&n&&(t.TgZ(0,"th",24),t._uU(1,"Date"),t.qZA())}function Tt(n,e){if(1&n&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.createdAt))}}function Zt(n,e){1&n&&t._UZ(0,"tr",26)}function vt(n,e){1&n&&t._UZ(0,"tr",27)}C.\u0275fac=function(e){return new(e||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-star-rating"]],viewQuery:function(e,i){if(1&e&&t.Gf(tt,5),2&e){let o;t.iGM(o=t.CRH())&&(i.startItems=o)}},hostAttrs:[1,"m-star-rating"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("readonly",i.readonly)},inputs:{rating:"rating",readonly:"readonly"},outputs:{onClick:"onClick",onView:"onView"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["class","m-star-rating-clear",3,"click",4,"ngIf"],[1,"m-star-rating-item",3,"click","mouseenter","mouseleave"],["star",""],[1,"m-star-rating-clear",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,et,5,2,"ng-container",0),t.YNc(1,nt,2,1,"div",1)),2&e&&(t.Q6J("ngForOf",t.DdM(2,it)),t.xp6(1),t.Q6J("ngIf",!i.readonly&&i._rating))},dependencies:[p.sg,p.O5,I.Hw],styles:[".m-star-rating{display:flex;align-items:flex-end}.m-star-rating:not(.readonly) .m-star-rating-item{cursor:pointer;transition:all .15s ease-out}.m-star-rating:not(.readonly) .m-star-rating-item:hover{color:#4789a1}.m-star-rating-clear{font-size:14px;font-weight:500;color:gray;cursor:pointer}.m-star-rating-clear:hover{color:#000}.m-star-rating-item{padding-right:5px;color:gray;display:flex}.m-star-rating-item.active{color:#4789a1}\n"],encapsulation:2});const xt=function(){return[3,5,10,25,100]};class T{constructor(e,i,o,l,s){this.formBuilder=e,this.route=i,this.userService=o,this.toastrService=l,this.influencerService=s,this.displayedColumns=["responseRate","contentQuality","creativity","flexibility","campaignPerformance","notes","name","createdAt"],this.influencerForm=this.formBuilder.group({responseRate:["",c.kI.required],contentQuality:["",c.kI.required],creativity:["",c.kI.required],flexibility:["",c.kI.required],campaignPerformance:["",c.kI.required],notes:["",c.kI.maxLength(500)]})}ngOnInit(){this.influencerID=this.route.snapshot.paramMap.get("id"),this.GetInfluencerRatings(this.influencerID)}GetInfluencerRatings(e){this.influencerService.getInfluencerRatings(e).subscribe(i=>{this.influenceRatings=i,this.dataSource=new r.by(this.influenceRatings.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}onRatingClicked(e,i){const o=parseInt(e.target.dataset.rating,10);this.influencerForm.controls[i].setValue(o)}onSubmit(){this.influencerService.createInfluencerRating({influencer_id:this.influencerID,createdBy_id:this.userService.getID(),...this.influencerForm.value}).subscribe(e=>{this.data=e,"success"==this.data.status&&this.toastrService.success("Rating Added Successfully!")})}handleClickResponseRate(e){this.influencerForm.controls.responseRate.setValue(e)}handleClickContentQuality(e){this.influencerForm.controls.contentQuality.setValue(e)}handleClickCreativity(e){this.influencerForm.controls.creativity.setValue(e)}handleClickFlexibility(e){this.influencerForm.controls.flexibility.setValue(e)}handleClickCampaignPerformance(e){this.influencerForm.controls.campaignPerformance.setValue(e)}}T.\u0275fac=function(e){return new(e||T)(t.Y36(c.qu),t.Y36(f.gz),t.Y36(A.K),t.Y36(N._W),t.Y36(S.N))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-influencer-rating"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.NW,5),t.Gf(u.YE,7),t.Gf(r.BZ,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first),t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:81,vars:11,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"table"],[1,"star-rating"],[3,"onClick"],["formControlName","notes","matInput","","placeholder","Notes"],["align","end"],["mat-raised-button","","type","submit",2,"margin-top","2%",3,"disabled"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","responseRate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contentQuality"],["matColumnDef","creativity"],["matColumnDef","flexibility"],["matColumnDef","campaignPerformance"],["matColumnDef","notes"],["matColumnDef","name"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"h2"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Field"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Rating"),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td"),t._uU(13,"Response Rate"),t.qZA(),t.TgZ(14,"td")(15,"span",3)(16,"app-star-rating",4),t.NdJ("onClick",function(l){return i.handleClickResponseRate(l)}),t.qZA()()()(),t.TgZ(17,"tr")(18,"td"),t._uU(19,"Content Quality"),t.qZA(),t.TgZ(20,"td")(21,"span",3)(22,"app-star-rating",4),t.NdJ("onClick",function(l){return i.handleClickContentQuality(l)}),t.qZA()()()(),t.TgZ(23,"tr")(24,"td"),t._uU(25,"Creativity"),t.qZA(),t.TgZ(26,"td")(27,"span",3)(28,"app-star-rating",4),t.NdJ("onClick",function(l){return i.handleClickCreativity(l)}),t.qZA()()()(),t.TgZ(29,"tr")(30,"td"),t._uU(31,"Flexibility"),t.qZA(),t.TgZ(32,"td")(33,"span",3)(34,"app-star-rating",4),t.NdJ("onClick",function(l){return i.handleClickFlexibility(l)}),t.qZA()()()(),t.TgZ(35,"tr")(36,"td"),t._uU(37,"Campaign Performance"),t.qZA(),t.TgZ(38,"td")(39,"span",3)(40,"app-star-rating",4),t.NdJ("onClick",function(l){return i.handleClickCampaignPerformance(l)}),t.qZA()()()(),t.TgZ(41,"tr")(42,"td"),t._uU(43,"Notes"),t.qZA(),t.TgZ(44,"td")(45,"mat-form-field"),t._UZ(46,"textarea",5),t.TgZ(47,"mat-hint",6),t._uU(48),t.qZA()()()(),t.TgZ(49,"button",7),t._uU(50," Submit "),t.qZA()()()()(),t.TgZ(51,"div",8)(52,"table",9,10),t.ynx(54,11),t.YNc(55,ot,2,0,"th",12),t.YNc(56,at,2,1,"td",13),t.BQk(),t.ynx(57,14),t.YNc(58,rt,2,0,"th",12),t.YNc(59,lt,2,1,"td",13),t.BQk(),t.ynx(60,15),t.YNc(61,st,2,0,"th",12),t.YNc(62,ct,2,1,"td",13),t.BQk(),t.ynx(63,16),t.YNc(64,mt,2,0,"th",12),t.YNc(65,ut,2,1,"td",13),t.BQk(),t.ynx(66,17),t.YNc(67,pt,2,0,"th",12),t.YNc(68,ft,2,1,"td",13),t.BQk(),t.ynx(69,18),t.YNc(70,dt,2,0,"th",12),t.YNc(71,gt,2,1,"td",13),t.BQk(),t.ynx(72,19),t.YNc(73,ht,2,0,"th",12),t.YNc(74,_t,2,1,"td",13),t.BQk(),t.ynx(75,20),t.YNc(76,Ct,2,0,"th",12),t.YNc(77,Tt,3,3,"td",13),t.BQk(),t.YNc(78,Zt,1,0,"tr",21),t.YNc(79,vt,1,0,"tr",22),t.qZA(),t._UZ(80,"mat-paginator",23),t.qZA()),2&e){let o;t.xp6(2),t.Q6J("formGroup",i.influencerForm),t.xp6(46),t.hij("",(null==(o=i.influencerForm.get("notes"))||null==o.value?null:o.value.length)||0,"/500"),t.xp6(1),t.Q6J("disabled",i.influencerForm.invalid),t.xp6(3),t.Q6J("dataSource",i.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",5)("pageSizeOptions",t.DdM(10,xt))}},dependencies:[U.Nt,v.KE,v.bx,k.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.NW,u.YE,u.nU,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,C,p.uU]});var yt=a(8074),At=a(3762),It=a(8525),Rt=a(3680),x=a(3305);function Nt(n,e){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i.name),t.xp6(1),t.Oqu(i.name)}}function St(n,e){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}function Ut(n,e){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i.name)}}function kt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Influencer"),t.qZA())}function Dt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Influencer)}}function Yt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Campaign"),t.qZA())}function qt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Campaign)}}function bt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Platform"),t.qZA())}function Qt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Platform)}}function wt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Deliverable"),t.qZA())}function Ot(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Deliverable)}}function Pt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Currency"),t.qZA())}function Lt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Currency)}}function Mt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Rate"),t.qZA())}function Ft(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Rate)}}function Bt(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Talent"),t.qZA())}function Jt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Contact)}}function Ht(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Date"),t.qZA())}function Gt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.Date)}}function $t(n,e){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Action"),t.qZA())}function zt(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"td",31)(1,"button",33),t.NdJ("click",function(){const s=t.CHM(i).$implicit,m=t.oxw(2);return t.KtG(m.deleteLog(s.id))}),t._uU(2,"Delete"),t.qZA()()}}function Et(n,e){1&n&&(t.ynx(0,32),t.YNc(1,$t,2,0,"th",16),t.YNc(2,zt,3,0,"td",17),t.BQk())}function jt(n,e){1&n&&t._UZ(0,"tr",34)}function Kt(n,e){1&n&&t._UZ(0,"tr",35)}const Vt=function(){return[3,5,10,25,100]};class Z{constructor(e,i,o,l,s){this.service=e,this.influencerService=i,this.userService=o,this.toastrService=l,this.dialogService=s,this.campaigns=[],this.userRole=this.userService.getRole(),this.path=y.m,this.displayedColumns=["Influencer","Campaign","Platform","Deliverable","Currency","Rate","Talent","Date"]}ngAfterViewInit(){this.extractColumnData()}ngOnInit(){this.GetAllLogs(),this.GetInfluencerNames(),this.GetUserNames(),"superadmin"==this.userRole&&this.displayedColumns.push("Action")}extractColumnData(){const e=this.table._data;for(let i=0;i<e?.length;i++){const o=e[i];this.campaigns.push(o.Campaign)}}GetAllLogs(){this.service.getAllLogs().subscribe(e=>{this.UserDetails=e,this.dataSource=new r.by(this.UserDetails),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}GetInfluencerNames(){this.influencerService.getInfluencerNames().subscribe(e=>{this.influencers=e})}GetUserNames(){this.userService.getTalentUserIdNames().subscribe(e=>{this.talentUserNames=e})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}applyFilter1(e){e||(e=""),this.dataSource.filterPredicate=(i,o)=>i.Influencer.trim().toLowerCase()===o,this.dataSource.filter=e.trim().toLowerCase()}applyFilter2(e){e||(e=""),this.dataSource.filterPredicate=(i,o)=>i.Campaign.trim().toLowerCase()===o,this.dataSource.filter=e.trim().toLowerCase()}applyFilter3(e){e||(e=""),this.dataSource.filterPredicate=(i,o)=>i.Campaign.trim().toLowerCase()===o,this.dataSource.filter=e.trim().toLowerCase()}deleteLog(e){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to delete?").subscribe(i=>{!0===i&&(this.toastrService.success("Deleted Successfully!"),this.service.deleteLog(e).subscribe(o=>{this.GetAllLogs()}))})}}Z.\u0275fac=function(e){return new(e||Z)(t.Y36(yt.$),t.Y36(S.N),t.Y36(A.K),t.Y36(N._W),t.Y36(At.O))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-influencer-logs"]],viewQuery:function(e,i){if(1&e&&(t.Gf(d.NW,5),t.Gf(u.YE,7),t.Gf(r.BZ,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first),t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:68,vars:13,consts:[[1,"form-container"],[2,"position","relative"],[2,"width","100%","height","10%","margin-left","0px"],["matInput","","placeholder","\u{1f50d} Search",3,"keyup"],["searchInput",""],[1,"search-container"],["placeholder","Influencer Filter",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Campaign Filter",3,"selectionChange"],["placeholder","Contact Filter",3,"selectionChange"],["mat-raised-button","",2,"width","15%","padding","25px 5px","margin-bottom","10px","margin-left","auto",3,"routerLink"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","Influencer"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Campaign"],["matColumnDef","Platform"],["matColumnDef","Deliverable"],["matColumnDef","Currency"],["matColumnDef","Rate"],["matColumnDef","Talent"],["matColumnDef","Date"],["matColumnDef","Action",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["matColumnDef","Action"],["mat-raised-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"mat-form-field",2)(4,"input",3,4),t.NdJ("keyup",function(){t.CHM(o);const s=t.MAs(5);return t.KtG(i.applyFilter(s.value))}),t.qZA()(),t.TgZ(6,"div",5)(7,"mat-expansion-panel")(8,"mat-expansion-panel-header")(9,"mat-panel-title")(10,"mat-icon"),t._uU(11,"filter_list"),t.qZA()()(),t.TgZ(12,"mat-form-field")(13,"mat-label"),t._uU(14," Influencer Filter"),t.qZA(),t.TgZ(15,"mat-select",6),t.NdJ("selectionChange",function(s){return i.applyFilter1(s.value)}),t.TgZ(16,"mat-option",7),t._uU(17,"All"),t.qZA(),t.YNc(18,Nt,2,2,"mat-option",8),t.qZA()(),t.TgZ(19,"mat-form-field")(20,"mat-label"),t._uU(21," Campaign Filter "),t.qZA(),t.TgZ(22,"mat-select",9),t.NdJ("selectionChange",function(s){return i.applyFilter2(s.value)}),t.TgZ(23,"mat-option",7),t._uU(24,"All"),t.qZA(),t.YNc(25,St,2,2,"mat-option",8),t.qZA()(),t.TgZ(26,"mat-form-field")(27,"mat-label"),t._uU(28," Contact Filter "),t.qZA(),t.TgZ(29,"mat-select",10),t.NdJ("selectionChange",function(s){return i.applyFilter3(s.value)}),t.TgZ(30,"mat-option",7),t._uU(31,"All"),t.qZA(),t.YNc(32,Ut,2,2,"mat-option",8),t.qZA()()(),t.TgZ(33,"button",11)(34,"mat-icon"),t._uU(35,"add_circle_outline"),t.qZA(),t._uU(36," New Rate Log "),t.qZA()(),t.TgZ(37,"div",12)(38,"table",13,14),t.ynx(40,15),t.YNc(41,kt,2,0,"th",16),t.YNc(42,Dt,2,1,"td",17),t.BQk(),t.ynx(43,18),t.YNc(44,Yt,2,0,"th",16),t.YNc(45,qt,2,1,"td",17),t.BQk(),t.ynx(46,19),t.YNc(47,bt,2,0,"th",16),t.YNc(48,Qt,2,1,"td",17),t.BQk(),t.ynx(49,20),t.YNc(50,wt,2,0,"th",16),t.YNc(51,Ot,2,1,"td",17),t.BQk(),t.ynx(52,21),t.YNc(53,Pt,2,0,"th",16),t.YNc(54,Lt,2,1,"td",17),t.BQk(),t.ynx(55,22),t.YNc(56,Mt,2,0,"th",16),t.YNc(57,Ft,2,1,"td",17),t.BQk(),t.ynx(58,23),t.YNc(59,Bt,2,0,"th",16),t.YNc(60,Jt,2,1,"td",17),t.BQk(),t.ynx(61,24),t.YNc(62,Ht,2,0,"th",16),t.YNc(63,Gt,2,1,"td",17),t.BQk(),t.YNc(64,Et,3,0,"ng-container",25),t.YNc(65,jt,1,0,"tr",26),t.YNc(66,Kt,1,0,"tr",27),t.qZA()(),t._UZ(67,"mat-paginator",28),t.qZA()()()}2&e&&(t.xp6(18),t.Q6J("ngForOf",i.influencers),t.xp6(7),t.Q6J("ngForOf",i.campaigns),t.xp6(7),t.Q6J("ngForOf",i.talentUserNames),t.xp6(1),t.s9C("routerLink",i.path.newRateLog),t.xp6(5),t.Q6J("dataSource",i.dataSource),t.xp6(26),t.Q6J("ngIf","superadmin"==i.userRole),t.xp6(1),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",5)("pageSizeOptions",t.DdM(12,Vt)))},dependencies:[p.sg,p.O5,f.rH,U.Nt,v.KE,v.hX,k.lW,I.Hw,It.gD,Rt.ey,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,d.NW,u.YE,u.nU,x.ib,x.yz,x.yK],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden}.searchInput[_ngcontent-%COMP%]{color:#fff!important}.matInput[_ngcontent-%COMP%]{color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;left:0;right:0;z-index:1;position:sticky}.mat-expansion-panel[_ngcontent-%COMP%]{margin-top:12px;background-color:transparent;border-radius:0;box-shadow:0 0}.mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid white;background-color:#2c393f;width:min-content;margin-bottom:10px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#fff}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media (max-width: 1440px),(max-height: 900px){.mat-mdc-raised-button[_ngcontent-%COMP%]{font-size:11px}}"]});let Wt=y.m;const Xt=[{path:"viewBrief/:id",children:[{path:"",loadChildren:()=>a.e(757).then(a.bind(a,9757)).then(n=>n.ViewBriefModule)}]},{path:"edit",children:[{path:"",loadChildren:()=>Promise.all([a.e(765),a.e(592),a.e(83)]).then(a.bind(a,5083)).then(n=>n.EditModule)}]},{path:"tasks/:id",component:_},{path:"logs",component:Z},{path:"influencerRating/:id",component:T},{path:"new",children:[{path:"",loadChildren:()=>a.e(765).then(a.bind(a,9765)).then(n=>n.CreateModule)}]},{path:"head",children:[{path:"",loadChildren:()=>Promise.all([a.e(592),a.e(949)]).then(a.bind(a,6949)).then(n=>n.HeadOfTalentModule)}]},{path:"",redirectTo:`${Wt.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class g{}g.\u0275fac=function(e){return new(e||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[f.Bz.forChild(Xt),f.Bz]});var te=a(8519),ee=a(1474),ne=a(9637),ie=a(9347);class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[p.ez,g,te.q,c.UX,c.u5,ee.JF,ne.SharingModule,ie.Is,x.To]})}}]);