"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[854],{1213:(O,g,i)=>{i.d(g,{K$:()=>c,KY:()=>r,yE:()=>d});const c=["sales","talent","campaign"],r=["1","2","3","4","5","6","7","8","9","10"],d={SALES:1,TALENT:2,CAMPAIGN:3}},3762:(O,g,i)=>{i.d(g,{O:()=>u});var c=i(9347),r=i(5879),d=i(2296);class t{constructor(l,p){this.dialogRef=l,this.data=p}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}}t.\u0275fac=function(l){return new(l||t)(r.Y36(c.so),r.Y36(c.WI))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-confirmation-dialog"]],decls:10,vars:2,consts:[[1,"confirmation-dialog"],[1,"space"],["mat-raised-button","","color","transparent",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(l,p){1&l&&(r.TgZ(0,"div",0)(1,"h1"),r._uU(2),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.TgZ(5,"div",1)(6,"button",2),r.NdJ("click",function(){return p.onCancel()}),r._uU(7,"Cancel"),r.qZA(),r.TgZ(8,"button",3),r.NdJ("click",function(){return p.onConfirm()}),r._uU(9,"Delete"),r.qZA()()()),2&l&&(r.xp6(2),r.Oqu(p.data.title),r.xp6(2),r.Oqu(p.data.message))},dependencies:[d.lW],styles:[".confirmation-dialog[_ngcontent-%COMP%]{background-color:#4789a1;padding-top:20%;width:100%;height:100%;color:#fff;text-align:center;border-radius:15px;font-size:20px}.space[_ngcontent-%COMP%]{padding-top:5%;display:flex;gap:50px;text-align:center;justify-content:center}.mat-raised-button[_ngcontent-%COMP%]{cursor:pointer}"]});class u{constructor(l){this.dialog=l}openConfirmationDialog(l,p){return this.dialog.open(t,{data:{title:l,message:p},width:"400px",height:"300px"}).afterClosed()}}u.\u0275fac=function(l){return new(l||u)(r.LFG(c.uw))},u.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})},8854:(O,g,i)=>{i.r(g),i.d(g,{AdminModule:()=>v});var c=i(6814),r=i(1896),d=i(1213),t=i(5879),u=i(3934),a=i(6223),l=i(9229),p=i(3762),h=i(2032),f=i(4170),T=i(2296),w=i(8525),q=i(3680);function N(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a name. "),t.qZA())}function S(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email. "),t.qZA())}function M(n,e){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function k(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid role. "),t.qZA())}function Y(n,e){if(1&n&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function F(n,e){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid level. "),t.qZA())}function I(n,e){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(o);const C=t.oxw();return t.KtG(C.updateUser())}),t.TgZ(3,"h2"),t._uU(4),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,N,2,0,"mat-error",0),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"Email"),t.qZA(),t._UZ(16,"input",7),t.YNc(17,S,2,0,"mat-error",0),t.qZA()(),t.TgZ(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),t._uU(21,"Role "),t.qZA(),t.TgZ(22,"mat-select",8),t.YNc(23,M,2,2,"mat-option",9),t.qZA(),t.YNc(24,k,2,0,"mat-error",0),t.qZA(),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"Privelege Level"),t.qZA(),t.TgZ(28,"mat-select",10),t.YNc(29,Y,2,2,"mat-option",9),t.qZA(),t.YNc(30,F,2,0,"mat-error",0),t.qZA()(),t.TgZ(31,"button",11),t._uU(32," Edit User "),t.qZA()()(),t.BQk()}if(2&n){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.updateUserForm),t.xp6(2),t.hij("User Id : ",o.user.id,""),t.xp6(2),t.hij("Privilege level : ",o.user.privilege_level,""),t.xp6(6),t.Q6J("ngIf",o.updateUserForm.controls.name.invalid&&o.updateUserForm.controls.name.touched),t.xp6(5),t.Q6J("ngIf",o.updateUserForm.controls.email.invalid&&o.updateUserForm.controls.email.touched),t.xp6(6),t.Q6J("ngForOf",o.roles),t.xp6(1),t.Q6J("ngIf",o.updateUserForm.controls.role.invalid&&o.updateUserForm.controls.role.touched),t.xp6(5),t.Q6J("ngForOf",o.privilege_level),t.xp6(1),t.Q6J("ngIf",o.updateUserForm.controls.privilege_level.invalid&&o.updateUserForm.controls.privilege_level.touched),t.xp6(1),t.Q6J("disabled",!o.updateUserForm.valid)}}class U{constructor(e,o,s,C,y){this.activatedRoute=e,this.userService=o,this.formBuilder=s,this.toastrService=C,this.dialogService=y,this.roles=d.K$,this.privilege_level=d.KY,this.updateUserForm=this.formBuilder.group({name:[""],email:[""],role:[""],privilege_level:[""]})}ngOnInit(){this.loadUserData()}loadUserData(){this.activatedRoute.params.subscribe(e=>{this.userID=e.id}),this.userService.getUserByID(this.userID).subscribe(e=>{this.user=e,null!=this.user&&(this.updateUserForm=this.formBuilder.group({name:[this.user.name],email:[this.user.email],role:[this.user.role],privilege_level:[this.privilege_level]}))})}updateUser(){this.userService.updateUser(this.updateUserForm.value,this.userID).subscribe(e=>{this.data=e,"success"===this.data.status?(this.toastrService.success("Influencer updated successfully!"),window.location.reload()):this.toastrService.error("Influencer was not updated!")})}resetCount(e){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to reset coount?").subscribe(o=>{!0===o&&this.userService.resetCount(e).subscribe(s=>{this.toastrService.success("Count Reset Successfully!")})})}resetPassword(e){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to reset password?").subscribe(o=>{!0===o&&this.userService.resetPassword(e).subscribe(s=>{this.toastrService.success("Password Reset Successfully!")})})}}U.\u0275fac=function(e){return new(e||U)(t.Y36(r.gz),t.Y36(u.K),t.Y36(a.qu),t.Y36(l._W),t.Y36(p.O))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-edit-user"]],decls:7,vars:1,consts:[[4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"form-container"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline"],["matInput","","type","text","formControlName","name","autocomplete","off","required",""],["matInput","","type","email","formControlName","email","autocomplete","off","required",""],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","privilege_level"],["mat-raised-button","","color","primary","type","submit",2,"margin-bottom","2%",3,"disabled"],[3,"value"]],template:function(e,o){1&e&&(t.YNc(0,I,33,10,"ng-container",0),t.TgZ(1,"div")(2,"button",1),t.NdJ("click",function(){return o.resetCount(o.user.id)}),t._uU(3," Reset Count for user "),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.resetPassword(o.user.id)}),t._uU(6," Reset Password for user "),t.qZA()()),2&e&&t.Q6J("ngIf",o.user)},dependencies:[c.sg,c.O5,h.Nt,f.KE,f.hX,f.TO,T.lW,w.gD,q.ey,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:15%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}h2[_ngcontent-%COMP%]{color:#000!important}h3[_ngcontent-%COMP%]{color:#000}"]});var x=i(5753);function J(n,e){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function D(n,e){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function L(n,e){if(1&n&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.Q6J("value",o.id),t.xp6(1),t.Oqu(o.name)}}class Z{constructor(e,o,s,C){this.formBuilder=e,this.userService=o,this.router=s,this.toastrService=C,this.path=x.m,this.roles=d.K$,this.privilege_level=d.KY,this.userForm=this.formBuilder.group({name:["",a.kI.required],email:["",[a.kI.required,a.kI.email]],password:["",a.kI.required],role:["",a.kI.required],privilege_level:["",a.kI.required],parentId:[""]})}ngOnInit(){this.userService.getAllUsers().subscribe(e=>{this.users=e})}onSubmit(){this.userForm.valid?(this.userService.register({...this.userForm.value,status:"Active"}).subscribe(e=>{this.data=e,"successs"==this.data.status&&this.toastrService.success("User added successfully!")}),this.router.navigate([this.path.forms])):this.toastrService.warning("User was not added!")}}Z.\u0275fac=function(e){return new(e||Z)(t.Y36(a.qu),t.Y36(u.K),t.Y36(r.F0),t.Y36(l._W))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-register-user"]],decls:42,vars:4,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","email","required",""],["matInput","","formControlName","password","type","password","required",""],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","privilege_level","required",""],["formControlName","parentId"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","type","button",3,"click"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",4),t.TgZ(7,"mat-error"),t._uU(8,"Please enter a name"),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-error"),t._uU(14,"Please enter a valid email address"),t.qZA()(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Password"),t.qZA(),t._UZ(18,"input",6),t.TgZ(19,"mat-error"),t._uU(20,"Please enter a password"),t.qZA()()(),t.TgZ(21,"div",2)(22,"mat-form-field",3)(23,"mat-label"),t._uU(24,"Role"),t.qZA(),t.TgZ(25,"mat-select",7),t.YNc(26,J,2,2,"mat-option",8),t.qZA()(),t.TgZ(27,"mat-form-field",3)(28,"mat-label"),t._uU(29,"Privelege Level"),t.qZA(),t.TgZ(30,"mat-select",9),t.YNc(31,D,2,2,"mat-option",8),t.qZA()(),t.TgZ(32,"mat-form-field",3)(33,"mat-label"),t._uU(34,"Parent ID"),t.qZA(),t.TgZ(35,"mat-select",10),t.YNc(36,L,2,2,"mat-option",8),t.qZA()()(),t.TgZ(37,"div",11)(38,"button",12),t._uU(39,"Register"),t.qZA(),t.TgZ(40,"button",13),t.NdJ("click",function(){return o.userForm.reset()}),t._uU(41," Reset "),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",o.userForm),t.xp6(25),t.Q6J("ngForOf",o.roles),t.xp6(5),t.Q6J("ngForOf",o.privilege_level),t.xp6(5),t.Q6J("ngForOf",o.users))},dependencies:[c.sg,h.Nt,f.KE,f.hX,f.TO,T.lW,w.gD,q.ey,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u],styles:[".form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}h2[_ngcontent-%COMP%]{color:#000!important;justify-content:center;align-items:center;font-size:200%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}button[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});var P=i(3365),A=i(3566),m=i(5313),R=i(617);function Q(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1,"ID"),t.qZA())}function E(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o.id)}}function B(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Name"),t.qZA())}function G(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o.name)}}function $(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Email"),t.qZA())}function z(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o.email)}}function K(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Role"),t.qZA())}function j(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o.role)}}function H(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1," Privilege Level "),t.qZA())}function W(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.hij(" ",o.privilege_level," ")}}function X(n,e){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Login Count"),t.qZA())}function V(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const o=e.$implicit;t.xp6(1),t.Oqu(o.loginCount)}}function tt(n,e){1&n&&t._UZ(0,"tr",23)}function et(n,e){if(1&n&&t._UZ(0,"tr",24),2&n){const o=e.$implicit,s=t.oxw();t.s9C("routerLink",s.path.editUser+o.id)}}const ot=function(){return[3,5,10,25,100]};class b{constructor(e){this.userService=e,this.path=x.m,this.displayedColumns=["id","name","email","role","privilege_level","loginCount"]}ngOnInit(){this.getUsers()}getUsers(){this.userService.getAllUsers().subscribe(e=>{this.users=e,this.dataSource=new m.by(this.users),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(e){this.dataSource.filter=e.trim().toLowerCase()}}b.\u0275fac=function(e){return new(e||b)(t.Y36(u.K))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-user-list"]],viewQuery:function(e,o){if(1&e&&(t.Gf(P.NW,5),t.Gf(A.YE,7),t.Gf(m.BZ,5)),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first),t.iGM(s=t.CRH())&&(o.table=s.first)}},decls:34,vars:7,consts:[[1,"form-container"],[2,"position","relative"],[1,"search-container"],["appearance","outline",2,"width","75%","height","10%","padding-left","2%","padding-right","2%"],["matInput","","placeholder","Search",3,"keyup"],["searchInput",""],["mat-raised-button","","color","primary","routerLink","/home/admin/register",1,"back-button",2,"height","3rem","width","10%"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","privilege_level"],["matColumnDef","loginCount"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row","","sticky",""],["mat-row","","sticky","",3,"routerLink"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"input",4,5),t.NdJ("keyup",function(){t.CHM(s);const y=t.MAs(5);return t.KtG(o.applyFilter(y.value))}),t.qZA()(),t.TgZ(6,"button",6)(7,"mat-icon"),t._uU(8,"add_circle_outline"),t.qZA(),t._uU(9," New User "),t.qZA()(),t.TgZ(10,"div",7)(11,"table",8,9),t.ynx(13,10),t.YNc(14,Q,2,0,"th",11),t.YNc(15,E,2,1,"td",12),t.BQk(),t.ynx(16,13),t.YNc(17,B,2,0,"th",11),t.YNc(18,G,2,1,"td",12),t.BQk(),t.ynx(19,14),t.YNc(20,$,2,0,"th",11),t.YNc(21,z,2,1,"td",12),t.BQk(),t.ynx(22,15),t.YNc(23,K,2,0,"th",11),t.YNc(24,j,2,1,"td",12),t.BQk(),t.ynx(25,16),t.YNc(26,H,2,0,"th",11),t.YNc(27,W,2,1,"td",12),t.BQk(),t.ynx(28,17),t.YNc(29,X,2,0,"th",11),t.YNc(30,V,2,1,"td",12),t.BQk(),t.YNc(31,tt,1,0,"tr",18),t.YNc(32,et,1,1,"tr",19),t.qZA(),t._UZ(33,"mat-paginator",20),t.qZA()()()}2&e&&(t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(20),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",15)("pageSizeOptions",t.DdM(6,ot)))},dependencies:[r.rH,h.Nt,f.KE,T.lW,R.Hw,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,P.NW,A.YE,A.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-left:1%;top:5;left:0;right:0;z-index:1;background-color:#fff;position:sticky}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{border-color:currentColor}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]});let nt=x.m;const rt=[{path:"edit/:id",component:U},{path:"register",component:Z},{path:"users",component:b},{path:"",redirectTo:`${nt.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound",pathMatch:"full"}];class _{}_.\u0275fac=function(e){return new(e||_)},_.\u0275mod=t.oAB({type:_}),_.\u0275inj=t.cJS({imports:[r.Bz.forChild(rt),r.Bz]});var it=i(8519),at=i(1670);class v{}v.\u0275fac=function(e){return new(e||v)},v.\u0275mod=t.oAB({type:v}),v.\u0275inj=t.cJS({imports:[c.ez,_,it.q,a.UX,at.SharedModule]})}}]);