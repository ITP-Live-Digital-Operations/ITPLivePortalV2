"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[328],{6916:(lt,C,l)=>{l.r(C),l.d(C,{CampaignModule:()=>m});var d=l(6814),h=l(1896),Z=l(5753),_=l(3365),g=l(3566),c=l(5313),t=l(5879),O=l(3934),N=l(5516),T=l(1474);class s{constructor(e){this.http=e,this.camnpaignApiURL=N.N.apiUrl+"/v1/campaigns"}getCampaigns(){return this.http.get(`${this.camnpaignApiURL}/getCampaigns`)}getCampaignById(e){return this.http.get(`${this.camnpaignApiURL}/getCampaign/${e}`)}}s.\u0275fac=function(e){return new(e||s)(t.LFG(T.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"});var v=l(2032),w=l(4170),P=l(3680),M=l(4630),p=l(6223);function x(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function A(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function V(i,e){if(1&i&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.Q6J("value",n),t.xp6(1),t.hij(" ",n," ")}}function y(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Campaign"),t.qZA())}function b(i,e){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.campaignName," ")}}function S(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Client"),t.qZA())}function U(i,e){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.clientName," ")}}function I(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Market"),t.qZA())}function Y(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.Oqu(n.market)}}function L(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1," Client's Industry "),t.qZA())}function Q(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.Oqu(n.clientIndustry)}}function J(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Influencer"),t.qZA())}function F(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.influencerName," ")}}function D(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Vertical"),t.qZA())}function q(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.influencerVertical," ")}}function B(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Platform"),t.qZA())}function k(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.platform," ")}}function $(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Deliverable"),t.qZA())}function j(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.deliverable," ")}}function R(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"POC"),t.qZA())}function z(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.hij(" ",n.poc," ")}}function G(i,e){1&i&&(t.TgZ(0,"th",29),t._uU(1,"Year"),t.qZA())}function H(i,e){if(1&i&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&i){const n=e.$implicit;t.xp6(1),t.Oqu(n.year)}}function X(i,e){1&i&&t._UZ(0,"tr",32)}function E(i,e){1&i&&t._UZ(0,"tr",33)}const K=function(){return[5,10,25,50,100]};class u{ngOnInit(){this.loadCampaigns(),this.filteredCampaigns=this.campaigns,this.filteredClients=this.clients,this.filteredInfluencers=this.influencers}searchCampaigns(e){e?(this.filteredCampaigns=this.campaigns.filter(n=>n.toLowerCase().includes(e.toLowerCase())),this.filterCampaign(e.toLowerCase())):(this.filteredCampaigns=this.campaigns,this.filterCampaign(e.toLowerCase()))}searchClients(e){e?(this.filteredClients=this.clients.filter(n=>n.toLowerCase().includes(e.toLowerCase())),this.filterClient(e.toLowerCase())):(this.filteredClients=this.clients,this.filterClient(e.toLowerCase()))}searchInfluencers(e){e?(this.filteredInfluencers=this.influencers.filter(n=>n.toLowerCase().includes(e.toLowerCase())),this.filterInfluencer(e.toLowerCase())):(this.filteredInfluencers=this.influencers,this.filterInfluencer(e.toLowerCase()))}onCampaignSelect(e){this.selectedCampaign=e.option.value,this.filterCampaign(this.selectedCampaign.toLowerCase())}onClientSelect(e){this.selectedClient=e.option.value,this.filterClient(this.selectedClient.toLowerCase())}onInfluencerSelect(e){this.selectedInfluencer=e.option.value,this.filterInfluencer(this.selectedInfluencer.toLowerCase())}constructor(e,n){this.userService=e,this.campaignService=n,this.userRole=this.userService.getRole(),this.campaigns=[],this.clients=[],this.influencers=[],this.displayedColumns=["campaignName","clientName","market","clientIndustry","influencerName","influencerVertical","platform","deliverable","poc","year"],this.filterValues={campaignName:"",clientName:"",influencerName:""},this.filteredCampaigns=[],this.filteredClients=[],this.filteredInfluencers=[],this.selectedCampaign="",this.selectedClient="",this.selectedInfluencer=""}loadCampaigns(){this.campaignService.getCampaigns().subscribe(e=>{this.dataSource=new c.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.campaigns=[...new Set(e.map(n=>n.campaignName))].sort(),this.clients=[...new Set(e.map(n=>n.clientName))],this.influencers=[...new Set(e.map(n=>n.influencerName))]})}filterInfluencer(e){this.filterValues.influencerName=e,this.applyFilter(),this.updateFilterOptions()}filterClient(e){this.filterValues.clientName=e,this.applyFilter(),this.updateFilterOptions()}filterCampaign(e){console.log(e),this.filterValues.campaignName=e,this.applyFilter(),this.updateFilterOptions()}applyFilter(){this.dataSource.filterPredicate=(e,n)=>{const a=JSON.parse(n),o=!a.influencerName||e.influencerName.toLowerCase().includes(a.influencerName.toLowerCase()),f=!a.clientName||e.clientName.toLowerCase().includes(a.clientName.toLowerCase()),ot=!a.campaignName||e.campaignName.toLowerCase().includes(a.campaignName.toLowerCase());return o&&f&&ot},this.dataSource.filter=JSON.stringify(this.filterValues)}updateFilterOptions(){const e=this.dataSource.filteredData||[];this.influencers=[...new Set(e.map(n=>n.influencerName))].sort(),this.campaigns=[...new Set(e.map(n=>n.campaignName))].sort(),this.clients=[...new Set(e.map(n=>n.clientName))].sort()}}u.\u0275fac=function(e){return new(e||u)(t.Y36(O.K),t.Y36(s))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-view-campaigns"]],viewQuery:function(e,n){if(1&e&&(t.Gf(_.NW,5),t.Gf(g.YE,5),t.Gf(c.BZ,5)),2&e){let a;t.iGM(a=t.CRH())&&(n.paginator=a.first),t.iGM(a=t.CRH())&&(n.sort=a.first),t.iGM(a=t.CRH())&&(n.table=a.first)}},decls:62,vars:14,consts:[[1,"campaign-button"],[1,"filter-container"],[1,"filter"],["type","text","matInput","",3,"matAutocomplete","ngModel","ngModelChange","input","focus"],[3,"optionSelected"],["autoCampaign","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["autoClient","matAutocomplete"],["value",""],["autoInfluencer","matAutocomplete"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","campaignName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","clientName"],["matColumnDef","market"],["mat-cell","",4,"matCellDef"],["matColumnDef","clientIndustry"],["matColumnDef","influencerName"],["matColumnDef","influencerVertical"],["matColumnDef","platform"],["matColumnDef","deliverable"],["matColumnDef","poc"],["matColumnDef","year"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",4,"matRowDef","matRowDefColumns"],["pageSize","20","showFirstLastButtons","","aria-label","Select page",3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"truncate-text"],["mat-cell",""],["mat-header-row","","sticky",""],["mat-row","","sticky",""]],template:function(e,n){if(1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Campaigns Filter"),t.qZA(),t.TgZ(5,"input",3),t.NdJ("ngModelChange",function(o){return n.selectedCampaign=o})("input",function(o){return n.searchCampaigns(o.target.value)})("focus",function(o){return n.searchCampaigns(o.target.value)}),t.qZA(),t.TgZ(6,"mat-autocomplete",4,5),t.NdJ("optionSelected",function(o){return n.onCampaignSelect(o)}),t.YNc(8,x,2,2,"mat-option",6),t.qZA()(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Client Filter"),t.qZA(),t.TgZ(12,"input",3),t.NdJ("ngModelChange",function(o){return n.selectedClient=o})("input",function(o){return n.searchClients(o.target.value)})("focus",function(o){return n.searchClients(o.target.value)}),t.qZA(),t.TgZ(13,"mat-autocomplete",4,7),t.NdJ("optionSelected",function(o){return n.onClientSelect(o)}),t.TgZ(15,"mat-option",8),t._uU(16,"All Clients"),t.qZA(),t.YNc(17,A,2,2,"mat-option",6),t.qZA()(),t.TgZ(18,"mat-form-field",2)(19,"mat-label"),t._uU(20,"Influencer Filter"),t.qZA(),t.TgZ(21,"input",3),t.NdJ("ngModelChange",function(o){return n.selectedInfluencer=o})("input",function(o){return n.searchInfluencers(o.target.value)})("focus",function(o){return n.searchInfluencers(o.target.value)}),t.qZA(),t.TgZ(22,"mat-autocomplete",4,9),t.NdJ("optionSelected",function(o){return n.onInfluencerSelect(o)}),t.TgZ(24,"mat-option",8),t._uU(25,"All Influencers"),t.qZA(),t.YNc(26,V,2,2,"mat-option",6),t.qZA()()(),t.TgZ(27,"div",10)(28,"table",11),t.ynx(29,12),t.YNc(30,y,2,0,"th",13),t.YNc(31,b,2,1,"td",14),t.BQk(),t.ynx(32,15),t.YNc(33,S,2,0,"th",13),t.YNc(34,U,2,1,"td",14),t.BQk(),t.ynx(35,16),t.YNc(36,I,2,0,"th",13),t.YNc(37,Y,2,1,"td",17),t.BQk(),t.ynx(38,18),t.YNc(39,L,2,0,"th",13),t.YNc(40,Q,2,1,"td",17),t.BQk(),t.ynx(41,19),t.YNc(42,J,2,0,"th",13),t.YNc(43,F,2,1,"td",17),t.BQk(),t.ynx(44,20),t.YNc(45,D,2,0,"th",13),t.YNc(46,q,2,1,"td",17),t.BQk(),t.ynx(47,21),t.YNc(48,B,2,0,"th",13),t.YNc(49,k,2,1,"td",17),t.BQk(),t.ynx(50,22),t.YNc(51,$,2,0,"th",13),t.YNc(52,j,2,1,"td",17),t.BQk(),t.ynx(53,23),t.YNc(54,R,2,0,"th",13),t.YNc(55,z,2,1,"td",17),t.BQk(),t.ynx(56,24),t.YNc(57,G,2,0,"th",13),t.YNc(58,H,2,1,"td",17),t.BQk(),t.YNc(59,X,1,0,"tr",25),t.YNc(60,E,1,0,"tr",26),t.qZA()(),t._UZ(61,"mat-paginator",27)),2&e){const a=t.MAs(7),o=t.MAs(14),f=t.MAs(23);t.xp6(5),t.Q6J("matAutocomplete",a)("ngModel",n.selectedCampaign),t.xp6(3),t.Q6J("ngForOf",n.filteredCampaigns),t.xp6(4),t.Q6J("matAutocomplete",o)("ngModel",n.selectedClient),t.xp6(5),t.Q6J("ngForOf",n.clients),t.xp6(4),t.Q6J("matAutocomplete",f)("ngModel",n.selectedInfluencer),t.xp6(5),t.Q6J("ngForOf",n.influencers),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(13,K))}},dependencies:[d.sg,v.Nt,w.KE,w.hX,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,_.NW,g.YE,g.nU,M.XC,M.ZL,p.Fj,p.JJ,p.On],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});let W=Z.m;const tt=[{path:"viewCampaigns",component:u},{path:"",redirectTo:`${W.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[h.Bz.forChild(tt),h.Bz]});var et=l(8519),nt=l(3435),it=l(6534),at=l(9347);class m{}m.\u0275fac=function(e){return new(e||m)},m.\u0275mod=t.oAB({type:m}),m.\u0275inj=t.cJS({imports:[d.ez,r,et.q,p.UX,p.u5,at.Is,nt.ViewBriefModule,it.SharingModule]})}}]);