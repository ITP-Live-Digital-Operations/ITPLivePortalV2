"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[77],{1213:(J,y,a)=>{a.d(y,{K$:()=>m,KY:()=>d,ew:()=>t,yE:()=>g});const m=["sales","talent","campaign","originals","superadmin"],d=["1","2","3","4","5","6","7","8","9","10"],g={SALES:1,TALENT:2,CAMPAIGN:3},t=["Production","Editing","Graphic Design"]},8077:(J,y,a)=>{a.r(y),a.d(y,{AdminModule:()=>h});var m=a(6814),d=a(1896),g=a(1213),t=a(5879),C=a(3934),r=a(6223),A=a(9229),S=a(3762),w=a(2032),l=a(4170),q=a(2296),k=a(8525),B=a(3680);function R(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a name. "),t.qZA())}function L(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email. "),t.qZA())}function E(e,n){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function F(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid role. "),t.qZA())}function $(e,n){if(1&e&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function H(e,n){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid level. "),t.qZA())}function G(e,n){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"form",3),t.NdJ("ngSubmit",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.updateUser())}),t.TgZ(3,"h2"),t._uU(4),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10,"Name"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,R,2,0,"mat-error",0),t.qZA(),t.TgZ(13,"mat-form-field",5)(14,"mat-label"),t._uU(15,"Email"),t.qZA(),t._UZ(16,"input",7),t.YNc(17,L,2,0,"mat-error",0),t.qZA()(),t.TgZ(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),t._uU(21,"Role "),t.qZA(),t.TgZ(22,"mat-select",8),t.YNc(23,E,2,2,"mat-option",9),t.qZA(),t.YNc(24,F,2,0,"mat-error",0),t.qZA(),t.TgZ(25,"mat-form-field",5)(26,"mat-label"),t._uU(27,"Privelege Level"),t.qZA(),t.TgZ(28,"mat-select",10),t.YNc(29,$,2,2,"mat-option",9),t.qZA(),t.YNc(30,H,2,0,"mat-error",0),t.qZA()(),t.TgZ(31,"button",11),t._uU(32," Edit User "),t.qZA()()(),t.BQk()}if(2&e){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.updateUserForm),t.xp6(2),t.hij("User Id : ",o.user.id,""),t.xp6(2),t.hij("Privilege level : ",o.user.privilege_level,""),t.xp6(6),t.Q6J("ngIf",o.updateUserForm.controls.name.invalid&&o.updateUserForm.controls.name.touched),t.xp6(5),t.Q6J("ngIf",o.updateUserForm.controls.email.invalid&&o.updateUserForm.controls.email.touched),t.xp6(6),t.Q6J("ngForOf",o.roles),t.xp6(1),t.Q6J("ngIf",o.updateUserForm.controls.role.invalid&&o.updateUserForm.controls.role.touched),t.xp6(5),t.Q6J("ngForOf",o.privilege_level),t.xp6(1),t.Q6J("ngIf",o.updateUserForm.controls.privilege_level.invalid&&o.updateUserForm.controls.privilege_level.touched),t.xp6(1),t.Q6J("disabled",!o.updateUserForm.valid)}}class T{constructor(n,o,s,c,u){this.activatedRoute=n,this.userService=o,this.formBuilder=s,this.toastrService=c,this.dialogService=u,this.roles=g.K$,this.privilege_level=g.KY,this.updateUserForm=this.formBuilder.group({name:[""],email:[""],role:[""],privilege_level:[""]})}ngOnInit(){this.loadUserData()}loadUserData(){this.activatedRoute.params.subscribe(n=>{this.userID=n.id}),this.userService.getUserByID(this.userID).subscribe(n=>{this.user=n,null!=this.user&&(this.updateUserForm=this.formBuilder.group({name:[this.user.name],email:[this.user.email],role:[this.user.role],privilege_level:[this.privilege_level]}))})}updateUser(){this.userService.updateUser(this.updateUserForm.value,this.userID).subscribe(n=>{this.data=n,"success"===this.data.status?(this.toastrService.success("Influencer updated successfully!"),window.location.reload()):this.toastrService.error("Influencer was not updated!")})}resetCount(n){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to reset coount?").subscribe(o=>{!0===o&&this.userService.resetCount(n).subscribe(s=>{this.toastrService.success("Count Reset Successfully!")})})}resetPassword(n){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to reset password?").subscribe(o=>{!0===o&&this.userService.resetPassword(n).subscribe(s=>{this.toastrService.success("Password Reset Successfully!")})})}}T.\u0275fac=function(n){return new(n||T)(t.Y36(d.gz),t.Y36(C.K),t.Y36(r.qu),t.Y36(A._W),t.Y36(S.O))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-edit-user"]],decls:7,vars:1,consts:[[4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],[1,"form-container"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline"],["matInput","","type","text","formControlName","name","autocomplete","off","required",""],["matInput","","type","email","formControlName","email","autocomplete","off","required",""],["formControlName","role"],[3,"value",4,"ngFor","ngForOf"],["formControlName","privilege_level"],["mat-raised-button","","color","primary","type","submit",2,"margin-bottom","2%",3,"disabled"],[3,"value"]],template:function(n,o){1&n&&(t.YNc(0,G,33,10,"ng-container",0),t.TgZ(1,"div")(2,"button",1),t.NdJ("click",function(){return o.resetCount(o.user.id)}),t._uU(3," Reset Count for user "),t.qZA(),t._UZ(4,"hr"),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.resetPassword(o.user.id)}),t._uU(6," Reset Password for user "),t.qZA()()),2&n&&t.Q6J("ngIf",o.user)},dependencies:[m.sg,m.O5,w.Nt,l.KE,l.hX,l.TO,q.lW,k.gD,B.ey,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:15%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}h2[_ngcontent-%COMP%]{color:#000!important}h3[_ngcontent-%COMP%]{color:#000}"]});var D=a(5753);const j=["Production","Editing","Graphics"];function K(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function z(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function X(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function V(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(o)}}function W(e,n){if(1&e&&(t.TgZ(0,"mat-option",16),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.Q6J("value",o.id),t.xp6(1),t.Oqu(o.name)}}class U{constructor(n,o,s,c){this.formBuilder=n,this.userService=o,this.router=s,this.toastrService=c,this.path=D.m,this.roles=g.K$,this.privilege_level=g.KY,this.teams=j,this.locations=["UAE","KSA","Beirut","India","USA"],this.userForm=this.formBuilder.group({name:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required],role:["",r.kI.required],team:[""],location:["",r.kI.required],privilege_level:["",r.kI.required],parentId:[""]})}ngOnInit(){this.userService.getAllUsers().subscribe(n=>{this.users=n})}onSubmit(){this.userForm.valid?(this.userService.register({...this.userForm.value,status:"Active"}).subscribe(n=>{this.data=n,"successs"==this.data.status&&this.toastrService.success("User added successfully!")}),this.router.navigate([this.path.forms])):this.toastrService.warning("User was not added!")}}U.\u0275fac=function(n){return new(n||U)(t.Y36(r.qu),t.Y36(C.K),t.Y36(d.F0),t.Y36(A._W))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-register-user"]],decls:53,vars:6,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["appearance","outline"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","email","required",""],["matInput","","formControlName","password","type","password","required",""],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","team"],["formControlName","location"],["formControlName","privilege_level","required",""],["formControlName","parentId"],[1,"form-buttons"],["mat-raised-button","","color","primary","type","submit"],["mat-raised-button","","type","button",3,"click"],[3,"value"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Name"),t.qZA(),t._UZ(6,"input",4),t.TgZ(7,"mat-error"),t._uU(8,"Please enter a name"),t.qZA()(),t.TgZ(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",5),t.TgZ(13,"mat-error"),t._uU(14,"Please enter a valid email address"),t.qZA()(),t.TgZ(15,"mat-form-field",3)(16,"mat-label"),t._uU(17,"Password"),t.qZA(),t._UZ(18,"input",6),t.TgZ(19,"mat-error"),t._uU(20,"Please enter a password"),t.qZA()()(),t.TgZ(21,"div",2)(22,"mat-form-field",3)(23,"mat-label"),t._uU(24,"Role"),t.qZA(),t.TgZ(25,"mat-select",7),t.YNc(26,K,2,2,"mat-option",8),t.qZA()(),t.TgZ(27,"mat-form-field",3)(28,"mat-label"),t._uU(29,"Team"),t.qZA(),t.TgZ(30,"mat-select",9),t.YNc(31,z,2,2,"mat-option",8),t.qZA()(),t.TgZ(32,"mat-form-field",3)(33,"mat-label"),t._uU(34,"Location"),t.qZA(),t.TgZ(35,"mat-select",10),t.YNc(36,X,2,2,"mat-option",8),t.qZA()()(),t.TgZ(37,"div",2)(38,"mat-form-field",3)(39,"mat-label"),t._uU(40,"Privelege Level"),t.qZA(),t.TgZ(41,"mat-select",11),t.YNc(42,V,2,2,"mat-option",8),t.qZA()(),t.TgZ(43,"mat-form-field",3)(44,"mat-label"),t._uU(45,"Parent ID"),t.qZA(),t.TgZ(46,"mat-select",12),t.YNc(47,W,2,2,"mat-option",8),t.qZA()()(),t.TgZ(48,"div",13)(49,"button",14),t._uU(50,"Register"),t.qZA(),t.TgZ(51,"button",15),t.NdJ("click",function(){return o.userForm.reset()}),t._uU(52," Reset "),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("formGroup",o.userForm),t.xp6(25),t.Q6J("ngForOf",o.roles),t.xp6(5),t.Q6J("ngForOf",o.teams),t.xp6(5),t.Q6J("ngForOf",o.locations),t.xp6(6),t.Q6J("ngForOf",o.privilege_level),t.xp6(5),t.Q6J("ngForOf",o.users))},dependencies:[m.sg,w.Nt,l.KE,l.hX,l.TO,q.lW,k.gD,B.ey,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}h2[_ngcontent-%COMP%]{color:#000!important;justify-content:center;align-items:center;font-size:200%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}button[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});var M=a(1476),O=a(3566),i=a(5313),N=a(617);function tt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"ID"),t.qZA())}function et(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.id)}}function nt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Name"),t.qZA())}function ot(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function it(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Email"),t.qZA())}function st(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.email)}}function rt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Role"),t.qZA())}function at(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.role)}}function ct(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1," Privilege Level "),t.qZA())}function ut(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.privilege_level," ")}}function lt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Login Count"),t.qZA())}function mt(e,n){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.loginCount)}}function dt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"View"),t.qZA())}function pt(e,n){if(1&e&&(t.TgZ(0,"td",24)(1,"mat-icon",25),t._uU(2," remove_red_eye "),t.qZA()()),2&e){const o=n.$implicit,s=t.oxw();t.xp6(1),t.s9C("routerLink",s.path.editUser+o.id)}}function gt(e,n){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Delete"),t.qZA())}function _t(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",24)(1,"mat-icon",26),t.NdJ("click",function(){const u=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.deleteUser(u.id))}),t._uU(2," delete "),t.qZA()()}}function ft(e,n){1&e&&t._UZ(0,"tr",27)}function ht(e,n){1&e&&t._UZ(0,"tr",28)}const Ct=function(){return[3,5,10,25,100]};class Z{constructor(n,o){this.userService=n,this.dialogService=o,this.path=D.m,this.displayedColumns=["id","name","email","role","privilege_level","loginCount","view","action"]}ngOnInit(){this.getUsers()}getUsers(){this.userService.getAllUsers().subscribe(n=>{this.users=n,this.dataSource=new i.by(this.users),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(n){this.dataSource.filter=n.trim().toLowerCase()}deleteUser(n){this.dialogService.openConfirmationDialog("Confirm!","Are you sure you want to delete?").subscribe(o=>{!0===o&&this.userService.deleteUser(n).subscribe(s=>{this.getUsers()})})}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(C.K),t.Y36(S.O))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-user-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(M.NW,5),t.Gf(O.YE,7),t.Gf(i.BZ,5)),2&n){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first),t.iGM(s=t.CRH())&&(o.sort=s.first),t.iGM(s=t.CRH())&&(o.table=s.first)}},decls:40,vars:7,consts:[[1,"form-container"],[2,"position","relative"],[1,"search-container"],["appearance","outline",2,"width","75%","height","10%","padding-left","2%","padding-right","2%"],["matInput","","placeholder","Search",3,"keyup"],["searchInput",""],["mat-raised-button","","color","primary","routerLink","/home/admin/register",1,"back-button",2,"height","3rem","width","10%"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","privilege_level"],["matColumnDef","loginCount"],["matColumnDef","view"],["matColumnDef","action"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],[3,"click"],["mat-header-row","","sticky",""],["mat-row","","sticky",""]],template:function(n,o){if(1&n){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"input",4,5),t.NdJ("keyup",function(){t.CHM(s);const u=t.MAs(5);return t.KtG(o.applyFilter(u.value))}),t.qZA()(),t.TgZ(6,"button",6)(7,"mat-icon"),t._uU(8,"add_circle_outline"),t.qZA(),t._uU(9," New User "),t.qZA()(),t.TgZ(10,"div",7)(11,"table",8,9),t.ynx(13,10),t.YNc(14,tt,2,0,"th",11),t.YNc(15,et,2,1,"td",12),t.BQk(),t.ynx(16,13),t.YNc(17,nt,2,0,"th",11),t.YNc(18,ot,2,1,"td",12),t.BQk(),t.ynx(19,14),t.YNc(20,it,2,0,"th",11),t.YNc(21,st,2,1,"td",12),t.BQk(),t.ynx(22,15),t.YNc(23,rt,2,0,"th",11),t.YNc(24,at,2,1,"td",12),t.BQk(),t.ynx(25,16),t.YNc(26,ct,2,0,"th",11),t.YNc(27,ut,2,1,"td",12),t.BQk(),t.ynx(28,17),t.YNc(29,lt,2,0,"th",11),t.YNc(30,mt,2,1,"td",12),t.BQk(),t.ynx(31,18),t.YNc(32,dt,2,0,"th",11),t.YNc(33,pt,3,1,"td",12),t.BQk(),t.ynx(34,19),t.YNc(35,gt,2,0,"th",11),t.YNc(36,_t,3,0,"td",12),t.BQk(),t.YNc(37,ft,1,0,"tr",20),t.YNc(38,ht,1,0,"tr",21),t.qZA(),t._UZ(39,"mat-paginator",22),t.qZA()()()}2&n&&(t.xp6(11),t.Q6J("dataSource",o.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",15)("pageSizeOptions",t.DdM(6,Ct)))},dependencies:[d.rH,w.Nt,l.KE,q.lW,N.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,M.NW,O.YE,O.nU],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-left:1%;top:5;left:0;right:0;z-index:1;position:sticky}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-mdc-row[_ngcontent-%COMP%]:hover   .mat-mdc-cell[_ngcontent-%COMP%]{border-color:currentColor}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden;margin-left:10px}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]});var Tt=a(5516),Ut=a(1474);class _{constructor(n){this.http=n,this.authApiURL=Tt.N.apiUrl+"/v1/userStats"}countUploadedBriefsByUser(){return this.http.get(`${this.authApiURL}/countUploadedBriefsByUser`)}countAddedLogsByUser(){return this.http.get(`${this.authApiURL}/countAddedLogsByUser`)}countAddedInfluencersByUser(){return this.http.get(`${this.authApiURL}/countAddedInfluencersByUser`)}countAddedCelebritiesByUser(){return this.http.get(`${this.authApiURL}/countAddedCelebritiesByUser`)}countAddedClientsByUser(){return this.http.get(`${this.authApiURL}/countAddedClientsByUser`)}countAddedFilesByUser(){return this.http.get(`${this.authApiURL}/countAddedFilesByUser`)}countTalentTasks(){return this.http.get(`${this.authApiURL}/countTalentTasks`)}countInfluencerRemarksByUser(){return this.http.get(`${this.authApiURL}/countInfluencerRemarksByUser`)}}_.\u0275fac=function(n){return new(n||_)(t.LFG(Ut.eN))},_.\u0275prov=t.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});var Q=a(4104);function Zt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function xt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function vt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function bt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function yt(e,n){1&e&&t._UZ(0,"tr",20)}function At(e,n){1&e&&t._UZ(0,"tr",21)}function St(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function wt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function qt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function Dt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function Ot(e,n){1&e&&t._UZ(0,"tr",20)}function Nt(e,n){1&e&&t._UZ(0,"tr",21)}function Yt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function Pt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function kt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function Bt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function Mt(e,n){1&e&&t._UZ(0,"tr",20)}function Qt(e,n){1&e&&t._UZ(0,"tr",21)}function It(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function Jt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function Rt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function Lt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function Et(e,n){1&e&&t._UZ(0,"tr",20)}function Ft(e,n){1&e&&t._UZ(0,"tr",21)}function $t(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function Ht(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function Gt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function jt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function Kt(e,n){1&e&&t._UZ(0,"tr",20)}function zt(e,n){1&e&&t._UZ(0,"tr",21)}function Xt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function Vt(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function Wt(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function te(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function ee(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Last Week Count"),t.qZA())}function ne(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.weekCount)}}function oe(e,n){1&e&&t._UZ(0,"tr",20)}function ie(e,n){1&e&&t._UZ(0,"tr",21)}function se(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function re(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function ae(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function ce(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function ue(e,n){1&e&&t._UZ(0,"tr",20)}function le(e,n){1&e&&t._UZ(0,"tr",21)}function me(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Name"),t.qZA())}function de(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function pe(e,n){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Count"),t.qZA())}function ge(e,n){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.count)}}function _e(e,n){1&e&&t._UZ(0,"tr",20)}function fe(e,n){1&e&&t._UZ(0,"tr",21)}class x{constructor(n){this.userStatsService=n,this.displayedColumns=["name","count"],this.displayedColumnsLogs=["name","count","weekCount"],this.uploadedBriefsDataSource=new i.by([]),this.addedCelebritiesDataSource=new i.by([]),this.addedClientsByUserDataSource=new i.by([]),this.countAddedFilesByUserDataSource=new i.by([]),this.countAddedInfluencersByUser=new i.by([]),this.countAddedLogsByUser=new i.by([]),this.countTalentTasks=new i.by([]),this.countInfluencerRemarksByUser=new i.by([])}ngOnInit(){this.fetchUploadedBriefsData(),this.fetchAddedCelebritiesData(),this.fetchAddedClientsByUserData(),this.fetchcountAddedFilesByUserData(),this.fetchcountAddedInfluencersByUserData(),this.fetchcountTalentTasksData(),this.fetccountAddedLogsByUserhData(),this.fetchcountInfluencerRemarksByUserData()}fetchUploadedBriefsData(){this.userStatsService.countUploadedBriefsByUser().subscribe(n=>{this.uploadedBriefsDataSource=new i.by(n)},n=>{console.error("Error fetching uploaded briefs data: ",n)})}fetchAddedCelebritiesData(){this.userStatsService.countAddedCelebritiesByUser().subscribe(n=>{this.addedCelebritiesDataSource=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetchAddedClientsByUserData(){this.userStatsService.countAddedClientsByUser().subscribe(n=>{this.addedClientsByUserDataSource=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetchcountAddedFilesByUserData(){this.userStatsService.countAddedFilesByUser().subscribe(n=>{this.countAddedFilesByUserDataSource=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetchcountAddedInfluencersByUserData(){this.userStatsService.countAddedInfluencersByUser().subscribe(n=>{this.countAddedInfluencersByUser=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetccountAddedLogsByUserhData(){this.userStatsService.countAddedLogsByUser().subscribe(n=>{console.log(n),this.countAddedLogsByUser=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetchcountTalentTasksData(){this.userStatsService.countTalentTasks().subscribe(n=>{this.countTalentTasks=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}fetchcountInfluencerRemarksByUserData(){this.userStatsService.countInfluencerRemarksByUser().subscribe(n=>{console.log(n),this.countInfluencerRemarksByUser=new i.by(n)},n=>{console.error("Error fetching added celebrities data: ",n)})}}x.\u0275fac=function(n){return new(n||x)(t.Y36(_))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-userstats"]],decls:93,vars:24,consts:[[1,"vertical-tabs-container"],["mat-align-tabs","start","mat-stretch-tabs","true","mat-vertical-tabs",""],["label"," Added Briefs"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","count"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Added Celebrities"],["label","Added Clients"],["label","Uploaded Files"],["label","Added Influencers"],["label","Created Logs"],["matColumnDef","weekCount"],["label"," Assigned Tasks"],["label"," Added Influencer Remarks"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2)(3,"div")(4,"table",3),t.ynx(5,4),t.YNc(6,Zt,2,0,"th",5),t.YNc(7,xt,2,1,"td",6),t.BQk(),t.ynx(8,7),t.YNc(9,vt,2,0,"th",5),t.YNc(10,bt,2,1,"td",6),t.BQk(),t.YNc(11,yt,1,0,"tr",8),t.YNc(12,At,1,0,"tr",9),t.qZA()()(),t.TgZ(13,"mat-tab",10)(14,"div")(15,"table",3),t.ynx(16,4),t.YNc(17,St,2,0,"th",5),t.YNc(18,wt,2,1,"td",6),t.BQk(),t.ynx(19,7),t.YNc(20,qt,2,0,"th",5),t.YNc(21,Dt,2,1,"td",6),t.BQk(),t.YNc(22,Ot,1,0,"tr",8),t.YNc(23,Nt,1,0,"tr",9),t.qZA()()(),t.TgZ(24,"mat-tab",11)(25,"div")(26,"table",3),t.ynx(27,4),t.YNc(28,Yt,2,0,"th",5),t.YNc(29,Pt,2,1,"td",6),t.BQk(),t.ynx(30,7),t.YNc(31,kt,2,0,"th",5),t.YNc(32,Bt,2,1,"td",6),t.BQk(),t.YNc(33,Mt,1,0,"tr",8),t.YNc(34,Qt,1,0,"tr",9),t.qZA()()(),t.TgZ(35,"mat-tab",12)(36,"div")(37,"table",3),t.ynx(38,4),t.YNc(39,It,2,0,"th",5),t.YNc(40,Jt,2,1,"td",6),t.BQk(),t.ynx(41,7),t.YNc(42,Rt,2,0,"th",5),t.YNc(43,Lt,2,1,"td",6),t.BQk(),t.YNc(44,Et,1,0,"tr",8),t.YNc(45,Ft,1,0,"tr",9),t.qZA()()(),t.TgZ(46,"mat-tab",13)(47,"div")(48,"table",3),t.ynx(49,4),t.YNc(50,$t,2,0,"th",5),t.YNc(51,Ht,2,1,"td",6),t.BQk(),t.ynx(52,7),t.YNc(53,Gt,2,0,"th",5),t.YNc(54,jt,2,1,"td",6),t.BQk(),t.YNc(55,Kt,1,0,"tr",8),t.YNc(56,zt,1,0,"tr",9),t.qZA()()(),t.TgZ(57,"mat-tab",14)(58,"div")(59,"table",3),t.ynx(60,4),t.YNc(61,Xt,2,0,"th",5),t.YNc(62,Vt,2,1,"td",6),t.BQk(),t.ynx(63,7),t.YNc(64,Wt,2,0,"th",5),t.YNc(65,te,2,1,"td",6),t.BQk(),t.ynx(66,15),t.YNc(67,ee,2,0,"th",5),t.YNc(68,ne,2,1,"td",6),t.BQk(),t.YNc(69,oe,1,0,"tr",8),t.YNc(70,ie,1,0,"tr",9),t.qZA()()(),t.TgZ(71,"mat-tab",16)(72,"div")(73,"table",3),t.ynx(74,4),t.YNc(75,se,2,0,"th",5),t.YNc(76,re,2,1,"td",6),t.BQk(),t.ynx(77,7),t.YNc(78,ae,2,0,"th",5),t.YNc(79,ce,2,1,"td",6),t.BQk(),t.YNc(80,ue,1,0,"tr",8),t.YNc(81,le,1,0,"tr",9),t.qZA()()(),t.TgZ(82,"mat-tab",17)(83,"div")(84,"table",3),t.ynx(85,4),t.YNc(86,me,2,0,"th",5),t.YNc(87,de,2,1,"td",6),t.BQk(),t.ynx(88,7),t.YNc(89,pe,2,0,"th",5),t.YNc(90,ge,2,1,"td",6),t.BQk(),t.YNc(91,_e,1,0,"tr",8),t.YNc(92,fe,1,0,"tr",9),t.qZA()()()()()),2&n&&(t.xp6(4),t.Q6J("dataSource",o.uploadedBriefsDataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.addedCelebritiesDataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.addedClientsByUserDataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.countAddedFilesByUserDataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.countAddedInfluencersByUser),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.countAddedLogsByUser),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumnsLogs),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsLogs),t.xp6(3),t.Q6J("dataSource",o.countTalentTasks),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("dataSource",o.countInfluencerRemarksByUser),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,Q.uX,Q.SP],styles:[".mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:none!important}  .mat-mdc-tab-labels{flex-wrap:wrap!important;justify-content:flex-end!important}  .mat-tab-label{flex-grow:1!important;max-width:33.3333333333%!important}.vertical-tabs-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffff0f;border-radius:15px;box-shadow:0 4px 6px #0000;padding:9px;max-width:1300px;margin:auto;overflow:hidden}"]});var Y=a(6236),P=a(9347),I=a(592);function he(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"form",4),t.ynx(1),t.TgZ(2,"mat-form-field")(3,"mat-label"),t._uU(4," Estimated Time "),t.qZA(),t._UZ(5,"input",5),t.qZA(),t.BQk(),t.TgZ(6,"button",6),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.updateEstimatedTime())}),t._uU(7," Update "),t.TgZ(8,"mat-icon"),t._uU(9,"update"),t.qZA()()()}if(2&e){const o=t.oxw();t.Q6J("formGroup",o.form)}}function Ce(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.approveSuggestion())}),t._uU(2," Approve "),t.TgZ(3,"mat-icon"),t._uU(4,"done"),t.qZA()(),t.TgZ(5,"button",7),t.NdJ("click",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.rejectSuggestion())}),t._uU(6," Reject "),t.TgZ(7,"mat-icon"),t._uU(8,"clear"),t.qZA()()()}}class v{constructor(n,o,s,c,u,p,We){this.suggestionService=n,this.data=o,this.confirmationDialogService=s,this.toastr=c,this.formBuilder=u,this.dialogRef=p,this.userService=We,this.suggestionId=0,this.userId=this.userService.getID()}ngOnInit(){this.suggestionId=this.data.suggestionId,this.fetchSuggestion(this.suggestionId),this.initializeForm()}initializeForm(){this.form=this.formBuilder.group({estimatedTime:["",r.kI.required]})}fetchSuggestion(n){this.suggestionService.getSuggestionById(n).subscribe(o=>{console.log(o.data),this.suggestion=o.data},o=>{console.log(o)})}rejectSuggestion(){this.confirmationDialogService.openConfirmationDialog("Reject Suggestion","Are you sure you want to reject this suggestion?","yesno").subscribe(n=>{n&&this.suggestionService.rejectSuggestion(this.suggestionId).subscribe(o=>{"success"===o.status&&(this.toastr.success("Suggestion rejected successfully"),this.dialogRef.close())},o=>{console.error("Error rejecting suggestion: ",o)})})}approveSuggestion(){this.confirmationDialogService.openConfirmationDialog("Approve Suggestion","Are you sure you want to approve this suggestion?","yesno").subscribe(n=>{n&&this.suggestionService.approveSuggestion(this.suggestionId).subscribe(o=>{"success"===o.status&&(this.toastr.success("Suggestion approved successfully"),this.dialogRef.close())},o=>{console.error("Error approving suggestion: ",o)})})}updateEstimatedTime(){this.form.valid&&this.suggestionService.updateEstimatedTime(this.suggestionId,this.form.value.estimatedTime).subscribe(n=>{"success"===n.status&&(this.toastr.success("Estimated time updated successfully"),this.form.reset(),this.fetchSuggestion(this.suggestionId))},n=>{console.error("Error updating estimated time: ",n)})}}function Te(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Suggestion "),t.qZA())}function Ue(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.suggestion)}}function Ze(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Time"),t.qZA())}function xe(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.estimatedTime)}}function ve(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Status"),t.qZA())}function be(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.status)}}function ye(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function Ae(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",18)(1,"mat-icon",19),t.NdJ("click",function(){const u=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.viewSuggestion(u.id))}),t._uU(2,"visibility"),t.qZA()()}}function Se(e,n){1&e&&t._UZ(0,"tr",20)}function we(e,n){1&e&&t._UZ(0,"tr",21)}function qe(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Suggestion "),t.qZA())}function De(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.suggestion)}}function Oe(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Time"),t.qZA())}function Ne(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.estimatedTime)}}function Ye(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"User"),t.qZA())}function Pe(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.user.name)}}function ke(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Status"),t.qZA())}function Be(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.status)}}function Me(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Action"),t.qZA())}function Qe(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",18)(1,"mat-icon",19),t.NdJ("click",function(){const u=t.CHM(o).$implicit,p=t.oxw();return t.KtG(p.viewSuggestion(u.id))}),t._uU(2,"visibility"),t.qZA()()}}function Ie(e,n){1&e&&t._UZ(0,"tr",20)}function Je(e,n){1&e&&t._UZ(0,"tr",21)}function Re(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Suggestion "),t.qZA())}function Le(e,n){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.suggestion)}}function Ee(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1," Time"),t.qZA())}function Fe(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.estimatedTime)}}function $e(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Start Date"),t.qZA())}function He(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.startDate)}}function Ge(e,n){1&e&&t._UZ(0,"tr",20)}function je(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"tr",22),t.NdJ("cdkDragStarted",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.dragging=!0)})("cdkDragEnded",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.dragging=!1)}),t.qZA()}if(2&e){const o=t.oxw();t.ekj("dragging",o.dragging)}}v.\u0275fac=function(n){return new(n||v)(t.Y36(I.i),t.Y36(P.WI),t.Y36(S.O),t.Y36(A._W),t.Y36(r.qu),t.Y36(P.so),t.Y36(C.K))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-view-suggestion"]],decls:37,vars:10,consts:[[1,"data-container"],[1,"data-field"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["matInput","","type","number","formControlName","estimatedTime","required",""],["mat-raised-button","","type","submit",3,"click"],["mat-raised-button","",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Suggestion Viewer"),t.qZA(),t.TgZ(3,"div",1)(4,"strong"),t._uU(5,"ID:"),t.qZA(),t._uU(6),t.qZA(),t.TgZ(7,"div",1)(8,"strong"),t._uU(9,"Status:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"div",1)(12,"strong"),t._uU(13,"Priority:"),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"div",1)(16,"strong"),t._uU(17,"Created At:"),t.qZA(),t._uU(18),t.qZA(),t.TgZ(19,"div",1)(20,"strong"),t._uU(21,"Updated At:"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"div",1)(24,"strong"),t._uU(25,"Estimated Time:"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"div",1)(28,"strong"),t._uU(29,"Suggested By:"),t.qZA(),t._uU(30),t.qZA(),t.TgZ(31,"div",1)(32,"strong"),t._uU(33,"Suggestion:"),t.qZA(),t._uU(34),t.qZA(),t.YNc(35,he,10,1,"form",2),t.YNc(36,Ce,9,0,"div",3),t.qZA()),2&n&&(t.xp6(6),t.hij(" ",o.suggestion.id,""),t.xp6(4),t.hij(" ",o.suggestion.status,""),t.xp6(4),t.hij(" ",o.suggestion.priority,""),t.xp6(4),t.hij(" ",o.suggestion.createdAt,""),t.xp6(4),t.hij(" ",o.suggestion.updatedAt,""),t.xp6(4),t.hij(" ",o.suggestion.estimatedTime,""),t.xp6(4),t.hij(" ",o.suggestion.suggestedBy,""),t.xp6(4),t.hij(" ",o.suggestion.suggestion,""),t.xp6(1),t.Q6J("ngIf",1===o.userId),t.xp6(1),t.Q6J("ngIf",0!=o.suggestion.estimatedTime))},dependencies:[m.O5,w.Nt,l.KE,l.hX,q.lW,N.Hw,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a}.data-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#fff}.data-container[_ngcontent-%COMP%]   .data-field[_ngcontent-%COMP%]{font-family:Arial,sans-serif;color:#3498db;margin:10px 0;font-size:16px}.data-container[_ngcontent-%COMP%]   .data-field[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{background-color:transparent!important;margin-bottom:3%;color:#fff!important}mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#fff}"]});class b{constructor(n,o,s,c,u){this.suggestionService=n,this.userService=o,this.confirmationDialogService=s,this.toastr=c,this.dialog=u,this.displayedColumnsSuggestions=["suggestion","estimatedTime","status","action"],this.displayedColumnsPriorities=["suggestion","estimatedTime","startDate"],this.displayedColumnsTeamSuggestions=["suggestion","estimatedTime","user","status","action"],this.suggestions=[],this.dragging=!1,this.success=!1,this.userId=this.userService.getID(),this.developerSuggestionsDataSource=new i.by([]),this.teamSuggestionsDataSource=new i.by([]),this.prioritiesDataSource=new i.by([])}ngOnInit(){this.fetchSuggestionsByDevelopers(),this.fetchSuggestionsByTeam(),this.fetchPriorityList(),this.updatePriorities()}fetchSuggestionsByDevelopers(){this.suggestionService.getSuggestionsByDevelopement().subscribe(n=>{this.suggestions=n.data,this.developerSuggestionsDataSource=new i.by(this.suggestions)},n=>{console.error("Error fetching suggestions by developers: ",n)})}fetchSuggestionsByTeam(){this.suggestionService.getSuggestionsByTeam().subscribe(n=>{console.log(n),this.suggestions=n.data,this.teamSuggestionsDataSource=new i.by(this.suggestions)},n=>{console.error("Error fetching suggestions by team: ",n)})}fetchPriorityList(){this.suggestionService.getSuggestionsByPriorityASC().subscribe(n=>{this.suggestions=n.data,this.prioritiesDataSource=new i.by(this.suggestions)},n=>{console.error("Error fetching priority list: ",n)})}drop(n){(0,Y.bA)(this.prioritiesDataSource.data,n.previousIndex,n.currentIndex),this.prioritiesDataSource.data=[...this.prioritiesDataSource.data],this.updatePriorities()}updatePriorities(){let n=new Date;this.prioritiesDataSource.data.forEach((o,s)=>{o.priority=s+1,o.startDate=new Date(n),o.startDate=o.startDate.toISOString().split("T")[0],n.setDate(n.getDate()+o.estimatedTime),o.endDate.setDate(o.endDate.getDate()+o.estimatedTime),o.endDate=o.endDate.toISOString().split("T")[0],this.suggestionService.updatePriorityAndDates(o.id,o.priority,o.startDate,o.endDate).subscribe(c=>{"success"===c.status&&(this.success=!0,console.log(c.message))},c=>{console.error("Error updating priority: ",c)})}),this.success&&this.toastr.success("Priorities updated successfully")}viewSuggestion(n){this.dialog.open(v,{width:"50%",height:"auto",data:{suggestionId:n}}).afterClosed().subscribe(o=>{this.fetchSuggestionsByDevelopers(),this.fetchSuggestionsByTeam(),this.fetchPriorityList()})}}b.\u0275fac=function(n){return new(n||b)(t.Y36(I.i),t.Y36(C.K),t.Y36(S.O),t.Y36(A._W),t.Y36(P.uw))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-team-suggestions"]],decls:57,vars:10,consts:[[1,"container"],[1,"shadow-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","suggestion"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","wrap-line",4,"matCellDef"],["matColumnDef","estimatedTime"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","user"],["mat-table","","cdkDropList","",1,"mat-elevation-z8",3,"dataSource","cdkDropListData","cdkDropListDropped"],["matColumnDef","startDate"],["mat-row","","cdkDrag","",3,"dragging","cdkDragStarted","cdkDragEnded",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"wrap-line"],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""],["mat-row","","cdkDrag","",3,"cdkDragStarted","cdkDragEnded"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3," Developers Suggestions "),t.qZA(),t.TgZ(4,"table",2),t.ynx(5,3),t.YNc(6,Te,2,0,"th",4),t.YNc(7,Ue,2,1,"td",5),t.BQk(),t.ynx(8,6),t.YNc(9,Ze,2,0,"th",4),t.YNc(10,xe,2,1,"td",7),t.BQk(),t.ynx(11,8),t.YNc(12,ve,2,0,"th",4),t.YNc(13,be,2,1,"td",7),t.BQk(),t.ynx(14,9),t.YNc(15,ye,2,0,"th",4),t.YNc(16,Ae,3,0,"td",7),t.BQk(),t.YNc(17,Se,1,0,"tr",10),t.YNc(18,we,1,0,"tr",11),t.qZA()(),t.TgZ(19,"div")(20,"h1"),t._uU(21," Team Suggestions "),t.qZA(),t.TgZ(22,"table",2),t.ynx(23,3),t.YNc(24,qe,2,0,"th",4),t.YNc(25,De,2,1,"td",7),t.BQk(),t.ynx(26,6),t.YNc(27,Oe,2,0,"th",4),t.YNc(28,Ne,2,1,"td",7),t.BQk(),t.ynx(29,12),t.YNc(30,Ye,2,0,"th",4),t.YNc(31,Pe,2,1,"td",7),t.BQk(),t.ynx(32,8),t.YNc(33,ke,2,0,"th",4),t.YNc(34,Be,2,1,"td",7),t.BQk(),t.ynx(35,9),t.YNc(36,Me,2,0,"th",4),t.YNc(37,Qe,3,0,"td",7),t.BQk(),t.YNc(38,Ie,1,0,"tr",10),t.YNc(39,Je,1,0,"tr",11),t.qZA()()(),t.TgZ(40,"div",0)(41,"div")(42,"h1"),t._uU(43," Priority List "),t.qZA(),t.TgZ(44,"table",13),t.NdJ("cdkDropListDropped",function(c){return o.drop(c)}),t.ynx(45,3),t.YNc(46,Re,2,0,"th",4),t.YNc(47,Le,2,1,"td",5),t.BQk(),t.ynx(48,6),t.YNc(49,Ee,2,0,"th",4),t.YNc(50,Fe,2,1,"td",7),t.BQk(),t.ynx(51,14),t.YNc(52,$e,2,0,"th",4),t.YNc(53,He,2,1,"td",7),t.BQk(),t._uU(54,"\n1 "),t.YNc(55,Ge,1,0,"tr",10),t.YNc(56,je,1,2,"tr",15),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("dataSource",o.developerSuggestionsDataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumnsSuggestions),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsSuggestions),t.xp6(4),t.Q6J("dataSource",o.teamSuggestionsDataSource),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumnsTeamSuggestions),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsTeamSuggestions),t.xp6(5),t.Q6J("dataSource",o.prioritiesDataSource.data)("cdkDropListData",o.prioritiesDataSource.data),t.xp6(11),t.Q6J("matHeaderRowDef",o.displayedColumnsPriorities),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumnsPriorities))},dependencies:[N.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,Y.Wj,Y.Zt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-left:3%}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1;margin:0 2% 3%}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-radius:15px;box-shadow:0 4px 6px #0000;margin:auto;overflow:hidden}@media (max-width: 1850px){.container[_ngcontent-%COMP%]{flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}}@media (max-width: 1700px){.container[_ngcontent-%COMP%]{flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}}@media (max-width: 1600px){.container[_ngcontent-%COMP%]{flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}}@media (max-width: 1500px){.container[_ngcontent-%COMP%]{flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}}@media (max-width: 1300px){.container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .wrap-line[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}}@media (max-width: 1000px){.container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}}@media (max-width: 800px){.container[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:0 0 100%}}.actions[_ngcontent-%COMP%]{display:flex}.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{flex:1;flex-direction:row}.cdk-drag-preview[_ngcontent-%COMP%]{border:1px solid #ccc;background-color:#fff;padding:10px;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-row.dragging[_ngcontent-%COMP%]{cursor:move;opacity:.7}.mat-row[_ngcontent-%COMP%]:not(.dragging){transition:transform .25s cubic-bezier(0,0,.2,1)}"]});let Ke=D.m;const ze=[{path:"edit/:id",component:T},{path:"register",component:U},{path:"users",component:Z},{path:"",redirectTo:`${Ke.forms}`,pathMatch:"full"},{path:"employeeStats",component:x},{path:"teamSuggestions",component:b},{path:"**",redirectTo:"/site/notFound",pathMatch:"full"}];class f{}f.\u0275fac=function(n){return new(n||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[d.Bz.forChild(ze),d.Bz]});var Xe=a(6058),Ve=a(1670);class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[m.ez,f,Xe.q,r.UX,Ve.SharedModule]})}}]);