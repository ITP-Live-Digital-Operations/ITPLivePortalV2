"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[592],{488:(_,m,o)=>{o.d(m,{l:()=>r});var a=o(6223),e=o(9347),t=o(5879),c=o(5650),h=o(9229),g=o(9287),f=o(4995),l=o(9647),d=o(7237),i=o(2296);class r{constructor(s,n,y,p,b){this.formBuilder=s,this.service=n,this.source=y,this.dialogRef=p,this.toastrService=b,this.isCelebrity=!1,this.initializeElements(),this.GetInfluencerData(this.source.id)}initializeElements(){this.editCelebrityForm=this.formBuilder.group({generalInfo:this.formBuilder.group({Name:["",[a.kI.required]],Gender:["",[a.kI.required]],Number:[""],Email:["",[a.kI.email]],MainContentLanguage:[""],MainVertical:[""],Occupation:[""],ItpRelationship:[""],Nationality:[""],CountryLocation:[""],CityLocation:[""],Address:[""]}),socials:this.formBuilder.group({InstagramHandle:["",[a.kI.required]],InstagramFollowers:[""],InstagramLink:[""],TiktokHandle:[""],TiktokFollowers:[""],TiktokLink:[""],SnapchatHandle:[""],SnapchatFollowers:[""],SnapchatLink:[""],TwitterHandle:[""],TwitterFollowers:[""],TwitterLink:[""],FacebookHandle:[""],FacebookFollowers:[""],FacebookLink:[""],YoutubeHandle:[""],YoutubeFollowers:[""],YoutubeLink:[""],TwitchHandle:[""],TwitchFollowers:[""],TwitchLink:[""]}),agencyInfo:this.formBuilder.group({Agency:[""],AgencyContactPerson:[""],AgencyNumber:[""],AgencyEmail:["",[a.kI.email]],PreviouslyWorkedWith:[""]}),extraInfo:this.formBuilder.group({PreviousBrands:[""],Bio:[""],Notes:[""],Rating:[""]})})}GetInfluencerData(s){return this.service.getCelebrity(s).subscribe(n=>{this.celebrityData=n,null!=this.celebrityData.data&&this.editCelebrityForm.setValue({generalInfo:{Name:this.celebrityData.data.Name,Gender:this.celebrityData.data.Gender,Number:this.celebrityData.data.Number,Email:this.celebrityData.data.Email,MainContentLanguage:this.celebrityData.data.MainContentLanguage,MainVertical:this.celebrityData.data.MainVertical,Occupation:this.celebrityData.data.Occupation,ItpRelationship:this.celebrityData.data.ItpRelationship,Nationality:this.celebrityData.data.Nationality,CountryLocation:this.celebrityData.data.CountryLocation,CityLocation:this.celebrityData.data.CityLocation,Address:this.celebrityData.data.Address},socials:{InstagramHandle:this.celebrityData.data.InstagramHandle,InstagramFollowers:this.celebrityData.data.InstagramFollowers,InstagramLink:this.celebrityData.data.InstagramLink,TiktokHandle:this.celebrityData.data.TiktokHandle,TiktokFollowers:this.celebrityData.data.TiktokFollowers,TiktokLink:this.celebrityData.data.TiktokLink,SnapchatHandle:this.celebrityData.data.SnapchatHandle,SnapchatFollowers:this.celebrityData.data.SnapchatFollowers,SnapchatLink:this.celebrityData.data.SnapchatLink,TwitterHandle:this.celebrityData.data.TwitterHandle,TwitterFollowers:this.celebrityData.data.TwitterFollowers,TwitterLink:this.celebrityData.data.TwitterLink,FacebookHandle:this.celebrityData.data.FacebookHandle,FacebookFollowers:this.celebrityData.data.FacebookFollowers,FacebookLink:this.celebrityData.data.FacebookLink,YoutubeHandle:this.celebrityData.data.YoutubeHandle,YoutubeFollowers:this.celebrityData.data.YoutubeFollowers,YoutubeLink:this.celebrityData.data.YoutubeLink,TwitchHandle:this.celebrityData.data.TwitchHandle,TwitchFollowers:this.celebrityData.data.TwitchFollowers,TwitchLink:this.celebrityData.data.TwitchLink},agencyInfo:{Agency:this.celebrityData.data.Agency,AgencyContactPerson:this.celebrityData.data.AgencyContactPerson,AgencyNumber:this.celebrityData.data.AgencyNumber,AgencyEmail:this.celebrityData.data.AgencyEmail,PreviouslyWorkedWith:this.celebrityData.data.PreviouslyWorkedWith},extraInfo:{PreviousBrands:this.celebrityData.data.PreviousBrands,Bio:this.celebrityData.data.Bio,Notes:this.celebrityData.data.Notes,Rating:this.celebrityData.data.Rating}})})}onSubmit(){const s=this.processFormGroups(this.editCelebrityForm);this.service.updateCelebrity(s,this.source.id).subscribe(n=>{this.data=n,"success"===this.data.status?(this.dialogRef.close(),this.toastrService.success("Influencer Edited Successfully")):this.toastrService.error("Error! Please Try Again")})}processFormGroups(s){let n={};return s instanceof a.cw&&Object.keys(s.controls).forEach(y=>{const p=s.get(y);p instanceof a.cw?n={...n,...this.processFormGroups(p)}:p instanceof a.NI&&(n[y]=p.value)}),n}}r.\u0275fac=function(s){return new(s||r)(t.Y36(a.qu),t.Y36(c.j),t.Y36(e.WI),t.Y36(e.so),t.Y36(h._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit-celebrity"]],decls:17,vars:5,consts:[[1,"form-container"],["autocomplete","off",3,"formGroup","ngSubmit"],["formGroupName","generalInfo",3,"isCelebrity"],["formGroupName","socials"],["formGroupName","agencyInfo",3,"isCelebrity"],["formGroupName","extraInfo",3,"isCelebrity"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"General Information"),t.qZA(),t._UZ(4,"app-general-info",2)(5,"hr"),t.TgZ(6,"h2"),t._uU(7,"Socials"),t.qZA(),t._UZ(8,"app-socials",3)(9,"hr"),t.TgZ(10,"h2"),t._uU(11,"Agency Information"),t.qZA(),t._UZ(12,"app-agency-info",4)(13,"hr")(14,"app-extra-info",5),t.TgZ(15,"button",6),t._uU(16," Edit Celebrity "),t.qZA()()()),2&s&&(t.xp6(1),t.Q6J("formGroup",n.editCelebrityForm),t.xp6(3),t.Q6J("isCelebrity",n.isCelebrity),t.xp6(8),t.Q6J("isCelebrity",n.isCelebrity),t.xp6(2),t.Q6J("isCelebrity",n.isCelebrity),t.xp6(1),t.Q6J("disabled",!n.editCelebrityForm.valid))},dependencies:[g.X,f.A,l.B,d.m,a._Y,a.JL,a.sg,a.x0,i.lW],styles:[".form-container[_ngcontent-%COMP%]{background-color:#202020;padding:50px}"]})},4492:(_,m,o)=>{o.d(m,{p:()=>l});var a=o(6223),e=o(5879),t=o(3934),c=o(6814);function h(d,i){1&d&&(e.TgZ(0,"div",16),e._uU(1," Passwords do not match! "),e.qZA())}function g(d,i){1&d&&(e.TgZ(0,"div",17),e._uU(1," Password changed successfully! "),e.qZA())}function f(d,i){1&d&&(e.TgZ(0,"div",18),e._uU(1," Password change failed. Please try again later. "),e.qZA())}class l{constructor(i,r){this.formBuilder=i,this.userService=r,this.passwordMatchError=!1,this.passwordChangeSuccess=!1,this.passwordChangeError=!1,this.changePasswordForm=this.formBuilder.group({oldPassword:["",a.kI.required],newPassword:["",a.kI.required],confirmPassword:["",a.kI.required]},{validator:this.matchPassword.bind(this)})}matchPassword(i){const r=i.get("newPassword")?.value,u=i.get("confirmPassword")?.value;return this.passwordMatchError=r!==u,this.passwordMatchError?{passwordMismatch:!0}:null}onSubmit(){console.log({...this.changePasswordForm.value,id:this.userService.getID()}),this.userService.changePassword({oldPassword:this.changePasswordForm.value.oldPassword,newPassword:this.changePasswordForm.value.newPassword,id:this.userService.getID()}).subscribe(i=>{"success"==i.status&&setTimeout(()=>{window.location.reload()},2e3)})}}l.\u0275fac=function(i){return new(i||l)(e.Y36(a.qu),e.Y36(t.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-change-password"]],decls:23,vars:5,consts:[[1,"container","mt-3"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","oldPassword"],["type","password","id","oldPassword","formControlName","oldPassword","required","",1,"form-control"],["for","newPassword"],["type","password","id","newPassword","formControlName","newPassword","required","",1,"form-control"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",2,"margin-top","2%",3,"disabled"],["class","mt-2 alert alert-success",4,"ngIf"],["class","mt-2 alert alert-danger",4,"ngIf"],[1,"text-danger"],[1,"mt-2","alert","alert-success"],[1,"mt-2","alert","alert-danger"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Change Password"),e.qZA(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(6,"div",5)(7,"label",6),e._uU(8,"Old Password"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5)(11,"label",8),e._uU(12,"New Password"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5)(15,"label",10),e._uU(16,"Confirm Password"),e.qZA(),e._UZ(17,"input",11),e.YNc(18,h,2,0,"div",12),e.qZA(),e.TgZ(19,"button",13),e._uU(20," Submit "),e.qZA(),e.YNc(21,g,2,0,"div",14),e.YNc(22,f,2,0,"div",15),e.qZA()()()()),2&i&&(e.xp6(5),e.Q6J("formGroup",r.changePasswordForm),e.xp6(13),e.Q6J("ngIf",r.passwordMatchError),e.xp6(1),e.Q6J("disabled",!r.changePasswordForm.valid),e.xp6(2),e.Q6J("ngIf",r.passwordChangeSuccess),e.xp6(1),e.Q6J("ngIf",r.passwordChangeError))},dependencies:[c.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.sg,a.u]})},4740:(_,m,o)=>{o.d(m,{w:()=>e});var a=o(5879);class e{}e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-not-found"]],decls:2,vars:0,template:function(c,h){1&c&&(a.TgZ(0,"p"),a._uU(1,"not-found works!"),a.qZA())}})},785:(_,m,o)=>{o.r(m),o.d(m,{SharedModule:()=>r});var a=o(6814),e=o(1896),t=o(5879);class c{}c.\u0275fac=function(s){return new(s||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-access-denied"]],decls:2,vars:0,template:function(s,n){1&s&&(t.TgZ(0,"p"),t._uU(1,"access-denied works!"),t.qZA())}});var h=o(4740),g=o(4492);const f=[{path:"accessDenied",component:c},{path:"notFound",component:h.w},{path:"changePassword",component:g.p}];class l{}l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[e.Bz.forChild(f),e.Bz]});var d=o(1685),i=o(6223);class r{}r.\u0275fac=function(s){return new(s||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[a.ez,l,d.q,i.UX]})}}]);