"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[112],{7112:(It,w,l)=>{l.r(w),l.d(w,{CampaignModule:()=>C});var _=l(6814),h=l(1896),y=l(5753),x=l(3365),Z=l(3566),m=l(5313),c=l(6223),t=l(5879),D=l(5516),b=l(1474);class p{constructor(e){this.http=e,this.campaignApiURL=D.N.apiUrl+"/v1/campaigns"}getCampaigns(){return this.http.get(`${this.campaignApiURL}/getCampaigns`)}getCampaignById(e){return this.http.get(`${this.campaignApiURL}/getCampaignById/${e}`)}addCampaign(e){return this.http.post(`${this.campaignApiURL}/addCampaign`,e)}addInfluencersToCampaign(e,i){return this.http.post(`${this.campaignApiURL}/addInfluencersToCampaign/${e}`,i)}}p.\u0275fac=function(e){return new(e||p)(t.LFG(b.eN))},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"});var U=l(9229),Y=l(9061),N=l(3934),M=l(2032),T=l(4170),P=l(2296),S=l(8525),A=l(3680);function q(n,e){if(1&n&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.name)}}class g{constructor(e,i,a,o,r){this.formBuilder=e,this.campaignService=i,this.toastrService=a,this.clientService=o,this.userService=r,this.userId=this.userService.getID(),this.newCampaignForm=this.formBuilder.group({campaignName:["",[c.kI.required]],market:["",[c.kI.required]],clientId:["",[c.kI.required]]})}ngOnInit(){this.loadClients()}addCampaign(){this.campaignService.addCampaign(this.newCampaignForm.value).subscribe(e=>{this.toastrService.success("Campaign added successfully")},e=>{this.toastrService.error("Error")})}loadClients(){this.clientService.getClients().subscribe(e=>{this.clients=e,this.clients.sort((i,a)=>i.name<a.name?-1:i.name>a.name?1:0)})}}g.\u0275fac=function(e){return new(e||g)(t.Y36(c.qu),t.Y36(p),t.Y36(U._W),t.Y36(Y.y),t.Y36(N.K))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-new-campaign"]],decls:20,vars:3,consts:[[1,"form-container"],[3,"formGroup"],[1,"row"],["matInput","","type","text","formControlName","campaignName","autocomplete","off"],["matInput","","type","text","formControlName","market","autocomplete","off"],["formControlName","clientId"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"h2"),t._uU(3,"New Client"),t.qZA(),t.TgZ(4,"div",2)(5,"mat-form-field")(6,"mat-label"),t._uU(7," Name "),t.qZA(),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"mat-form-field")(10,"mat-label"),t._uU(11," Market "),t.qZA(),t._UZ(12,"input",4),t.qZA(),t.TgZ(13,"mat-form-field")(14,"mat-label"),t._uU(15,"Client"),t.qZA(),t.TgZ(16,"mat-select",5),t.YNc(17,q,2,2,"mat-option",6),t.qZA()()(),t.TgZ(18,"button",7),t.NdJ("click",function(){return i.addCampaign()}),t._uU(19," Add Campaign "),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.newCampaignForm),t.xp6(16),t.Q6J("ngForOf",i.clients),t.xp6(1),t.Q6J("disabled",!i.newCampaignForm.valid))},dependencies:[_.sg,M.Nt,T.KE,T.hX,P.lW,S.gD,A.ey,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],styles:[".form-container[_ngcontent-%COMP%]{margin:3%}.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4789a1}"]});var v=l(9347),V=l(617),O=l(4630);function k(n,e){if(1&n&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function Q(n,e){if(1&n&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function I(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Campaign"),t.qZA())}function J(n,e){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.campaignName," ")}}function B(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Client"),t.qZA())}function F(n,e){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.client.name," ")}}function $(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Market"),t.qZA())}function j(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.market)}}function R(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1," Client's Industry "),t.qZA())}function L(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.client.industry)}}function G(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Action"),t.qZA())}function H(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"td",31)(1,"button",32),t.NdJ("click",function(){const r=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.viewCampaign(r.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove_red_eye"),t.qZA()()()}}function z(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Vertical"),t.qZA())}function E(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.influencerVertical," ")}}function X(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Platform"),t.qZA())}function K(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.platform," ")}}function W(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Deliverable"),t.qZA())}function tt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.deliverable," ")}}function et(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"POC"),t.qZA())}function nt(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.poc," ")}}function it(n,e){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Year"),t.qZA())}function at(n,e){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.Oqu(i.year)}}function ot(n,e){1&n&&t._UZ(0,"tr",33)}function lt(n,e){1&n&&t._UZ(0,"tr",34)}const mt=function(){return[5,10,25,50,100]};class d{ngOnInit(){this.loadCampaigns(),this.filteredCampaigns=this.campaigns,this.filteredClients=this.clients,this.filteredInfluencers=this.influencers}searchCampaigns(e){e?(this.filteredCampaigns=this.campaigns.filter(i=>i.toLowerCase().includes(e.toLowerCase())),this.filterCampaign(e.toLowerCase())):(this.filteredCampaigns=this.campaigns,this.filterCampaign(e.toLowerCase()))}searchClients(e){e?(this.filteredClients=this.clients.filter(i=>i.toLowerCase().includes(e.toLowerCase())),this.filterClient(e.toLowerCase())):(this.filteredClients=this.clients,this.filterClient(e.toLowerCase()))}onCampaignSelect(e){this.selectedCampaign=e.option.value,this.filterCampaign(this.selectedCampaign.toLowerCase())}onClientSelect(e){this.selectedClient=e.option.value,this.filterClient(this.selectedClient.toLowerCase())}constructor(e,i,a,o){this.userService=e,this.campaignService=i,this.dialog=a,this.router=o,this.userRole=this.userService.getRole(),this.campaigns=[],this.clients=[],this.influencers=[],this.displayedColumns=["campaignName","clientName","market","clientIndustry","action"],this.filterValues={campaignName:"",clientName:"",influencerName:""},this.filteredCampaigns=[],this.filteredClients=[],this.filteredInfluencers=[],this.selectedCampaign="",this.selectedClient="",this.selectedInfluencer=""}loadCampaigns(){this.campaignService.getCampaigns().subscribe(e=>{this.dataSource=new m.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.campaigns=[...new Set(e.map(i=>i.campaignName))].sort(),this.clients=[...new Set(e.map(i=>i.client.name))]})}filterClient(e){this.filterValues.clientName=e,this.applyFilter(),this.updateFilterOptions()}filterCampaign(e){this.filterValues.campaignName=e,this.applyFilter(),this.updateFilterOptions()}applyFilter(){this.dataSource.filterPredicate=(e,i)=>{const a=JSON.parse(i),o=!a.clientName||e.client.name.toLowerCase().includes(a.clientName.toLowerCase()),r=!a.campaignName||e.campaignName.toLowerCase().includes(a.campaignName.toLowerCase());return o&&r},this.dataSource.filter=JSON.stringify(this.filterValues)}updateFilterOptions(){const e=this.dataSource.filteredData||[];this.campaigns=[...new Set(e.map(i=>i.campaignName))].sort(),this.clients=[...new Set(e.map(i=>i.client.name))].sort()}viewCampaign(e){this.router.navigate([`/home/campaign/campaignDetails/${e}`])}redirectToNewCampaign(){this.dialog?.open(g,{width:"80%",height:"65%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{}})}}d.\u0275fac=function(e){return new(e||d)(t.Y36(N.K),t.Y36(p),t.Y36(v.uw),t.Y36(h.F0))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-view-campaigns"]],viewQuery:function(e,i){if(1&e&&(t.Gf(x.NW,5),t.Gf(Z.YE,5),t.Gf(m.BZ,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first),t.iGM(a=t.CRH())&&(i.table=a.first)}},decls:58,vars:11,consts:[[1,"logs-button"],["type","button",2,"margin-left","2%",3,"click"],[1,"filter-container"],[1,"filter"],["type","text","matInput","",3,"matAutocomplete","ngModel","ngModelChange","input","focus"],[3,"optionSelected"],["autoCampaign","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["autoClient","matAutocomplete"],["value",""],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","campaignName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","clientName"],["matColumnDef","market"],["mat-cell","",4,"matCellDef"],["matColumnDef","clientIndustry"],["matColumnDef","action"],["matColumnDef","influencerVertical"],["matColumnDef","platform"],["matColumnDef","deliverable"],["matColumnDef","poc"],["matColumnDef","year"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",4,"matRowDef","matRowDefColumns"],["pageSize","20","showFirstLastButtons","","aria-label","Select page",3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"truncate-text"],["mat-cell",""],[1,"icon-btn",3,"click"],["mat-header-row","","sticky",""],["mat-row","","sticky",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"H2"),t._uU(2,"Clients"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.redirectToNewCampaign()}),t._uU(4," Add New Campaign "),t.qZA()(),t.TgZ(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),t._uU(8,"Campaigns Filter"),t.qZA(),t.TgZ(9,"input",4),t.NdJ("ngModelChange",function(o){return i.selectedCampaign=o})("input",function(o){return i.searchCampaigns(o.target.value)})("focus",function(o){return i.searchCampaigns(o.target.value)}),t.qZA(),t.TgZ(10,"mat-autocomplete",5,6),t.NdJ("optionSelected",function(o){return i.onCampaignSelect(o)}),t.YNc(12,k,2,2,"mat-option",7),t.qZA()(),t.TgZ(13,"mat-form-field",3)(14,"mat-label"),t._uU(15,"Client Filter"),t.qZA(),t.TgZ(16,"input",4),t.NdJ("ngModelChange",function(o){return i.selectedClient=o})("input",function(o){return i.searchClients(o.target.value)})("focus",function(o){return i.searchClients(o.target.value)}),t.qZA(),t.TgZ(17,"mat-autocomplete",5,8),t.NdJ("optionSelected",function(o){return i.onClientSelect(o)}),t.TgZ(19,"mat-option",9),t._uU(20,"All Clients"),t.qZA(),t.YNc(21,Q,2,2,"mat-option",7),t.qZA()()(),t.TgZ(22,"div",10)(23,"table",11),t.ynx(24,12),t.YNc(25,I,2,0,"th",13),t.YNc(26,J,2,1,"td",14),t.BQk(),t.ynx(27,15),t.YNc(28,B,2,0,"th",13),t.YNc(29,F,2,1,"td",14),t.BQk(),t.ynx(30,16),t.YNc(31,$,2,0,"th",13),t.YNc(32,j,2,1,"td",17),t.BQk(),t.ynx(33,18),t.YNc(34,R,2,0,"th",13),t.YNc(35,L,2,1,"td",17),t.BQk(),t.ynx(36,19),t.YNc(37,G,2,0,"th",13),t.YNc(38,H,4,0,"td",17),t._uU(39," > "),t.BQk(),t.ynx(40,20),t.YNc(41,z,2,0,"th",13),t.YNc(42,E,2,1,"td",17),t.BQk(),t.ynx(43,21),t.YNc(44,X,2,0,"th",13),t.YNc(45,K,2,1,"td",17),t.BQk(),t.ynx(46,22),t.YNc(47,W,2,0,"th",13),t.YNc(48,tt,2,1,"td",17),t.BQk(),t.ynx(49,23),t.YNc(50,et,2,0,"th",13),t.YNc(51,nt,2,1,"td",17),t.BQk(),t.ynx(52,24),t.YNc(53,it,2,0,"th",13),t.YNc(54,at,2,1,"td",17),t.BQk(),t.YNc(55,ot,1,0,"tr",25),t.YNc(56,lt,1,0,"tr",26),t.qZA()(),t._UZ(57,"mat-paginator",27)),2&e){const a=t.MAs(11),o=t.MAs(18);t.xp6(9),t.Q6J("matAutocomplete",a)("ngModel",i.selectedCampaign),t.xp6(3),t.Q6J("ngForOf",i.filteredCampaigns),t.xp6(4),t.Q6J("matAutocomplete",o)("ngModel",i.selectedClient),t.xp6(5),t.Q6J("ngForOf",i.clients),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(32),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(10,mt))}},dependencies:[_.sg,M.Nt,T.KE,T.hX,V.Hw,A.ey,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,x.NW,Z.YE,Z.nU,O.XC,O.ZL,c.Fj,c.JJ,c.On],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});var ct=l(825);function st(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Name "),t.qZA())}function rt(n,e){if(1&n){const i=t.EpF();t.TgZ(0,"td",21),t.NdJ("click",function(){const r=t.CHM(i).$implicit,s=t.oxw(2);return t.KtG(s.viewInfluencer(r.influencerId))}),t._uU(1),t.qZA()}if(2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.showName?i.name:""," ")}}function pt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Platform "),t.qZA())}function gt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.platform," ")}}function ut(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Deliverable "),t.qZA())}function Ct(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.deliverable," ")}}function dt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Followers "),t.qZA())}function ft(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.followers," ")}}function _t(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Reach "),t.qZA())}function ht(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.reach," ")}}function Zt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Impressions "),t.qZA())}function Tt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.impressions," ")}}function vt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Interactions "),t.qZA())}function wt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.interactions," ")}}function xt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Client Cost "),t.qZA())}function Nt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.clientCost," ")}}function Mt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Influencer Cost "),t.qZA())}function At(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.influencerCost," ")}}function Ot(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Metric "),t.qZA())}function yt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.metric," ")}}function Dt(n,e){1&n&&(t.TgZ(0,"th",20),t._uU(1," Year "),t.qZA())}function bt(n,e){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const i=e.$implicit;t.xp6(1),t.hij(" ",i.year," ")}}function Ut(n,e){1&n&&t._UZ(0,"tr",23)}function Yt(n,e){1&n&&t._UZ(0,"tr",24)}function Pt(n,e){if(1&n&&(t.TgZ(0,"div",2)(1,"table",3),t.ynx(2,4),t.YNc(3,st,2,0,"th",5),t.YNc(4,rt,2,1,"td",6),t.BQk(),t.ynx(5,7),t.YNc(6,pt,2,0,"th",5),t.YNc(7,gt,2,1,"td",8),t.BQk(),t.ynx(8,9),t.YNc(9,ut,2,0,"th",5),t.YNc(10,Ct,2,1,"td",8),t.BQk(),t.ynx(11,10),t.YNc(12,dt,2,0,"th",5),t.YNc(13,ft,2,1,"td",8),t.BQk(),t.ynx(14,11),t.YNc(15,_t,2,0,"th",5),t.YNc(16,ht,2,1,"td",8),t.BQk(),t.ynx(17,12),t.YNc(18,Zt,2,0,"th",5),t.YNc(19,Tt,2,1,"td",8),t.BQk(),t.ynx(20,13),t.YNc(21,vt,2,0,"th",5),t.YNc(22,wt,2,1,"td",8),t.BQk(),t.ynx(23,14),t.YNc(24,xt,2,0,"th",5),t.YNc(25,Nt,2,1,"td",8),t.BQk(),t.ynx(26,15),t.YNc(27,Mt,2,0,"th",5),t.YNc(28,At,2,1,"td",8),t.BQk(),t.ynx(29,16),t.YNc(30,Ot,2,0,"th",5),t.YNc(31,yt,2,1,"td",8),t.BQk(),t.ynx(32,17),t.YNc(33,Dt,2,0,"th",5),t.YNc(34,bt,2,1,"td",8),t.BQk(),t.YNc(35,Ut,1,0,"tr",18),t.YNc(36,Yt,1,0,"tr",19),t.qZA()()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns)}}class f{constructor(e,i,a,o){this.activatedRoute=e,this.campaignService=i,this.cdr=a,this.dialog=o,this.dataSource=[],this.displayedColumns=["name","platform","deliverable","followers","reach","impressions","interactions","clientCost","influencerCost","metric","year"]}ngOnInit(){this.loadCampaignData()}ngOnChanges(){}loadCampaignData(){this.activatedRoute.params.subscribe(e=>{this.id=e.id,this.campaignService.getCampaignById(this.id).subscribe(i=>{this.campaign=i,this.campaign.Influencers.forEach(o=>{let r=!0;o.influencerStatistics.forEach(s=>{this.dataSource.push({showName:r,influencerId:o.id,name:r?o.Name:"",platform:s.platform,deliverable:s.deliverable,followers:s.followers,reach:s.reach,impressions:s.impressions,interactions:s.interactions,clientCost:s.clientCost,influencerCost:s.influencerCost,metric:s.metric,year:s.year}),r=!1})}),this.cdr.detectChanges(),console.log(this.dataSource)})})}viewInfluencer(e){this.dialog?.open(ct.Q,{width:"100%",height:"95%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:e}})}}f.\u0275fac=function(e){return new(e||f)(t.Y36(h.gz),t.Y36(p),t.Y36(t.sBO),t.Y36(v.uw))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-campaign-details"]],features:[t.TTD],decls:9,vars:4,consts:[[2,"color","#4789A1","font-size","250%","margin-top","3%"],["class","table-container",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","platform"],["mat-cell","",4,"matCellDef"],["matColumnDef","deliverable"],["matColumnDef","followers"],["matColumnDef","reach"],["matColumnDef","impressions"],["matColumnDef","interactions"],["matColumnDef","clientCost"],["matColumnDef","influencerCost"],["matColumnDef","metric"],["matColumnDef","year"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA(),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"h1",0),t._uU(7," Influencers' Results"),t.qZA(),t.YNc(8,Pt,37,3,"div",1)),2&e&&(t.xp6(1),t.hij("Campaign Name: ",null==i||null==i.campaign?null:i.campaign.campaignName,""),t.xp6(2),t.hij("Client: ",null==i||null==i.campaign||null==i.campaign.client?null:i.campaign.client.name,""),t.xp6(2),t.hij("Client Industry: ",null==i||null==i.campaign||null==i.campaign.client?null:i.campaign.client.industry,""),t.xp6(3),t.Q6J("ngIf",i.dataSource&&i.dataSource.length>0))},dependencies:[_.O5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Z.YE],styles:["h1[_ngcontent-%COMP%]{color:#fff}"]});let St=y.m;const qt=[{path:"viewCampaigns",component:d},{path:"campaignDetails/:id",component:f},{path:"newCampaign",component:g},{path:"",redirectTo:`${St.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class u{}u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[h.Bz.forChild(qt),h.Bz]});var Vt=l(8519),kt=l(3435),Qt=l(3006);class C{}C.\u0275fac=function(e){return new(e||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[_.ez,u,Vt.q,c.UX,c.u5,v.Is,kt.ViewBriefModule,Qt.SharingModule]})}}]);