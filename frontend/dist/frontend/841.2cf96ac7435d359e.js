"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[841],{3841:(Jt,R,r)=>{r.r(R),r.d(R,{TalentModule:()=>C});var u=r(6814),g=r(1896),_=r(1476),p=r(3566),l=r(5313),Z=r(5753),e=r(5879),F=r(9554),M=r(1921),T=r(3934),N=r(617);function J(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Brief Name"),e.qZA())}function B(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.Brief.campaignName," ")}}function V(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Deadline"),e.qZA())}function $(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,o.deadline)," ")}}function G(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Weight"),e.qZA())}function E(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.weight)}}function H(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Created On"),e.qZA())}function j(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,o.createdAt)," ")}}function z(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Progress"),e.qZA())}function K(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.progress)}}function W(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Viewed"),e.qZA())}function X(n,t){1&n&&(e.TgZ(0,"span"),e._uU(1," Yes "),e.qZA())}function ee(n,t){1&n&&(e.TgZ(0,"span"),e._uU(1," No "),e.qZA())}function te(n,t){if(1&n&&(e.TgZ(0,"td",19),e.YNc(1,X,2,0,"span",20),e.YNc(2,ee,2,0,"span",20),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Q6J("ngIf",o.ViewedByTalent>0),e.xp6(1),e.Q6J("ngIf",o.ViewedByTalent<1)}}function ne(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Priority"),e.qZA())}function oe(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.priority)}}function ie(n,t){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Status"),e.qZA())}function ae(n,t){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.Brief.Status)}}function re(n,t){1&n&&(e.TgZ(0,"th",21),e._uU(1,"View"),e.qZA())}function le(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"td",19)(1,"button",22),e.NdJ("click",function(){const c=e.CHM(o).$implicit,m=e.oxw();return e.KtG(m.viewedTask(c.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_red_eye"),e.qZA()()()}}function se(n,t){1&n&&e._UZ(0,"tr",23)}function ce(n,t){1&n&&e._UZ(0,"tr",24)}const me=function(){return[3,5,10,25,100]};class v{constructor(t,o,i,s,c){this.salesService=t,this.route=o,this.taskService=i,this.userService=s,this.activatedRoute=c,this.path=Z.m,this.displayedColumns=["briefName","deadline","progress","weight","createdAt","status","Action"],this.privilegeLevel=this.userService.getPrivilegeLevel()}ngOnInit(){this.privilegeLevel<7?(this.userID=this.userService.getID(),this.getMyTasks(this.userID)):this.activatedRoute.params.subscribe(t=>{this.id=t.id,this.taskService.getMyTasks(this.id).subscribe(o=>{this.dataSource=o.data?.assignedUsers,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}getMyTasks(t){this.taskService.getMyTasks(t).subscribe(o=>{this.briefDetails=o,this.dataSource=new l.by(this.briefDetails.data?.assignedUsers),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewedTask(t){this.privilegeLevel<7&&this.taskService.updateStatus({id:t}).subscribe(o=>{}),this.salesService.getSalesBriefIdbyTaskId(t).subscribe(o=>{this.route.navigate([`${this.path.viewBrief+o.data.brief_id}`])})}}v.\u0275fac=function(t){return new(t||v)(e.Y36(F.M),e.Y36(g.F0),e.Y36(M.M),e.Y36(T.K),e.Y36(g.gz))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-person-tasks"]],viewQuery:function(t,o){if(1&t&&(e.Gf(_.NW,5),e.Gf(p.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first)}},decls:33,vars:8,consts:[[2,"position","relative"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","briefName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","deadline"],["matColumnDef","weight"],["matColumnDef","createdAt"],["matColumnDef","progress"],["matColumnDef","ViewedByTalent"],["matColumnDef","priority"],["matColumnDef","status"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell",""],[1,"icon-btn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2),e.ynx(3,3),e.YNc(4,J,2,0,"th",4),e.YNc(5,B,2,1,"td",5),e.BQk(),e.ynx(6,6),e.YNc(7,V,2,0,"th",4),e.YNc(8,$,3,3,"td",5),e.BQk(),e.ynx(9,7),e.YNc(10,G,2,0,"th",4),e.YNc(11,E,2,1,"td",5),e.BQk(),e.ynx(12,8),e.YNc(13,H,2,0,"th",4),e.YNc(14,j,3,3,"td",5),e.BQk(),e.ynx(15,9),e.YNc(16,z,2,0,"th",4),e.YNc(17,K,2,1,"td",5),e.BQk(),e.ynx(18,10),e.YNc(19,W,2,0,"th",4),e.YNc(20,te,3,2,"td",5),e.BQk(),e.ynx(21,11),e.YNc(22,ne,2,0,"th",4),e.YNc(23,oe,2,1,"td",5),e.BQk(),e.ynx(24,12),e.YNc(25,ie,2,0,"th",4),e.YNc(26,ae,2,1,"td",5),e.BQk(),e.ynx(27,13),e.YNc(28,re,2,0,"th",14),e.YNc(29,le,4,0,"td",5),e.BQk(),e.YNc(30,se,1,0,"tr",15),e.YNc(31,ce,1,0,"tr",16),e.qZA(),e._UZ(32,"mat-paginator",17),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",100)("pageSize",10)("pageSizeOptions",e.DdM(7,me)))},dependencies:[u.O5,N.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,u.uU],styles:[".warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:1%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-top:1px solid black;cursor:pointer}"]});var a=r(6223),P=r(9229),k=r(96),S=r(2032),f=r(4170),O=r(2296),ue=r(1587);function pe(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Response Rate"),e.qZA())}function ge(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.responseRate)}}function fe(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Content Quality"),e.qZA())}function de(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.contentQuality)}}function _e(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Creativity"),e.qZA())}function he(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.creativity)}}function Ce(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Flexibility"),e.qZA())}function Ze(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.flexibility)}}function Te(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1," Campaign Performance "),e.qZA())}function ve(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.campaignPerformance," ")}}function Ie(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Notes"),e.qZA())}function ye(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.notes)}}function xe(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Reviewed By"),e.qZA())}function Ae(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.userID.name)}}function be(n,t){1&n&&(e.TgZ(0,"th",24),e._uU(1,"Date"),e.qZA())}function qe(n,t){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,o.createdAt))}}function Ne(n,t){1&n&&e._UZ(0,"tr",26)}function ke(n,t){1&n&&e._UZ(0,"tr",27)}const Ue=function(){return[3,5,10,25,100]};class I{constructor(t,o,i,s,c){this.formBuilder=t,this.route=o,this.userService=i,this.toastrService=s,this.influencerService=c,this.displayedColumns=["responseRate","contentQuality","creativity","flexibility","campaignPerformance","notes","name","createdAt"],this.influencerForm=this.formBuilder.group({responseRate:["",a.kI.required],contentQuality:["",a.kI.required],creativity:["",a.kI.required],flexibility:["",a.kI.required],campaignPerformance:["",a.kI.required],notes:["",a.kI.maxLength(500)]})}ngOnInit(){this.influencerID=this.route.snapshot.paramMap.get("id"),this.GetInfluencerRatings(this.influencerID)}GetInfluencerRatings(t){this.influencerService.getInfluencerRatings(t).subscribe(o=>{this.influenceRatings=o,this.dataSource=new l.by(this.influenceRatings.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}onRatingClicked(t,o){const i=parseInt(t.target.dataset.rating,10);this.influencerForm.controls[o].setValue(i)}onSubmit(){this.influencerService.createInfluencerRating({influencer_id:this.influencerID,createdBy_id:this.userService.getID(),...this.influencerForm.value}).subscribe(t=>{this.data=t,"success"==this.data.status&&this.toastrService.success("Rating Added Successfully!")})}handleClickResponseRate(t){this.influencerForm.controls.responseRate.setValue(t)}handleClickContentQuality(t){this.influencerForm.controls.contentQuality.setValue(t)}handleClickCreativity(t){this.influencerForm.controls.creativity.setValue(t)}handleClickFlexibility(t){this.influencerForm.controls.flexibility.setValue(t)}handleClickCampaignPerformance(t){this.influencerForm.controls.campaignPerformance.setValue(t)}}I.\u0275fac=function(t){return new(t||I)(e.Y36(a.qu),e.Y36(g.gz),e.Y36(T.K),e.Y36(P._W),e.Y36(k.N))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-influencer-rating"]],viewQuery:function(t,o){if(1&t&&(e.Gf(_.NW,5),e.Gf(p.YE,7),e.Gf(l.BZ,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first),e.iGM(i=e.CRH())&&(o.table=i.first)}},decls:81,vars:11,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"table"],[1,"star-rating"],[3,"onClick"],["formControlName","notes","matInput","","placeholder","Notes"],["align","end"],["mat-raised-button","","type","submit",2,"margin-top","2%",3,"disabled"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","responseRate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contentQuality"],["matColumnDef","creativity"],["matColumnDef","flexibility"],["matColumnDef","campaignPerformance"],["matColumnDef","notes"],["matColumnDef","name"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e._UZ(1,"h2"),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),e._uU(7,"Field"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Rating"),e.qZA()()(),e.TgZ(10,"tbody")(11,"tr")(12,"td"),e._uU(13,"Response Rate"),e.qZA(),e.TgZ(14,"td")(15,"span",3)(16,"app-star-rating",4),e.NdJ("onClick",function(s){return o.handleClickResponseRate(s)}),e.qZA()()()(),e.TgZ(17,"tr")(18,"td"),e._uU(19,"Content Quality"),e.qZA(),e.TgZ(20,"td")(21,"span",3)(22,"app-star-rating",4),e.NdJ("onClick",function(s){return o.handleClickContentQuality(s)}),e.qZA()()()(),e.TgZ(23,"tr")(24,"td"),e._uU(25,"Creativity"),e.qZA(),e.TgZ(26,"td")(27,"span",3)(28,"app-star-rating",4),e.NdJ("onClick",function(s){return o.handleClickCreativity(s)}),e.qZA()()()(),e.TgZ(29,"tr")(30,"td"),e._uU(31,"Flexibility"),e.qZA(),e.TgZ(32,"td")(33,"span",3)(34,"app-star-rating",4),e.NdJ("onClick",function(s){return o.handleClickFlexibility(s)}),e.qZA()()()(),e.TgZ(35,"tr")(36,"td"),e._uU(37,"Campaign Performance"),e.qZA(),e.TgZ(38,"td")(39,"span",3)(40,"app-star-rating",4),e.NdJ("onClick",function(s){return o.handleClickCampaignPerformance(s)}),e.qZA()()()(),e.TgZ(41,"tr")(42,"td"),e._uU(43,"Notes"),e.qZA(),e.TgZ(44,"td")(45,"mat-form-field"),e._UZ(46,"textarea",5),e.TgZ(47,"mat-hint",6),e._uU(48),e.qZA()()()(),e.TgZ(49,"button",7),e._uU(50," Submit "),e.qZA()()()()(),e.TgZ(51,"div",8)(52,"table",9,10),e.ynx(54,11),e.YNc(55,pe,2,0,"th",12),e.YNc(56,ge,2,1,"td",13),e.BQk(),e.ynx(57,14),e.YNc(58,fe,2,0,"th",12),e.YNc(59,de,2,1,"td",13),e.BQk(),e.ynx(60,15),e.YNc(61,_e,2,0,"th",12),e.YNc(62,he,2,1,"td",13),e.BQk(),e.ynx(63,16),e.YNc(64,Ce,2,0,"th",12),e.YNc(65,Ze,2,1,"td",13),e.BQk(),e.ynx(66,17),e.YNc(67,Te,2,0,"th",12),e.YNc(68,ve,2,1,"td",13),e.BQk(),e.ynx(69,18),e.YNc(70,Ie,2,0,"th",12),e.YNc(71,ye,2,1,"td",13),e.BQk(),e.ynx(72,19),e.YNc(73,xe,2,0,"th",12),e.YNc(74,Ae,2,1,"td",13),e.BQk(),e.ynx(75,20),e.YNc(76,be,2,0,"th",12),e.YNc(77,qe,3,3,"td",13),e.BQk(),e.YNc(78,Ne,1,0,"tr",21),e.YNc(79,ke,1,0,"tr",22),e.qZA(),e._UZ(80,"mat-paginator",23),e.qZA()),2&t){let i;e.xp6(2),e.Q6J("formGroup",o.influencerForm),e.xp6(46),e.hij("",(null==(i=o.influencerForm.get("notes"))||null==i.value?null:i.value.length)||0,"/500"),e.xp6(1),e.Q6J("disabled",o.influencerForm.invalid),e.xp6(3),e.Q6J("dataSource",o.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",100)("pageSize",5)("pageSizeOptions",e.DdM(10,Ue))}},dependencies:[S.Nt,f.KE,f.bx,O.lW,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,ue.T,u.uU]});var d=r(9347),U=r(8074);function we(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Platform "),e.qZA())}function Pe(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.platform," ")}}function Se(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Deliverable "),e.qZA())}function Oe(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.deliverable," ")}}function De(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Quantity "),e.qZA())}function Ye(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.quantity," ")}}function Le(n,t){1&n&&e._UZ(0,"mat-header-row")}function Qe(n,t){1&n&&e._UZ(0,"mat-row")}function Re(n,t){if(1&n&&(e.TgZ(0,"div")(1,"mat-table",2),e.ynx(2,3),e.YNc(3,we,2,0,"mat-header-cell",4),e.YNc(4,Pe,2,1,"mat-cell",5),e.BQk(),e.ynx(5,6),e.YNc(6,Se,2,0,"mat-header-cell",4),e.YNc(7,Oe,2,1,"mat-cell",5),e.BQk(),e.ynx(8,7),e.YNc(9,De,2,0,"mat-header-cell",4),e.YNc(10,Ye,2,1,"mat-cell",5),e.BQk(),e.YNc(11,Le,1,0,"mat-header-row",8),e.YNc(12,Qe,1,0,"mat-row",9),e.qZA(),e._UZ(13,"hr"),e.TgZ(14,"h2"),e._uU(15),e.qZA(),e.TgZ(16,"h2"),e._uU(17),e.qZA(),e.TgZ(18,"h2"),e._uU(19),e.qZA()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("dataSource",o.log.packages),e.xp6(10),e.Q6J("matHeaderRowDef",o.displayedColumnsForPackages),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumnsForPackages),e.xp6(3),e.hij("Reply Time : ",o.log.time_to_reply,""),e.xp6(2),e.hij("Notes: ",o.log.notes,""),e.xp6(2),e.AsE("Rate: ",o.log.currency," ",o.log.rate,"")}}function Fe(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Platform "),e.qZA())}function Me(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.platform," ")}}function Je(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Deliverable "),e.qZA())}function Be(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.deliverable," ")}}function Ve(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Quantity "),e.qZA())}function $e(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.quantity," ")}}function Ge(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Currency "),e.qZA())}function Ee(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.currency," ")}}function He(n,t){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Rate "),e.qZA())}function je(n,t){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.rate," ")}}function ze(n,t){1&n&&e._UZ(0,"mat-header-row")}function Ke(n,t){1&n&&e._UZ(0,"mat-row")}function We(n,t){if(1&n&&(e.TgZ(0,"div")(1,"mat-table",2),e.ynx(2,3),e.YNc(3,Fe,2,0,"mat-header-cell",4),e.YNc(4,Me,2,1,"mat-cell",5),e.BQk(),e.ynx(5,6),e.YNc(6,Je,2,0,"mat-header-cell",4),e.YNc(7,Be,2,1,"mat-cell",5),e.BQk(),e.ynx(8,7),e.YNc(9,Ve,2,0,"mat-header-cell",4),e.YNc(10,$e,2,1,"mat-cell",5),e.BQk(),e.ynx(11,10),e.YNc(12,Ge,2,0,"mat-header-cell",4),e.YNc(13,Ee,2,1,"mat-cell",5),e.BQk(),e.ynx(14,11),e.YNc(15,He,2,0,"mat-header-cell",4),e.YNc(16,je,2,1,"mat-cell",5),e.BQk(),e.YNc(17,ze,1,0,"mat-header-row",8),e.YNc(18,Ke,1,0,"mat-row",9),e.qZA(),e._UZ(19,"hr"),e.TgZ(20,"h2"),e._uU(21),e.qZA(),e.TgZ(22,"h2"),e._uU(23),e.qZA()()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("dataSource",o.log.logItems),e.xp6(16),e.Q6J("matHeaderRowDef",o.displayedColumnsSingle),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumnsSingle),e.xp6(3),e.hij("Reply Time : ",o.log.time_to_reply,""),e.xp6(2),e.hij("Notes: ",o.log.notes,"")}}class y{constructor(t,o){this.source=t,this.logService=o,this.id=this.source.id,this.type=this.source.type,this.package=!1,this.single=!1,this.displayedColumnsSingle=["platform","deliverable","quantity","currency","rate"],this.displayedColumnsForPackages=["platform","deliverable","quantity"]}ngAfterViewInit(){this.logService.getLogById(this.id).subscribe(t=>{this.log=t,"single"==this.type?this.single=!0:"package"==this.type&&(this.package=!0)})}}y.\u0275fac=function(t){return new(t||y)(e.Y36(d.WI),e.Y36(U.$))},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-view-log"]],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","platform"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","deliverable"],["matColumnDef","quantity"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","currency"],["matColumnDef","rate"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Re,20,7,"div",1),e.YNc(2,We,24,5,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.package),e.xp6(1),e.Q6J("ngIf",o.single))},dependencies:[u.O5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk],styles:[".single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{color:#fff;margin-top:2%}.row[_ngcontent-%COMP%]{margin-top:2%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]{padding:2%}"]});var w=r(1218),D=r(8525),Y=r(3680);function Xe(n,t){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function et(n,t){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function tt(n,t){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function nt(n,t){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function ot(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"div",12)(1,"div",2)(2,"mat-form-field")(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"mat-select",13),e.NdJ("change",function(){const c=e.CHM(o).index,m=e.oxw();return e.KtG(m.onPlatformChange(c))}),e.YNc(6,et,2,2,"mat-option",4),e.qZA()(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Deliverable"),e.qZA(),e.TgZ(10,"mat-select",14),e.YNc(11,tt,2,2,"mat-option",4),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Quantity"),e.qZA(),e._UZ(15,"input",15),e.qZA(),e.TgZ(16,"mat-form-field")(17,"mat-label"),e._uU(18,"Currency"),e.qZA(),e.TgZ(19,"mat-select",16),e.YNc(20,nt,2,2,"mat-option",4),e.qZA()(),e.TgZ(21,"mat-form-field")(22,"mat-label"),e._uU(23,"Rate"),e.qZA(),e._UZ(24,"input",17),e.qZA(),e.TgZ(25,"button",18),e.NdJ("click",function(){const c=e.CHM(o).index,m=e.oxw();return e.KtG(m.removeFields(c))}),e.TgZ(26,"mat-icon"),e._uU(27," delete "),e.qZA()()()()}if(2&n){const o=t.index,i=e.oxw();e.Q6J("formGroupName",o),e.xp6(4),e.hij("Platform ",o+1,""),e.xp6(2),e.Q6J("ngForOf",i.platforms),e.xp6(5),e.Q6J("ngForOf",i.getAvailableDeliverables(o)),e.xp6(9),e.Q6J("ngForOf",i.currencies)}}class x{constructor(t,o,i,s,c,m,L,Q){this.formBuilder=t,this.router=o,this.influencerService=i,this.userService=s,this.logService=c,this.toastrService=m,this.dialog=L,this.source=Q,this.currencies=w.QT,this.platforms=w.Zk,this.submitted=!1,this.path=Z.m,this.userId=this.userService.getID(),this.id=this.source.id,this.logForm=this.formBuilder.group({Influencer:["",a.kI.required],Campaign:["",a.kI.required],Notes:[""],Time_to_reply:["",a.kI.required]}),this.form=this.formBuilder.group({fields:this.formBuilder.array([])})}ngOnInit(){this.getInfluencers(),this.addFields(),this.loadRateLog()}get fields(){return this.form.get("fields")}addFields(){const t=this.formBuilder.group({Platform:["",a.kI.required],Deliverable:["",a.kI.required],Quantity:["",a.kI.required],Currency:["",a.kI.required],Rate:["",a.kI.required]});this.fields.push(t)}removeFields(t){this.fields.removeAt(t)}getInfluencers(){this.influencerService.getInfluencerNames().subscribe(t=>{this.influencers=t})}loadRateLog(){this.logService.getLogById(this.id).subscribe(t=>{this.log=t,console.log(this.log),this.logForm.patchValue({Influencer:this.log.influencerID,Campaign:this.log.campaign,Notes:this.log.notes,Time_to_reply:this.log.time_to_reply}),this.logItemId=this.log.logItems[0].id,console.log(this.logItemId),this.fields.controls.forEach((o,i)=>{o.patchValue({Platform:this.log.logItems[i].platform,Deliverable:this.log.logItems[i].deliverable,Quantity:this.log.logItems[i].quantity,Currency:this.log.logItems[i].currency,Rate:this.log.logItems[i].rate})})})}onSubmit(){if(!this.submitted){if(this.submitted=!0,this.form.valid){const t={UserID:this.userId,InfluencerID:this.logForm.value.Influencer,Campaign:this.logForm.value.Campaign,type:"single",Notes:this.logForm.value.Notes,Time_to_reply:this.logForm.value.Time_to_reply,Item:this.form.value.fields,packageItems:{},logItemId:this.logItemId};console.log(t),this.logService.updateSingleLog(this.id,t).subscribe(o=>{this.toastrService.success("Log updated successfully"),this.router.navigate([this.path.rateLogs])})}this.dialog.closeAll()}}getAvailableDeliverables(t){switch(this.fields.controls[t].get("Platform")?.value){case"Instagram":return["Static image posts","Carousel posts","Instagram Stories","Instagram Reels","IGTV","Influencer partnerships and collaborations"];case"Tiktok":return["Short-form video content","Hashtag challenges","Influencer partnerships and collaborations"];case"Snapchat":return["Snap stories","Geofilters and lenses","Influencer partnerships and collaborations"];case"Twitter":return["Tweets","Retweets","Twitter threads","Hashtags","Influencer partnerships and collaborations"];case"Facebook":return["Facebook posts","Facebook Stories","Live videos","Groups","Influencer partnerships and collaborations"];case"Youtube":return["Video content","Livestreams","Live videos","Collaborations with other YouTubers or brands","Product reviews or demonstrations","Influencer partnerships and collaborations"];default:return[]}}onPlatformChange(t){const o=this.fields.controls[t].get("Platform")?.value,i=this.fields.controls[t].get("Deliverable");i?.setValue(null),i?.enable(),o?i?.setValidators(a.kI.required):i?.clearValidators()}}function it(n,t){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function at(n,t){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function rt(n,t){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function lt(n,t){if(1&n&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function st(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"div",14)(1,"div",2)(2,"mat-form-field")(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"mat-select",15),e.NdJ("change",function(){const c=e.CHM(o).index,m=e.oxw();return e.KtG(m.onPlatformChange(c))}),e.YNc(6,rt,2,2,"mat-option",4),e.qZA()(),e.TgZ(7,"mat-form-field")(8,"mat-label"),e._uU(9,"Deliverable"),e.qZA(),e.TgZ(10,"mat-select",16),e.YNc(11,lt,2,2,"mat-option",4),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Quantity"),e.qZA(),e._UZ(15,"input",17),e.qZA(),e.TgZ(16,"button",18),e.NdJ("click",function(){const c=e.CHM(o).index,m=e.oxw();return e.KtG(m.removeFields(c))}),e.TgZ(17,"mat-icon"),e._uU(18,"delete"),e.qZA()()()()}if(2&n){const o=t.index,i=e.oxw();e.Q6J("formGroupName",o),e.xp6(4),e.hij("Platform ",o+1,""),e.xp6(2),e.Q6J("ngForOf",i.platforms),e.xp6(5),e.Q6J("ngForOf",i.getAvailableDeliverables(o))}}x.\u0275fac=function(t){return new(t||x)(e.Y36(a.qu),e.Y36(g.F0),e.Y36(k.N),e.Y36(T.K),e.Y36(U.$),e.Y36(P._W),e.Y36(d.uw),e.Y36(d.WI))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-edit-item-log"]],decls:27,vars:5,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["formControlName","Influencer"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","Campaign","autocomplete","off","required",""],["matInput","","formControlName","Notes","rows","2","autocomplete","off"],["matInput","","type","text","formControlName","Time_to_reply","autocomplete","off","required",""],["formArrayName","fields"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","type","submit",1,"btn-color",3,"disabled"],[3,"value"],[3,"formGroupName"],["formControlName","Platform",3,"change"],["formControlName","Deliverable"],["matInput","","type","number","formControlName","Quantity","autocomplete","off","required",""],["formControlName","Currency","required",""],["matInput","","type","number","formControlName","Rate","autocomplete","off","required",""],[1,"icon-btn",2,"max-width","5%",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(2,"div",2)(3,"mat-form-field")(4,"mat-label"),e._uU(5,"Influencer"),e.qZA(),e.TgZ(6,"mat-select",3),e.YNc(7,Xe,2,2,"mat-option",4),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10," Campaign "),e.qZA(),e._UZ(11,"input",5),e.qZA()(),e.TgZ(12,"div",2)(13,"mat-form-field")(14,"mat-label"),e._uU(15,"Notes "),e.qZA(),e._UZ(16,"textarea",6),e.qZA(),e.TgZ(17,"mat-form-field")(18,"mat-label"),e._uU(19," Time to reply "),e.qZA(),e._UZ(20,"input",7),e.qZA()()(),e.TgZ(21,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(22,"div",8),e.YNc(23,ot,28,5,"div",9),e.qZA(),e.TgZ(24,"div",2)(25,"button",10),e._uU(26," Edit "),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.logForm),e.xp6(6),e.Q6J("ngForOf",o.influencers),e.xp6(14),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngForOf",o.fields.controls),e.xp6(2),e.Q6J("disabled",!(o.logForm.valid&&o.form.valid)||0==o.fields.length))},dependencies:[u.sg,S.Nt,f.KE,f.hX,O.lW,N.Hw,D.gD,Y.ey,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE],styles:[".form-container[_ngcontent-%COMP%]{padding:2%}.btn-color[_ngcontent-%COMP%]{background-color:#4789a1}"]});class A{constructor(t,o,i,s,c,m,L,Q){this.formBuilder=t,this.router=o,this.service=i,this.userService=s,this.logService=c,this.toastrService=m,this.dialog=L,this.source=Q,this.currencies=w.QT,this.platforms=w.Zk,this.submitted=!1,this.path=Z.m,this.userId=this.userService.getID(),this.id=this.source.id,this.packageIds=[],this.logForm=this.formBuilder.group({Influencer:["",a.kI.required],Campaign:["",a.kI.required],Currency:["",a.kI.required],Rate:["",a.kI.required],Notes:[""],Time_to_reply:["",a.kI.required]}),this.form=this.formBuilder.group({fields:this.formBuilder.array([])})}ngOnInit(){this.getInfluencers(),this.addFields(),this.loadRateLog()}get fields(){return this.form.get("fields")}addFields(){const t=this.formBuilder.group({Platform:["",a.kI.required],Deliverable:["",a.kI.required],Quantity:["",a.kI.required]});this.fields.push(t)}removeFields(t){this.fields.removeAt(t)}getInfluencers(){this.service.getInfluencerNames().subscribe(t=>{this.influencers=t})}loadRateLog(){this.logService.getLogById(this.id).subscribe(t=>{this.log=t,this.logForm.patchValue({Influencer:this.log.influencerID,Campaign:this.log.campaign,Notes:this.log.notes,Time_to_reply:this.log.time_to_reply,Currency:this.log.currency,Rate:this.log.rate});for(let o=0;o<this.log.packages.length;o++)null!=this.log.packages[o].id&&(this.addFields(),this.packageIds.push(this.log.packages[o].id)),this.removeFields(this.log.packages.length);this.fields.controls.forEach((o,i)=>{o.patchValue({Platform:this.log.packages[i].platform,Deliverable:this.log.packages[i].deliverable,Quantity:this.log.packages[i].quantity})})})}onSubmit(){if(!this.submitted){if(this.submitted=!0,this.form.valid){console.log(this.form.value.fields);const t={UserID:this.userId,InfluencerID:this.logForm.value.Influencer,Campaign:this.logForm.value.Campaign,type:"package",Time_to_reply:this.logForm.value.Time_to_reply,Notes:this.logForm.value.Notes,Currency:this.logForm.value.Currency,Rate:this.logForm.value.Rate,package:this.form.value.fields,rateLogItems:{},packageIds:this.packageIds};this.logService.updatePackageLog(this.id,t).subscribe(o=>{this.data=o,"success"===this.data.status?(this.toastrService.success("Log Added Successfully!"),sessionStorage.removeItem("influencerData"),this.router.navigate([this.path.influencerRating+this.logForm.value.Influencer])):this.toastrService.error("Error! Please Try Again!")})}setTimeout(()=>{this.dialog.closeAll()},1e3)}}getAvailableDeliverables(t){switch(this.fields.controls[t].get("Platform")?.value){case"Instagram":return["Static image posts","Carousel posts","Instagram Stories","Instagram Reels","IGTV","Influencer partnerships and collaborations"];case"Tiktok":return["Short-form video content","Hashtag challenges","Influencer partnerships and collaborations"];case"Snapchat":return["Snap stories","Geofilters and lenses","Influencer partnerships and collaborations"];case"Twitter":return["Tweets","Retweets","Twitter threads","Hashtags","Influencer partnerships and collaborations"];case"Facebook":return["Facebook posts","Facebook Stories","Live videos","Groups","Influencer partnerships and collaborations"];case"Youtube":return["Video content","Livestreams","Live videos","Collaborations with other YouTubers or brands","Product reviews or demonstrations","Influencer partnerships and collaborations"];default:return[]}}onPlatformChange(t){const o=this.fields.controls[t].get("Platform")?.value,i=this.fields.controls[t].get("Deliverable");i?.setValue(null),i?.enable(),o?i?.setValidators(a.kI.required):i?.clearValidators()}}A.\u0275fac=function(t){return new(t||A)(e.Y36(a.qu),e.Y36(g.F0),e.Y36(k.N),e.Y36(T.K),e.Y36(U.$),e.Y36(P._W),e.Y36(d.uw),e.Y36(d.WI))},A.\u0275cmp=e.Xpm({type:A,selectors:[["app-edit-package-log"]],decls:36,vars:6,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"row"],["formControlName","Influencer"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","text","formControlName","Campaign","autocomplete","off","required",""],["formControlName","Currency","required",""],["matInput","","type","number","formControlName","Rate","autocomplete","off","required",""],["matInput","","formControlName","Notes","rows","2","autocomplete","off"],["matInput","","type","text","formControlName","Time_to_reply","autocomplete","off","required",""],["formArrayName","fields"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"],[3,"formGroupName"],["formControlName","Platform",3,"change"],["formControlName","Deliverable"],["matInput","","type","number","formControlName","Quantity","autocomplete","off","required",""],["color","warn",1,"icon-btn",2,"max-width","5%",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(2,"div",2)(3,"mat-form-field")(4,"mat-label"),e._uU(5,"Influencer"),e.qZA(),e.TgZ(6,"mat-select",3),e.YNc(7,it,2,2,"mat-option",4),e.qZA()(),e.TgZ(8,"mat-form-field")(9,"mat-label"),e._uU(10," Campaign "),e.qZA(),e._UZ(11,"input",5),e.qZA(),e.TgZ(12,"mat-form-field")(13,"mat-label"),e._uU(14,"Currency"),e.qZA(),e.TgZ(15,"mat-select",6),e.YNc(16,at,2,2,"mat-option",4),e.qZA()(),e.TgZ(17,"mat-form-field")(18,"mat-label"),e._uU(19," Rate"),e.qZA(),e._UZ(20,"input",7),e.qZA()(),e.TgZ(21,"div",2)(22,"mat-form-field")(23,"mat-label"),e._uU(24,"Notes "),e.qZA(),e._UZ(25,"textarea",8),e.qZA(),e.TgZ(26,"mat-form-field")(27,"mat-label"),e._uU(28," Time to reply "),e.qZA(),e._UZ(29,"input",9),e.qZA()()(),e.TgZ(30,"form",1),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(31,"div",10),e.YNc(32,st,19,4,"div",11),e.qZA(),e.TgZ(33,"div",2)(34,"button",12),e._uU(35," Edit "),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.logForm),e.xp6(6),e.Q6J("ngForOf",o.influencers),e.xp6(9),e.Q6J("ngForOf",o.currencies),e.xp6(14),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngForOf",o.fields.controls),e.xp6(2),e.Q6J("disabled",!(o.logForm.valid&&o.form.valid)||0==o.fields.length))},dependencies:[u.sg,S.Nt,f.KE,f.hX,O.lW,N.Hw,D.gD,Y.ey,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.sg,a.u,a.x0,a.CE],styles:[".form-container[_ngcontent-%COMP%]{padding:2%}"]});var ct=r(6085),mt=r(7398);class b{constructor(t){this.influencerService=t,this.influencers=[]}ngOnInit(){}transform(t){return this.influencerService.getInfluencer(t).pipe((0,mt.U)(o=>(console.log(o),o.data.Name)))}}function ut(n,t){if(1&n&&(e.TgZ(0,"mat-option",25),e._uU(1),e.ALo(2,"async"),e.ALo(3,"influencerName"),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,o)),"")}}function pt(n,t){if(1&n&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",o,"")}}function gt(n,t){if(1&n&&(e.TgZ(0,"mat-option",25),e._uU(1),e.ALo(2,"async"),e.ALo(3,"userNamePipe"),e.qZA()),2&n){const o=t.$implicit;e.Q6J("value",o),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,o)),"")}}function ft(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Influencer"),e.qZA())}function dt(n,t){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"async"),e.ALo(3,"influencerName"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,o.influencerID))," ")}}function _t(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Campaign"),e.qZA())}function ht(n,t){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(o.campaign)}}function Ct(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Contact"),e.qZA())}function Zt(n,t){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"async"),e.ALo(3,"userNamePipe"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,o.userID))," ")}}function Tt(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Date"),e.qZA())}function vt(n,t){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,o.createdAt))}}function It(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Reply time"),e.qZA())}function yt(n,t){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.hij(" ",o.time_to_reply," ")}}function xt(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"Type"),e.qZA())}function At(n,t){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&n){const o=t.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,o.type))}}function bt(n,t){1&n&&(e.TgZ(0,"th",26),e._uU(1,"View"),e.qZA())}function qt(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"mat-icon",29),e.NdJ("click",function(){e.CHM(o);const s=e.oxw().$implicit,c=e.oxw();return e.KtG(c.editInfluencerLog(s.id,s.type))}),e._uU(1," edit "),e.qZA()}}function Nt(n,t){if(1&n){const o=e.EpF();e.TgZ(0,"td",27)(1,"mat-icon",29),e.NdJ("click",function(){const c=e.CHM(o).$implicit,m=e.oxw();return e.KtG(m.viewInfluencerLog(c.id,c.type))}),e._uU(2," remove_red_eye "),e.qZA(),e.YNc(3,qt,2,0,"mat-icon",30),e.qZA()}if(2&n){const o=t.$implicit,i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.userId===o.userID)}}function kt(n,t){1&n&&e._UZ(0,"tr",31)}function Ut(n,t){1&n&&e._UZ(0,"tr",32)}function wt(n,t){if(1&n&&(e.TgZ(0,"div",34)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"h4"),e._uU(6),e.qZA()()),2&n){const o=t.$implicit;e.xp6(2),e.Oqu(o.platform),e.xp6(2),e.Oqu(o.deliverable),e.xp6(2),e.Oqu(o.quantity)}}function Pt(n,t){if(1&n&&(e.TgZ(0,"div",33)(1,"div",34)(2,"h2"),e._uU(3),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.qZA()(),e._UZ(6,"hr"),e.YNc(7,wt,7,3,"div",35),e.qZA()),2&n){const o=e.oxw();e.xp6(3),e.hij("Notes : ",o.log.notes,""),e.xp6(2),e.AsE("Rate: ",o.log.currency," ",o.log.rate,""),e.xp6(2),e.Q6J("ngForOf",o.log.packages)}}function St(n,t){if(1&n&&(e.TgZ(0,"div",34)(1,"h4"),e._uU(2),e.qZA(),e.TgZ(3,"h4"),e._uU(4),e.qZA(),e.TgZ(5,"h4"),e._uU(6),e.qZA(),e.TgZ(7,"h4"),e._uU(8),e.qZA(),e.TgZ(9,"h4"),e._uU(10),e.qZA()()),2&n){const o=t.$implicit;e.xp6(2),e.Oqu(o.platform),e.xp6(2),e.Oqu(o.deliverable),e.xp6(2),e.Oqu(o.quantity),e.xp6(2),e.Oqu(o.currency),e.xp6(2),e.Oqu(o.rate)}}function Ot(n,t){if(1&n&&(e.TgZ(0,"div",36)(1,"div",34)(2,"h2"),e._uU(3),e.qZA()(),e._UZ(4,"hr"),e.YNc(5,St,11,5,"div",35),e.qZA()),2&n){const o=e.oxw();e.xp6(3),e.hij("Notes : ",o.log.notes,""),e.xp6(2),e.Q6J("ngForOf",o.log.logItems)}}b.\u0275fac=function(t){return new(t||b)(e.Y36(k.N,16))},b.\u0275pipe=e.Yjl({name:"influencerName",type:b,pure:!0});const Dt=function(){return[3,5,10,25,100]};class q{constructor(t,o,i,s){this.userService=t,this.router=o,this.logService=i,this.dialog=s,this.userRole=this.userService.getRole(),this.userId=this.userService.getID(),this.path=Z.m,this.influencers=[],this.campaigns=[],this.contacts=[],this.filterValues={influencerID:"",campaign:"",userID:""},this.single=!1,this.package=!1,this.logs=[],this.displayedColumns=["Influencer","Campaign","Contact","Time_to_reply","Date","type","Action"]}ngOnInit(){this.getAllLogs()}getAllLogs(){this.logService.getAllLogs().subscribe(t=>{this.logs=t,this.dataSource=new l.by(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.influencers=[...new Set(t.map(o=>o.influencerID))],this.campaigns=[...new Set(t.map(o=>o.campaign))],this.contacts=[...new Set(t.map(o=>o.userID))]})}filterInfluencer(t){this.filterValues.influencerID=t,this.applyFilter(),this.updateFilterOptions()}filterCampaign(t){this.filterValues.campaign=t,this.applyFilter(),this.updateFilterOptions()}filterContact(t){this.filterValues.userID=t,this.applyFilter(),this.updateFilterOptions()}applyFilter(){this.dataSource.filterPredicate=(t,o)=>{const i=JSON.parse(o),s=!i.influencerID||t.influencerID===i.influencerID,c=!i.campaign||t.campaign.toLowerCase().includes(i.campaign.toLowerCase()),m=!i.userID||t.userID===i.userID;return s&&c&&m},this.dataSource.filter=JSON.stringify(this.filterValues)}updateFilterOptions(){const t=this.dataSource.filteredData||[];this.influencers=[...new Set(t.map(o=>o.influencerID))].sort(),this.campaigns=[...new Set(t.map(o=>o.campaign))].sort(),this.contacts=[...new Set(t.map(o=>o.userID))].sort()}editInfluencerLog(t,o){"single"==o?this.dialog?.open(x,{width:"70%",height:"60%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:t}}):this.dialog?.open(A,{width:"70%",height:"60%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:t}})}viewInfluencerLog(t,o){this.dialog?.open(y,{width:"70%",height:"50%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:t,type:o}})}redirectToNewLog(){this.router.navigate([this.path.newRateLog])}}q.\u0275fac=function(t){return new(t||q)(e.Y36(T.K),e.Y36(g.F0),e.Y36(U.$),e.Y36(d.uw))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-influencer-logs"]],viewQuery:function(t,o){if(1&t&&(e.Gf(_.NW,5),e.Gf(p.YE,5),e.Gf(l.BZ,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first),e.iGM(i=e.CRH())&&(o.sort=i.first),e.iGM(i=e.CRH())&&(o.table=i.first)}},decls:56,vars:13,consts:[[1,"logs-button"],["type","button",2,"margin-left","2%",3,"click"],[1,"filter-container"],[1,"filter"],["placeholder","Influencers Filter",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Gender Filter",3,"selectionChange"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Influencer"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Campaign"],["matColumnDef","Contact"],["matColumnDef","Date"],["matColumnDef","Time_to_reply"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["class","package",4,"ngIf"],["class","single",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",1,"truncate-text"],[3,"click"],[3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""],[1,"package"],[1,"row"],["class","row",4,"ngFor","ngForOf"],[1,"single"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"H2"),e._uU(2,"Logs"),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return o.redirectToNewLog()}),e._uU(4," Add New Log "),e.qZA()(),e.TgZ(5,"div",2)(6,"mat-form-field",3)(7,"mat-label"),e._uU(8," Influencers Filter"),e.qZA(),e.TgZ(9,"mat-select",4),e.NdJ("selectionChange",function(s){return o.filterInfluencer(s.value)}),e.TgZ(10,"mat-option",5),e._uU(11,"All Influencers"),e.qZA(),e.YNc(12,ut,4,6,"mat-option",6),e.qZA()(),e.TgZ(13,"mat-form-field",3)(14,"mat-label"),e._uU(15," Campaigns Filter"),e.qZA(),e.TgZ(16,"mat-select",7),e.NdJ("selectionChange",function(s){return o.filterCampaign(s.value)}),e.TgZ(17,"mat-option",5),e._uU(18,"All Campaigns"),e.qZA(),e.YNc(19,pt,2,2,"mat-option",6),e.qZA()(),e.TgZ(20,"mat-form-field",3)(21,"mat-label"),e._uU(22," Contacts Filter"),e.qZA(),e.TgZ(23,"mat-select",7),e.NdJ("selectionChange",function(s){return o.filterContact(s.value)}),e.TgZ(24,"mat-option",5),e._uU(25,"All Contacts"),e.qZA(),e.YNc(26,gt,4,6,"mat-option",6),e.qZA()()(),e.TgZ(27,"div",8)(28,"table",9),e.ynx(29,10),e.YNc(30,ft,2,0,"th",11),e.YNc(31,dt,4,5,"td",12),e.BQk(),e.ynx(32,13),e.YNc(33,_t,2,0,"th",11),e.YNc(34,ht,2,1,"td",12),e.BQk(),e.ynx(35,14),e.YNc(36,Ct,2,0,"th",11),e.YNc(37,Zt,4,5,"td",12),e.BQk(),e.ynx(38,15),e.YNc(39,Tt,2,0,"th",11),e.YNc(40,vt,3,3,"td",12),e.BQk(),e.ynx(41,16),e.YNc(42,It,2,0,"th",11),e.YNc(43,yt,2,1,"td",17),e.BQk(),e.ynx(44,18),e.YNc(45,xt,2,0,"th",11),e.YNc(46,At,3,3,"td",12),e.BQk(),e.ynx(47,19),e.YNc(48,bt,2,0,"th",11),e.YNc(49,Nt,4,1,"td",12),e.BQk(),e.YNc(50,kt,1,0,"tr",20),e.YNc(51,Ut,1,0,"tr",21),e.qZA(),e._UZ(52,"mat-paginator",22)(53,"hr"),e.YNc(54,Pt,8,4,"div",23),e.YNc(55,Ot,6,2,"div",24),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngForOf",o.influencers),e.xp6(7),e.Q6J("ngForOf",o.campaigns),e.xp6(7),e.Q6J("ngForOf",o.contacts),e.xp6(2),e.Q6J("dataSource",o.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",null==o.dataSource?null:o.dataSource.data.length)("pageSize",15)("pageSizeOptions",e.DdM(12,Dt)),e.xp6(2),e.Q6J("ngIf",o.package),e.xp6(1),e.Q6J("ngIf",o.single))},dependencies:[u.sg,u.O5,f.KE,f.hX,N.Hw,D.gD,Y.ey,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,_.NW,p.YE,p.nU,u.Ov,u.gd,u.uU,ct.z,b],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});let Yt=Z.m;const Lt=[{path:"viewBrief/:id",children:[{path:"",loadChildren:()=>r.e(435).then(r.bind(r,3435)).then(n=>n.ViewBriefModule)}]},{path:"edit",children:[{path:"",loadChildren:()=>Promise.all([r.e(520),r.e(592),r.e(83)]).then(r.bind(r,5083)).then(n=>n.EditModule)}]},{path:"tasks/:id",component:v},{path:"logs",component:q},{path:"influencerRating/:id",component:I},{path:"new",children:[{path:"",loadChildren:()=>r.e(520).then(r.bind(r,9520)).then(n=>n.CreateModule)}]},{path:"head",children:[{path:"",loadChildren:()=>Promise.all([r.e(592),r.e(502)]).then(r.bind(r,2502)).then(n=>n.HeadOfTalentModule)}]},{path:"",redirectTo:`${Yt.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class h{}h.\u0275fac=function(t){return new(t||h)},h.\u0275mod=e.oAB({type:h}),h.\u0275inj=e.cJS({imports:[g.Bz.forChild(Lt),g.Bz]});var Qt=r(609),Rt=r(1474),Ft=r(5552),Mt=r(3305);class C{}C.\u0275fac=function(t){return new(t||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[u.ez,h,Qt.q,a.UX,a.u5,Rt.JF,Ft.SharingModule,d.Is,Mt.To]})}}]);