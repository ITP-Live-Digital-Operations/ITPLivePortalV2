"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[814],{4814:(Wt,k,a)=>{a.r(k),a.d(k,{TalentModule:()=>h});var u=a(6814),d=a(1896),f=a(3365),p=a(3566),r=a(5313),x=a(5753),t=a(5879),Y=a(9554),q=a(1921),v=a(3934),y=a(617);function D(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Deadline"),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.deadline)," ")}}function Q(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Status"),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.status)}}function b(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Weight"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.weight)}}function M(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Created On"),t.qZA())}function L(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,i.createdAt)," ")}}function B(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Progress"),t.qZA())}function H(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.progress)}}function J(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Viewed"),t.qZA())}function F(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1," Yes "),t.qZA())}function $(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1," No "),t.qZA())}function G(e,n){if(1&e&&(t.TgZ(0,"td",18),t.YNc(1,F,2,0,"span",19),t.YNc(2,$,2,0,"span",19),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Q6J("ngIf",i.ViewedByTalent>0),t.xp6(1),t.Q6J("ngIf",i.ViewedByTalent<1)}}function z(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Priority"),t.qZA())}function E(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.priority)}}function V(e,n){1&e&&(t.TgZ(0,"th",20),t._uU(1,"View"),t.qZA())}function j(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"td",18)(1,"button",21),t.NdJ("click",function(){const c=t.CHM(i).$implicit,m=t.oxw();return t.KtG(m.viewedTask(c.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"remove_red_eye"),t.qZA()()()}}function K(e,n){1&e&&t._UZ(0,"tr",22)}function W(e,n){1&e&&t._UZ(0,"tr",23)}const X=function(){return[3,5,10,25,100]};class _{constructor(n,i,o,s,c){this.salesService=n,this.route=i,this.taskService=o,this.userService=s,this.activatedRoute=c,this.path=x.m,this.displayedColumns=["deadline","status","weight","createdAt","progress","Action"],this.privilegeLevel=this.userService.getPrivilegeLevel()}ngOnInit(){this.privilegeLevel<7?(this.userID=this.userService.getID(),this.getMyTasks(this.userID)):this.activatedRoute.params.subscribe(n=>{this.id=n.id,this.taskService.getMyTasks(this.id).subscribe(i=>{console.log("my tasks:"),console.log(i),this.dataSource=i.data?.assignedUsers,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})})}getMyTasks(n){this.taskService.getMyTasks(n).subscribe(i=>{this.briefDetails=i,this.dataSource=new r.by(this.briefDetails.data?.assignedUsers),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewedTask(n){this.privilegeLevel<7&&this.taskService.updateStatus({assigned_to:this.userID,id:n}).subscribe(i=>{}),this.salesService.getSalesBriefIdbyTaskId(n).subscribe(i=>{this.route.navigate([`${this.path.viewBrief+i.data.brief_id}`])})}}_.\u0275fac=function(n){return new(n||_)(t.Y36(Y.M),t.Y36(d.F0),t.Y36(q.M),t.Y36(v.K),t.Y36(d.gz))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-person-tasks"]],viewQuery:function(n,i){if(1&n&&(t.Gf(f.NW,5),t.Gf(p.YE,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first)}},decls:30,vars:8,consts:[[2,"position","relative"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","deadline"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","weight"],["matColumnDef","createdAt"],["matColumnDef","progress"],["matColumnDef","ViewedByTalent"],["matColumnDef","priority"],["matColumnDef","Action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell",""],[1,"icon-btn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2),t.ynx(3,3),t.YNc(4,D,2,0,"th",4),t.YNc(5,w,3,3,"td",5),t.BQk(),t.ynx(6,6),t.YNc(7,Q,2,0,"th",4),t.YNc(8,O,2,1,"td",5),t.BQk(),t.ynx(9,7),t.YNc(10,b,2,0,"th",4),t.YNc(11,P,2,1,"td",5),t.BQk(),t.ynx(12,8),t.YNc(13,M,2,0,"th",4),t.YNc(14,L,3,3,"td",5),t.BQk(),t.ynx(15,9),t.YNc(16,B,2,0,"th",4),t.YNc(17,H,2,1,"td",5),t.BQk(),t.ynx(18,10),t.YNc(19,J,2,0,"th",4),t.YNc(20,G,3,2,"td",5),t.BQk(),t.ynx(21,11),t.YNc(22,z,2,0,"th",4),t.YNc(23,E,2,1,"td",5),t.BQk(),t.ynx(24,12),t.YNc(25,V,2,0,"th",13),t.YNc(26,j,4,0,"td",5),t.BQk(),t.YNc(27,K,1,0,"tr",14),t.YNc(28,W,1,0,"tr",15),t.qZA(),t._UZ(29,"mat-paginator",16),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",10)("pageSizeOptions",t.DdM(7,X)))},dependencies:[u.O5,y.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,f.NW,p.YE,p.nU,u.uU],styles:[".warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{padding-top:1%;overflow-y:scroll;max-height:auto}.search-container[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:2%;padding-left:1%;position:absolute;top:5;left:0;right:0;z-index:1;background-color:#fff}.mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-top:1px solid black;cursor:pointer}"]});var l=a(6223),R=a(9229),I=a(96),tt=a(2032),U=a(4170),et=a(2296);const nt=["star"];function it(e,n){if(1&e){const i=t.EpF();t.ynx(0),t.TgZ(1,"div",2,3),t.NdJ("click",function(){const c=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onClick(c))})("mouseenter",function(){const c=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHover(c))})("mouseleave",function(){const c=t.CHM(i).$implicit,m=t.oxw();return t.KtG(!m.readonly&&m._onHoverOut(c))}),t.TgZ(3,"mat-icon"),t._uU(4,"star_rate"),t.qZA()(),t.BQk()}if(2&e){const i=n.$implicit,o=t.oxw();t.xp6(1),t.ekj("active",i<=o._rating)}}function ot(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"div",4),t.NdJ("click",function(){t.CHM(i);const s=t.oxw();return t.KtG(s._clear())}),t._uU(1),t.qZA()}2&e&&(t.xp6(1),t.hij("","Clear","\n"))}const at=function(){return[1,2,3,4,5]};class C{constructor(){this.onClick=new t.vpe,this.onView=new t.vpe}_onClick(n){this._rating=n,this.onClick.emit(n)}_clear(){this._rating=0,this.onClick.emit()}_onHover(n){this.startItems.forEach((i,o)=>{o+1<=n&&(!this._rating||o+1>this._rating)&&i.nativeElement.classList.add("active")})}_onHoverOut(n){this.startItems.forEach((i,o)=>{o+1<=n&&(!this._rating||o+1>this._rating)&&i.nativeElement.classList.remove("active")})}}function rt(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Response Rate"),t.qZA())}function st(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.responseRate)}}function lt(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Content Quality"),t.qZA())}function ct(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.contentQuality)}}function mt(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Creativity"),t.qZA())}function ut(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.creativity)}}function pt(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Flexibility"),t.qZA())}function dt(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.flexibility)}}function ft(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1," Campaign Performance "),t.qZA())}function gt(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.campaignPerformance," ")}}function ht(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Notes"),t.qZA())}function _t(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.notes)}}function Ct(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Reviewed By"),t.qZA())}function Tt(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.userID.name)}}function Zt(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Date"),t.qZA())}function xt(e,n){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.createdAt))}}function vt(e,n){1&e&&t._UZ(0,"tr",26)}function yt(e,n){1&e&&t._UZ(0,"tr",27)}C.\u0275fac=function(n){return new(n||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-star-rating"]],viewQuery:function(n,i){if(1&n&&t.Gf(nt,5),2&n){let o;t.iGM(o=t.CRH())&&(i.startItems=o)}},hostAttrs:[1,"m-star-rating"],hostVars:2,hostBindings:function(n,i){2&n&&t.ekj("readonly",i.readonly)},inputs:{rating:"rating",readonly:"readonly"},outputs:{onClick:"onClick",onView:"onView"},decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["class","m-star-rating-clear",3,"click",4,"ngIf"],[1,"m-star-rating-item",3,"click","mouseenter","mouseleave"],["star",""],[1,"m-star-rating-clear",3,"click"]],template:function(n,i){1&n&&(t.YNc(0,it,5,2,"ng-container",0),t.YNc(1,ot,2,1,"div",1)),2&n&&(t.Q6J("ngForOf",t.DdM(2,at)),t.xp6(1),t.Q6J("ngIf",!i.readonly&&i._rating))},dependencies:[u.sg,u.O5,y.Hw],styles:[".m-star-rating{display:flex;align-items:flex-end}.m-star-rating:not(.readonly) .m-star-rating-item{cursor:pointer;transition:all .15s ease-out}.m-star-rating:not(.readonly) .m-star-rating-item:hover{color:#4789a1}.m-star-rating-clear{font-size:14px;font-weight:500;color:gray;cursor:pointer}.m-star-rating-clear:hover{color:#000}.m-star-rating-item{padding-right:5px;color:gray;display:flex}.m-star-rating-item.active{color:#4789a1}\n"],encapsulation:2});const At=function(){return[3,5,10,25,100]};class T{constructor(n,i,o,s,c){this.formBuilder=n,this.route=i,this.userService=o,this.toastrService=s,this.influencerService=c,this.displayedColumns=["responseRate","contentQuality","creativity","flexibility","campaignPerformance","notes","name","createdAt"],this.influencerForm=this.formBuilder.group({responseRate:["",l.kI.required],contentQuality:["",l.kI.required],creativity:["",l.kI.required],flexibility:["",l.kI.required],campaignPerformance:["",l.kI.required],notes:["",l.kI.maxLength(500)]})}ngOnInit(){this.influencerID=this.route.snapshot.paramMap.get("id"),this.GetInfluencerRatings(this.influencerID)}GetInfluencerRatings(n){this.influencerService.getInfluencerRatings(n).subscribe(i=>{this.influenceRatings=i,this.dataSource=new r.by(this.influenceRatings.data),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}onRatingClicked(n,i){const o=parseInt(n.target.dataset.rating,10);this.influencerForm.controls[i].setValue(o)}onSubmit(){this.influencerService.createInfluencerRating({influencer_id:this.influencerID,createdBy_id:this.userService.getID(),...this.influencerForm.value}).subscribe(n=>{this.data=n,"success"==this.data.status&&this.toastrService.success("Rating Added Successfully!")})}handleClickResponseRate(n){this.influencerForm.controls.responseRate.setValue(n)}handleClickContentQuality(n){this.influencerForm.controls.contentQuality.setValue(n)}handleClickCreativity(n){this.influencerForm.controls.creativity.setValue(n)}handleClickFlexibility(n){this.influencerForm.controls.flexibility.setValue(n)}handleClickCampaignPerformance(n){this.influencerForm.controls.campaignPerformance.setValue(n)}}T.\u0275fac=function(n){return new(n||T)(t.Y36(l.qu),t.Y36(d.gz),t.Y36(v.K),t.Y36(R._W),t.Y36(I.N))},T.\u0275cmp=t.Xpm({type:T,selectors:[["app-influencer-rating"]],viewQuery:function(n,i){if(1&n&&(t.Gf(f.NW,5),t.Gf(p.YE,7),t.Gf(r.BZ,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first),t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:81,vars:11,consts:[[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"table"],[1,"star-rating"],[3,"onClick"],["formControlName","notes","matInput","","placeholder","Notes"],["align","end"],["mat-raised-button","","type","submit",2,"margin-top","2%",3,"disabled"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["table",""],["matColumnDef","responseRate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","contentQuality"],["matColumnDef","creativity"],["matColumnDef","flexibility"],["matColumnDef","campaignPerformance"],["matColumnDef","notes"],["matColumnDef","name"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,i){if(1&n&&(t.TgZ(0,"div",0),t._UZ(1,"h2"),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Field"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Rating"),t.qZA()()(),t.TgZ(10,"tbody")(11,"tr")(12,"td"),t._uU(13,"Response Rate"),t.qZA(),t.TgZ(14,"td")(15,"span",3)(16,"app-star-rating",4),t.NdJ("onClick",function(s){return i.handleClickResponseRate(s)}),t.qZA()()()(),t.TgZ(17,"tr")(18,"td"),t._uU(19,"Content Quality"),t.qZA(),t.TgZ(20,"td")(21,"span",3)(22,"app-star-rating",4),t.NdJ("onClick",function(s){return i.handleClickContentQuality(s)}),t.qZA()()()(),t.TgZ(23,"tr")(24,"td"),t._uU(25,"Creativity"),t.qZA(),t.TgZ(26,"td")(27,"span",3)(28,"app-star-rating",4),t.NdJ("onClick",function(s){return i.handleClickCreativity(s)}),t.qZA()()()(),t.TgZ(29,"tr")(30,"td"),t._uU(31,"Flexibility"),t.qZA(),t.TgZ(32,"td")(33,"span",3)(34,"app-star-rating",4),t.NdJ("onClick",function(s){return i.handleClickFlexibility(s)}),t.qZA()()()(),t.TgZ(35,"tr")(36,"td"),t._uU(37,"Campaign Performance"),t.qZA(),t.TgZ(38,"td")(39,"span",3)(40,"app-star-rating",4),t.NdJ("onClick",function(s){return i.handleClickCampaignPerformance(s)}),t.qZA()()()(),t.TgZ(41,"tr")(42,"td"),t._uU(43,"Notes"),t.qZA(),t.TgZ(44,"td")(45,"mat-form-field"),t._UZ(46,"textarea",5),t.TgZ(47,"mat-hint",6),t._uU(48),t.qZA()()()(),t.TgZ(49,"button",7),t._uU(50," Submit "),t.qZA()()()()(),t.TgZ(51,"div",8)(52,"table",9,10),t.ynx(54,11),t.YNc(55,rt,2,0,"th",12),t.YNc(56,st,2,1,"td",13),t.BQk(),t.ynx(57,14),t.YNc(58,lt,2,0,"th",12),t.YNc(59,ct,2,1,"td",13),t.BQk(),t.ynx(60,15),t.YNc(61,mt,2,0,"th",12),t.YNc(62,ut,2,1,"td",13),t.BQk(),t.ynx(63,16),t.YNc(64,pt,2,0,"th",12),t.YNc(65,dt,2,1,"td",13),t.BQk(),t.ynx(66,17),t.YNc(67,ft,2,0,"th",12),t.YNc(68,gt,2,1,"td",13),t.BQk(),t.ynx(69,18),t.YNc(70,ht,2,0,"th",12),t.YNc(71,_t,2,1,"td",13),t.BQk(),t.ynx(72,19),t.YNc(73,Ct,2,0,"th",12),t.YNc(74,Tt,2,1,"td",13),t.BQk(),t.ynx(75,20),t.YNc(76,Zt,2,0,"th",12),t.YNc(77,xt,3,3,"td",13),t.BQk(),t.YNc(78,vt,1,0,"tr",21),t.YNc(79,yt,1,0,"tr",22),t.qZA(),t._UZ(80,"mat-paginator",23),t.qZA()),2&n){let o;t.xp6(2),t.Q6J("formGroup",i.influencerForm),t.xp6(46),t.hij("",(null==(o=i.influencerForm.get("notes"))||null==o.value?null:o.value.length)||0,"/500"),t.xp6(1),t.Q6J("disabled",i.influencerForm.invalid),t.xp6(3),t.Q6J("dataSource",i.dataSource),t.xp6(26),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",100)("pageSize",5)("pageSizeOptions",t.DdM(10,At))}},dependencies:[tt.Nt,U.KE,U.bx,et.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,f.NW,p.YE,p.nU,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,C,u.uU]});var S=a(8074),kt=a(3762),N=a(9347);function Rt(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Campaign"),t.qZA())}function It(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.campaign)}}function Ut(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Contact"),t.qZA())}function St(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit,o=t.oxw();t.xp6(1),t.Oqu(o.getUsername(i.userID))}}function Nt(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Date"),t.qZA())}function Yt(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.createdAt))}}function qt(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Reply time"),t.qZA())}function Dt(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.time_to_reply," ")}}function wt(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Type "),t.qZA())}function Qt(e,n){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"uppercase"),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,i.type))}}function Ot(e,n){1&e&&(t.TgZ(0,"th",17),t._uU(1," View "),t.qZA())}function bt(e,n){if(1&e){const i=t.EpF();t.TgZ(0,"td",18)(1,"mat-icon",19),t.NdJ("click",function(){const s=t.CHM(i),c=s.index,m=s.$implicit,A=t.oxw();return t.KtG(A.viewLog(c,m.type))}),t._uU(2," remove_red_eye "),t.qZA()()}}function Pt(e,n){1&e&&t._UZ(0,"tr",20)}function Mt(e,n){1&e&&t._UZ(0,"tr",21)}function Lt(e,n){if(1&e&&(t.TgZ(0,"div",23)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA()()),2&e){const i=n.$implicit;t.xp6(2),t.Oqu(i.platform),t.xp6(2),t.Oqu(i.deliverable),t.xp6(2),t.Oqu(i.quantity)}}function Bt(e,n){if(1&e&&(t.TgZ(0,"div",22)(1,"div",23)(2,"h2"),t._uU(3),t.qZA(),t.TgZ(4,"h2"),t._uU(5),t.qZA()(),t._UZ(6,"hr"),t.YNc(7,Lt,7,3,"div",24),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij("Notes : ",i.log.notes,""),t.xp6(2),t.AsE(" Rate: ",i.log.currency," ",i.log.rate," "),t.xp6(2),t.Q6J("ngForOf",i.log.packages)}}function Ht(e,n){if(1&e&&(t.TgZ(0,"div",23)(1,"h4"),t._uU(2),t.qZA(),t.TgZ(3,"h4"),t._uU(4),t.qZA(),t.TgZ(5,"h4"),t._uU(6),t.qZA(),t.TgZ(7,"h4"),t._uU(8),t.qZA(),t.TgZ(9,"h4"),t._uU(10),t.qZA()()),2&e){const i=n.$implicit;t.xp6(2),t.Oqu(i.platform),t.xp6(2),t.Oqu(i.deliverable),t.xp6(2),t.Oqu(i.quantity),t.xp6(2),t.Oqu(i.currency),t.xp6(2),t.Oqu(i.rate)}}function Jt(e,n){if(1&e&&(t.TgZ(0,"div",25)(1,"div",23)(2,"h2"),t._uU(3),t.qZA()(),t._UZ(4,"hr"),t.YNc(5,Ht,11,5,"div",24),t.qZA()),2&e){const i=t.oxw();t.xp6(3),t.hij("Notes : ",i.log.notes,""),t.xp6(2),t.Q6J("ngForOf",i.log.logItems)}}const Ft=function(){return[3,5,10,25,100]};class Z{constructor(n,i,o,s,c,m,A,Kt){this.service=n,this.influencerService=i,this.userService=o,this.toastrService=s,this.dialogService=c,this.router=m,this.dialogRef=A,this.logService=Kt,this.campaigns=[],this.userRole=this.userService.getRole(),this.path=x.m,this.single=!1,this.package=!1,this.logs=[],this.displayedColumns=["Influencer","Campaign","Contact","Time_to_reply","Date","type","Action"]}getAllLogs(){this.service.getAllLogs().subscribe(n=>{this.dataSource=new r.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}viewLog(n,i){this.single=!1,this.package=!1,this.log=this.logs[n],"single"==i&&(this.single=!0),"package"==i&&(this.package=!0)}getUsername(n){return this.users[n]}redirectToNewLog(){this.router.navigate([this.path.newRateLog])}}Z.\u0275fac=function(n){return new(n||Z)(t.Y36(S.$),t.Y36(I.N),t.Y36(v.K),t.Y36(R._W),t.Y36(kt.O),t.Y36(d.F0),t.Y36(N.so),t.Y36(S.$))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-influencer-logs"]],viewQuery:function(n,i){if(1&n&&(t.Gf(f.NW,5),t.Gf(p.YE,7),t.Gf(r.BZ,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first),t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:31,vars:10,consts:[[2,"display","flex","flex-wrap","wrap","margin-top","25px","margin-left","20px","padding","30px","align-self","center"],["type","button",2,"width","10%","margin-left","2%",3,"click"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","Campaign"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Contact"],["matColumnDef","Date"],["matColumnDef","Time_to_reply"],["matColumnDef","type"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["class","package",4,"ngIf"],["class","single",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"click"],["mat-header-row",""],["mat-row",""],[1,"package"],[1,"row"],["class","row",4,"ngFor","ngForOf"],[1,"single"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"H2"),t._uU(2,"Logs"),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return i.redirectToNewLog()}),t._uU(4," Add Log "),t.qZA()(),t.TgZ(5,"div",2)(6,"table",3),t.ynx(7,4),t.YNc(8,Rt,2,0,"th",5),t.YNc(9,It,2,1,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,Ut,2,0,"th",5),t.YNc(12,St,2,1,"td",6),t.BQk(),t.ynx(13,8),t.YNc(14,Nt,2,0,"th",5),t.YNc(15,Yt,3,3,"td",6),t.BQk(),t.ynx(16,9),t.YNc(17,qt,2,0,"th",5),t.YNc(18,Dt,2,1,"td",6),t.BQk(),t.ynx(19,10),t.YNc(20,wt,2,0,"th",5),t.YNc(21,Qt,3,3,"td",6),t.BQk(),t.ynx(22,11),t.YNc(23,Ot,2,0,"th",5),t.YNc(24,bt,3,0,"td",6),t.BQk(),t.YNc(25,Pt,1,0,"tr",12),t.YNc(26,Mt,1,0,"tr",13),t.qZA(),t._UZ(27,"mat-paginator",14)(28,"hr"),t.YNc(29,Bt,8,4,"div",15),t.YNc(30,Jt,6,2,"div",16),t.qZA()),2&n&&(t.xp6(6),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",null==i.dataSource?null:i.dataSource.data.length)("pageSize",5)("pageSizeOptions",t.DdM(9,Ft)),t.xp6(2),t.Q6J("ngIf",i.package),t.xp6(1),t.Q6J("ngIf",i.single))},dependencies:[u.sg,u.O5,y.Hw,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,f.NW,p.YE,p.nU,u.gd,u.uU],styles:["table[_ngcontent-%COMP%]{width:100%}.warn[_ngcontent-%COMP%]{background-color:red;color:#fff}.table-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden}.searchInput[_ngcontent-%COMP%]{color:#fff!important}.matInput[_ngcontent-%COMP%]{color:#fff}.search-container[_ngcontent-%COMP%]{display:flex;left:0;right:0;z-index:1;position:sticky}.mat-expansion-panel[_ngcontent-%COMP%]{margin-top:12px;background-color:transparent;border-radius:0;box-shadow:0 0}.mat-expansion-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid white;background-color:#2c393f;width:min-content;margin-bottom:10px}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#fff}.form-container[_ngcontent-%COMP%]{max-height:auto;overflow-y:hidden;overflow-x:hidden}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media (max-width: 1440px),(max-height: 900px){.mat-mdc-raised-button[_ngcontent-%COMP%]{font-size:11px}}"]});let $t=x.m;const Gt=[{path:"viewBrief/:id",children:[{path:"",loadChildren:()=>a.e(757).then(a.bind(a,9757)).then(e=>e.ViewBriefModule)}]},{path:"edit",children:[{path:"",loadChildren:()=>Promise.all([a.e(765),a.e(592),a.e(83)]).then(a.bind(a,5083)).then(e=>e.EditModule)}]},{path:"tasks/:id",component:_},{path:"logs",component:Z},{path:"influencerRating/:id",component:T},{path:"new",children:[{path:"",loadChildren:()=>a.e(765).then(a.bind(a,9765)).then(e=>e.CreateModule)}]},{path:"head",children:[{path:"",loadChildren:()=>Promise.all([a.e(592),a.e(949)]).then(a.bind(a,6949)).then(e=>e.HeadOfTalentModule)}]},{path:"",redirectTo:`${$t.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class g{}g.\u0275fac=function(n){return new(n||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[d.Bz.forChild(Gt),d.Bz]});var zt=a(8519),Et=a(1474),Vt=a(9637),jt=a(3305);class h{}h.\u0275fac=function(n){return new(n||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[u.ez,g,zt.q,l.UX,l.u5,Et.JF,Vt.SharingModule,N.Is,jt.To]})}}]);