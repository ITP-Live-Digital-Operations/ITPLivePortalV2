"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[478],{6478:(Nt,M,c)=>{c.r(M),c.d(M,{CampaignModule:()=>C});var p=c(6814),h=c(1896),S=c(5753),O=c(1476),w=c(3566),l=c(5313),e=c(5879),k=c(3934),y=c(6291),d=c(9347),D=c(2032),g=c(4170),Z=c(617),N=c(3680),A=c(4630),s=c(6223);function U(n,i){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA())}function F(n,i){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Y(n,i){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function q(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Campaign"),e.qZA())}function J(n,i){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.campaignName," ")}}function R(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Client"),e.qZA())}function Q(n,i){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.client.name," ")}}function E(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Market"),e.qZA())}function L(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.market)}}function H(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1," Client's Industry "),e.qZA())}function V(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.client.industry)}}function B(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Action"),e.qZA())}function G(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",29)(1,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.viewCampaign(r.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"remove_red_eye"),e.qZA()()()}}function K(n,i){1&n&&e._UZ(0,"tr",31)}function $(n,i){1&n&&e._UZ(0,"tr",32)}const j=function(){return[5,10,25,50,100]};class b{constructor(i,t,a,o){this.userService=i,this.campaignService=t,this.dialog=a,this.router=o,this.userRole=this.userService.getRole(),this.isLoading=!0,this.campaigns=[],this.clients=[],this.influencers=[],this.displayedColumns=["campaignName","clientName","market","clientIndustry","action"],this.filterValues={campaignName:"",clientName:"",influencerName:""},this.filteredCampaigns=[],this.filteredClients=[],this.filteredInfluencers=[],this.selectedCampaign="",this.selectedClient="",this.selectedInfluencer=""}ngOnInit(){this.loadCampaigns(),this.filteredCampaigns=this.campaigns,this.filteredClients=this.clients,this.filteredInfluencers=this.influencers}loadCampaigns(){this.isLoading=!0,this.campaignService.getCampaigns().subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.sortingDataAccessor=(t,a)=>{switch(a){case"clientName":return t.client.name;case"campaignName":return t.campaignName;case"market":return t.market;case"clientIndustry":return t.client.industry;default:return t[a]}},this.isLoading=!1,this.campaigns=[...new Set(i.map(t=>t.campaignName))].sort(),this.clients=[...new Set(i.map(t=>t.client.name))]})}searchCampaigns(i){i?(this.filteredCampaigns=this.campaigns.filter(t=>t.toLowerCase().includes(i.toLowerCase())),this.filterCampaign(i.toLowerCase())):(this.filteredCampaigns=this.campaigns,this.filterCampaign(i.toLowerCase()))}searchClients(i){i?(this.filteredClients=this.clients.filter(t=>t.toLowerCase().includes(i.toLowerCase())),this.filterClient(i.toLowerCase())):(this.filteredClients=this.clients,this.filterClient(i.toLowerCase()))}onCampaignSelect(i){this.selectedCampaign=i.option.value,this.filterCampaign(this.selectedCampaign.toLowerCase())}onClientSelect(i){this.selectedClient=i.option.value,this.filterClient(this.selectedClient.toLowerCase())}applyFilter(){this.dataSource.filterPredicate=(i,t)=>{const a=JSON.parse(t),o=!a.clientName||i.client.name.toLowerCase().includes(a.clientName.toLowerCase()),r=!a.campaignName||i.campaignName.toLowerCase().includes(a.campaignName.toLowerCase());return o&&r},this.dataSource.filter=JSON.stringify(this.filterValues)}filterClient(i){this.filterValues.clientName=i,this.applyFilter(),this.updateFilterOptions()}filterCampaign(i){this.filterValues.campaignName=i,this.applyFilter(),this.updateFilterOptions()}updateFilterOptions(){const i=this.dataSource.filteredData||[];this.campaigns=[...new Set(i.map(t=>t.campaignName))].sort(),this.clients=[...new Set(i.map(t=>t.client.name))].sort()}viewCampaign(i){this.router.navigate([`/home/campaign/campaignDetails/${i}`])}}b.\u0275fac=function(i){return new(i||b)(e.Y36(k.K),e.Y36(y.U),e.Y36(d.uw),e.Y36(h.F0))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-view-campaigns"]],viewQuery:function(i,t){if(1&i&&(e.Gf(O.NW,5),e.Gf(w.YE,5),e.Gf(l.BZ,5)),2&i){let a;e.iGM(a=e.CRH())&&(t.paginator=a.first),e.iGM(a=e.CRH())&&(t.sort=a.first),e.iGM(a=e.CRH())&&(t.table=a.first)}},decls:46,vars:15,consts:[[1,"logs-button",3,"hidden"],["class","loading-container",4,"ngIf"],[1,"filter-container",3,"hidden"],[1,"filter"],["matPrefix","",2,"color","aliceblue"],["type","text","matInput","",3,"matAutocomplete","ngModel","ngModelChange","input","focus"],[3,"optionSelected"],["autoCampaign","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["autoClient","matAutocomplete"],["value",""],[1,"table-container",3,"hidden"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","campaignName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","clientName"],["matColumnDef","market"],["mat-cell","",4,"matCellDef"],["matColumnDef","clientIndustry"],["matColumnDef","action"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",4,"matRowDef","matRowDefColumns"],["pageSize","10","showFirstLastButtons","","aria-label","Select page",3,"pageSizeOptions"],[1,"loading-container"],["src","../../../../../assets/gifs/loading.svg","alt","Loading..."],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"truncate-text"],["mat-cell",""],[1,"icon-btn",3,"click"],["mat-header-row","","sticky",""],["mat-row","","sticky",""]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"H2"),e._uU(2,"Campaigns"),e.qZA()(),e.YNc(3,U,2,0,"div",1),e.TgZ(4,"div",2)(5,"mat-form-field",3)(6,"mat-icon",4),e._uU(7,"search"),e.qZA(),e.TgZ(8,"mat-label"),e._uU(9,"Campaign Filter"),e.qZA(),e.TgZ(10,"input",5),e.NdJ("ngModelChange",function(o){return t.selectedCampaign=o})("input",function(o){return t.searchCampaigns(o.target.value)})("focus",function(o){return t.searchCampaigns(o.target.value)}),e.qZA(),e.TgZ(11,"mat-autocomplete",6,7),e.NdJ("optionSelected",function(o){return t.onCampaignSelect(o)}),e.YNc(13,F,2,2,"mat-option",8),e.qZA()(),e.TgZ(14,"mat-form-field",3)(15,"mat-icon",4),e._uU(16,"search"),e.qZA(),e.TgZ(17,"mat-label"),e._uU(18,"Client Filter"),e.qZA(),e.TgZ(19,"input",5),e.NdJ("ngModelChange",function(o){return t.selectedClient=o})("input",function(o){return t.searchClients(o.target.value)})("focus",function(o){return t.searchClients(o.target.value)}),e.qZA(),e.TgZ(20,"mat-autocomplete",6,9),e.NdJ("optionSelected",function(o){return t.onClientSelect(o)}),e.TgZ(22,"mat-option",10),e._uU(23,"All Clients"),e.qZA(),e.YNc(24,Y,2,2,"mat-option",8),e.qZA()()(),e.TgZ(25,"div",11)(26,"table",12),e.ynx(27,13),e.YNc(28,q,2,0,"th",14),e.YNc(29,J,2,1,"td",15),e.BQk(),e.ynx(30,16),e.YNc(31,R,2,0,"th",14),e.YNc(32,Q,2,1,"td",15),e.BQk(),e.ynx(33,17),e.YNc(34,E,2,0,"th",14),e.YNc(35,L,2,1,"td",18),e.BQk(),e.ynx(36,19),e.YNc(37,H,2,0,"th",14),e.YNc(38,V,2,1,"td",18),e.BQk(),e.ynx(39,20),e.YNc(40,B,2,0,"th",14),e.YNc(41,G,4,0,"td",18),e._uU(42," > "),e.BQk(),e.YNc(43,K,1,0,"tr",21),e.YNc(44,$,1,0,"tr",22),e.qZA()(),e._UZ(45,"mat-paginator",23)),2&i){const a=e.MAs(12),o=e.MAs(21);e.Q6J("hidden",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.Q6J("hidden",t.isLoading),e.xp6(6),e.Q6J("matAutocomplete",a)("ngModel",t.selectedCampaign),e.xp6(3),e.Q6J("ngForOf",t.filteredCampaigns),e.xp6(6),e.Q6J("matAutocomplete",o)("ngModel",t.selectedClient),e.xp6(5),e.Q6J("ngForOf",t.clients),e.xp6(1),e.Q6J("hidden",t.isLoading),e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(17),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(14,j))}},dependencies:[p.sg,p.O5,D.Nt,g.KE,g.hX,g.qo,Z.Hw,N.ey,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,O.NW,w.YE,w.nU,A.XC,A.ZL,s.Fj,s.JJ,s.On],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}  .mat-mdc-autocomplete-panel{background:rgba(50,68,129,.9921568627)!important}  .mat-mdc-option .mdc-list-item__primary-text{color:#fff!important}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:56vh;width:100%}"]});var z=c(825),I=c(4706),X=c(9229),W=c(9061);class _{constructor(i,t,a,o,r,m,kt,Dt){this.formBuilder=i,this.campaignService=t,this.toastrService=a,this.clientService=o,this.userService=r,this.activatedRoute=m,this.dialog=kt,this.source=Dt,this.userId=this.userService.getID(),this.newCampaignForm=this.formBuilder.group({campaignName:["",[s.kI.required]],market:["",[s.kI.required]]})}ngOnInit(){this.loadClients(),this.loadCampaign()}editCampaign(){const i={campaignName:this.newCampaignForm.value.campaignName,market:this.newCampaignForm.value.market};this.campaignService.editCampaign(this.campaign.id,i).subscribe(t=>{"success"===t.status?(this.toastrService.success("Campaign Edited Successfully"),this.dialog.closeAll()):this.toastrService.error("Error Editing Campaign")})}addInfluencers(){this.campaignId=this.campaign?.id,(this.dialog?.open(I.x,{width:"50%",height:"90%",data:{campaignId:this.campaignId}})).afterClosed().subscribe(()=>{window.location.reload()})}loadCampaign(){this.campaign=this.source.campaign,this.newCampaignForm.patchValue({campaignName:this.campaign.campaignName,market:this.campaign.market})}loadClients(){this.clientService.getClients().subscribe(i=>{this.clients=i,this.clients.sort((t,a)=>t.name<a.name?-1:t.name>a.name?1:0)})}}_.\u0275fac=function(i){return new(i||_)(e.Y36(s.qu),e.Y36(y.U),e.Y36(X._W),e.Y36(W.y),e.Y36(k.K),e.Y36(h.gz),e.Y36(d.uw),e.Y36(d.WI))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-edit-campaign"]],decls:15,vars:2,consts:[[1,"form-container"],[3,"formGroup"],[1,"row"],["matInput","","type","text","formControlName","campaignName","autocomplete","off"],["matInput","","type","text","formControlName","market","autocomplete","off"],["color","primary","type","submit",1,"edit",3,"disabled","click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"form",1)(2,"h2"),e._uU(3,"Edit Campaign"),e.qZA(),e.TgZ(4,"div",2)(5,"mat-form-field")(6,"mat-label"),e._uU(7," Name "),e.qZA(),e._UZ(8,"input",3),e.qZA(),e.TgZ(9,"mat-form-field")(10,"mat-label"),e._uU(11," Market "),e.qZA(),e._UZ(12,"input",4),e.qZA()(),e.TgZ(13,"button",5),e.NdJ("click",function(){return t.editCampaign()}),e._uU(14," Edit Campaign "),e.qZA()()()),2&i&&(e.xp6(1),e.Q6J("formGroup",t.newCampaignForm),e.xp6(12),e.Q6J("disabled",!t.newCampaignForm.valid))},dependencies:[D.Nt,g.KE,g.hX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".form-container[_ngcontent-%COMP%]{margin:3%}.form-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.form-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;margin-right:10px;margin-bottom:5px}.edit[_ngcontent-%COMP%]{border:none;background:rgba(255,255,255,.1);border-radius:12px;border-top:1px solid rgba(255,255,255,.2);box-shadow:0 13px 21px #0000000d;margin-bottom:20px;height:40px;min-width:150px;color:#fff;padding-left:10px}.edit[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.133);box-shadow:0 13px 21px #0000000d}.vertical-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffff0f;border-radius:15px;box-shadow:0 4px 6px #0000;padding:20px;max-width:1500px;margin:auto;overflow:hidden}"]});var ee=c(8525),te=c(96),ne=c(2296);function ie(n,i){1&n&&(e.TgZ(0,"th"),e._uU(1," Frame "),e.qZA())}function ae(n,i){1&n&&(e.TgZ(0,"th"),e._uU(1,"Set"),e.qZA())}function oe(n,i){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}function le(n,i){if(1&n&&e._UZ(0,"input",16),2&n){const t=e.oxw().$implicit;e.s9C("formControlName",t.key),e.s9C("type",t.type)}}function re(n,i){if(1&n&&(e.TgZ(0,"td",14),e.YNc(1,le,1,2,"input",15),e.qZA()),2&n){const t=i.$implicit,a=e.oxw().index;e.Q6J("formGroupName",a),e.xp6(1),e.Q6J("ngIf","isEdit"!=t.key)}}function ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr",10)(1,"td",11),e._uU(2),e.qZA(),e.YNc(3,re,2,2,"td",12),e.TgZ(4,"td")(5,"button",13),e.NdJ("click",function(){const r=e.CHM(t).index,m=e.oxw(2);return e.KtG(m.deleteRow(r))}),e._uU(6," Delete Row "),e.qZA()()()}if(2&n){const t=i.index,a=e.oxw(2);e.xp6(2),e.Oqu(t+1),e.xp6(1),e.Q6J("ngForOf",a.keysAndTypes)}}function se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"form",2)(4,"table",3)(5,"thead")(6,"tr"),e.YNc(7,ie,2,0,"th",4),e.YNc(8,ae,2,0,"ng-template",null,5,e.W1O),e.YNc(10,oe,2,1,"th",6),e._UZ(11,"th"),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,ce,7,2,"tr",7),e.qZA()(),e.TgZ(14,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addRow())}),e._uU(15,"Add Row"),e.qZA()(),e.TgZ(16,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.save())}),e._uU(17,"Add Statistics"),e.qZA()()}if(2&n){const t=e.MAs(9),a=e.oxw();e.xp6(2),e.Oqu(a.platformDeliverable),e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("ngIf","Snapchat Stories"==a.platformDeliverable||"Instagram Stories"==a.platformDeliverable)("ngIfElse",t),e.xp6(3),e.Q6J("ngForOf",a.labels),e.xp6(3),e.Q6J("ngForOf",a.rows.controls),e.xp6(3),e.Q6J("disabled",a.form.invalid)}}class u{get rows(){return this.form.get("rows")}constructor(i,t){this.formBuilder=i,this.influencerService=t,this.done=new e.vpe,this.labels=[],this.keysAndTypes=[]}ngOnInit(){this.initializeForm()}ngOnChanges(i){i.schema&&i.schema.currentValue&&this.initializeForm()}initializeForm(){this.schema&&this.schema.length>0&&(this.labels=this.schema.map(i=>i.label),this.keysAndTypes=this.schema.map(i=>({key:i.key,type:i.type})),this.form=this.formBuilder.group({rows:this.formBuilder.array([])}),this.addRow())}addRow(){const i=this.formBuilder.group({});this.keysAndTypes.forEach(t=>{i.addControl(t.key,this.formBuilder.control("",s.kI.compose([s.kI.pattern("^[0-9]*$"),s.kI.required])))}),this.rows.push(i)}deleteRow(i){this.rows.removeAt(i)}save(){console.log(this.platformDeliverable),console.log(this.campaignId),console.log(this.influencerId),console.log(this.form.value),this.influencerService.addInfluencerStats(this.campaignId,this.influencerId,this.poc,this.platformDeliverable,this.form.value).subscribe(i=>{console.log(i),this.done.emit()},i=>{console.log(i)})}}function me(n,i){if(1&n&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function pe(n,i){if(1&n&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.Name)}}function de(n,i){if(1&n&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ge(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"mat-label",1),e._uU(2,"Select Platform"),e.qZA(),e.TgZ(3,"mat-select",2),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedPlatform=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectionChange())}),e.YNc(4,de,2,2,"mat-option",3),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedPlatform),e.xp6(1),e.Q6J("ngForOf",t.platforms)}}function _e(n,i){if(1&n&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field")(1,"mat-label",1),e._uU(2,"Select Deliverable"),e.qZA(),e.TgZ(3,"mat-select",2),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedDeliverable=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSelectionChange())}),e.YNc(4,_e,2,2,"mat-option",3),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.selectedDeliverable),e.xp6(1),e.Q6J("ngForOf",t.getDeliverables(t.selectedPlatform))}}function fe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_IG_STORIES)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function Ce(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_POST_REEL)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function he(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_POST_REEL)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUNMS_SCHEMA_SC_STORIES)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function xe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_YOUTUBE_VIDEOS_SHORTS)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function ve(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_YOUTUBE_VIDEOS_SHORTS)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function Te(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_YOUTUBE_VIDEOS_SHORTS)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_TIKTOK)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function ye(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_FACEBOOK)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function Ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_X)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function Me(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_TWITCH)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function Oe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_REGULAR_POSTS)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}function ke(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-campaign-deliverables",6),e.NdJ("done",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChildDone())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("platformDeliverable",t.combinedPlatformDeliverable)("schema",t.COLUMNS_SCHEMA_REGULAR_POSTS)("campaignId",t.campaignId)("influencerId",t.selectedInfluencer)("poc",t.poc)}}u.\u0275fac=function(i){return new(i||u)(e.Y36(s.qu),e.Y36(te.N))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-campaign-deliverables"]],inputs:{platformDeliverable:"platformDeliverable",schema:"schema",campaignId:"campaignId",influencerId:"influencerId",poc:"poc"},outputs:{done:"done"},features:[e.TTD],decls:1,vars:1,consts:[["class","form-container",4,"ngIf"],[1,"form-container"],[3,"formGroup"],[1,"my-table"],[4,"ngIf","ngIfElse"],["elseBlock",""],[4,"ngFor","ngForOf"],["formArrayName","rows",4,"ngFor","ngForOf"],[1,"btn",3,"click"],[1,"btn-green",3,"disabled","click"],["formArrayName","rows"],[2,"color","#fff","width","1%"],[3,"formGroupName",4,"ngFor","ngForOf"],["mat-raised-button","",1,"btn-red",3,"click"],[3,"formGroupName"],["class","no-border",3,"formControlName","type",4,"ngIf"],[1,"no-border",3,"formControlName","type"]],template:function(i,t){1&i&&e.YNc(0,se,18,7,"div",0),2&i&&e.Q6J("ngIf",t.schema)},dependencies:[p.sg,p.O5,ne.lW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE],styles:[".form-container[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%;padding:20px;box-shadow:0 2px 4px #0000001a;border-radius:8px}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]{width:100%;margin:0 auto;table-layout:auto;border-collapse:separate;border-spacing:0 10px}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:15px 10px;text-align:left;box-shadow:0 1px 3px #6464641a}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f3371;color:#fff;font-weight:700;border-bottom:none}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#343a40;color:#fff;border:none;width:100%;box-sizing:border-box;padding:5px 10px;border-radius:4px}.form-container[_ngcontent-%COMP%]   .my-table[_ngcontent-%COMP%]   .no-border[_ngcontent-%COMP%]{background:rgb(32,32,32);border:1px solid #ddd}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789a1;border-radius:4px;cursor:pointer}.form-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#4789a1}.form-container[_ngcontent-%COMP%]   .btn-red[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #D72638;border-radius:4px;cursor:pointer;white-space:nowrap;min-width:100px;overflow:hidden;text-overflow:ellipsis}.form-container[_ngcontent-%COMP%]   .btn-red[_ngcontent-%COMP%]:hover{background-color:#d72638}.form-container[_ngcontent-%COMP%]   .btn-green[_ngcontent-%COMP%]{margin-top:2%;padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #B4DC7F;border-radius:4px;cursor:pointer}.form-container[_ngcontent-%COMP%]   .btn-green[_ngcontent-%COMP%]:hover{background-color:#b4dc7f}.form-container[_ngcontent-%COMP%]   .btn-green[_ngcontent-%COMP%]:disabled{background-color:gray;cursor:not-allowed}"]});class x{constructor(i,t){this.data=i,this.dialog=t,this.campaignId=0,this.influencers=[],this.platforms=["Instagram","Snapchat","YouTube","TikTok","Facebook","X","Twitch","VK","Telegram"],this.deliverables=["Instagram-Stories","Instagram-Post","Instagram-Reel","SnapChat-Stories","YouTube-Videos","YouTube-Shorts","YouTube-Stream","TikTok-Video","Facebook-Post","X-Post","Twitch-Stream","VK-Post","Telegram-Post"],this.COLUMNS_SCHEMA_POST_REEL=[{key:"followers",type:"number",label:"Followers"},{key:"reach",type:"number",label:"Reach"},{key:"impressions",type:"number",label:"Impressions"},{key:"likes",type:"number",label:"Likes"},{key:"comments",type:"number",label:"Comments"},{key:"shares",type:"number",label:"Shares"},{key:"saves",type:"number",label:"Saves"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_YOUTUBE_VIDEOS_SHORTS=[{key:"subscribers",type:"number",label:"Subscribers"},{key:"videoViews",type:"number",label:"Video Views"},{key:"uniqueViewers",type:"number",label:"Unique Viewers"},{key:"impressions",type:"number",label:"Impressions"},{key:"likes",type:"number",label:"Likes"},{key:"dislikes",type:"number",label:"Dislikes"},{key:"comments",type:"number",label:"Comments"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_TIKTOK=[{key:"followers",type:"number",label:"Followers"},{key:"videoViews",type:"number",label:"Video Views"},{key:"likes",type:"number",label:"Likes"},{key:"comments",type:"number",label:"Comments"},{key:"shares",type:"number",label:"Shares"},{key:"saves",type:"number",label:"Saves"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_FACEBOOK=[{key:"followers",type:"number",label:"Followers"},{key:"reach",type:"number",label:"Reach"},{key:"likes",type:"number",label:"Likes"},{key:"comments",type:"number",label:"Comments"},{key:"shares",type:"number",label:"Shares"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_X=[{key:"followers",type:"number",label:"Followers"},{key:"impressions",type:"number",label:"Impressions"},{key:"likes",type:"number",label:"Likes"},{key:"comments",type:"number",label:"Comments"},{key:"retweets",type:"number",label:"Retweets"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_TWITCH=[{key:"followers",type:"number",label:"Followers"},{key:"views",type:"number",label:"Views"},{key:"uniqueViewers",type:"number",label:"Unique Viewers"},{key:"likes",type:"number",label:"Likes"},{key:"dislikes",type:"number",label:"Dislikes"},{key:"comments",type:"number",label:"Comments"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_IG_STORIES=[{key:"views",type:"number",label:"Views"},{key:"reach",type:"number",label:"Reach"},{key:"impressions",type:"number",label:"Impressions"},{key:"interactions",type:"number",label:"Interactions"},{key:"stickerTaps",type:"number",label:"Sticker Taps"},{key:"linkClicks",type:"number",label:"Link Clicks"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUNMS_SCHEMA_SC_STORIES=[{key:"views",type:"number",label:"Views (Impressions)"},{key:"viewers",type:"number",label:"Viewers (Reach)"},{key:"screenshots",type:"number",label:"Screenshots"},{key:"replies",type:"number",label:"Replies"},{key:"clicks",type:"number",label:"Clicks"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.COLUMNS_SCHEMA_REGULAR_POSTS=[{key:"followers",type:"number",label:"Followers"},{key:"reach",type:"number",label:"Reach"},{key:"impressions",type:"number",label:"Impressions"},{key:"clientCost",type:"number",label:"Client Cost"},{key:"influencerCost",type:"number",label:"Influencer Cost"}],this.POCS=["Zerbia Khan","Adnan Zahabi","Fatmah Alsharif","Nada Kattan","Mira Moukaddem","Ghinwa Bassil"],this.reload=new e.vpe}ngOnInit(){this.data&&(this.campaignId=this.data.campaignId,this.influencers=this.data.influencers)}getDeliverables(i){return"Instagram"===i?["Stories","Post","Reel"]:"Snapchat"===i?["Stories"]:"YouTube"===i?["Videos","Shorts","Stream"]:"TikTok"===i?["Video"]:"Facebook"===i||"X"===i?["Post"]:"Twitch"===i?["Stream"]:"VK"===i||"Telegram"===i?["Post"]:[]}onSelectionChange(){this.selectedPlatform&&this.selectedDeliverable&&(this.combinedPlatformDeliverable=this.selectedPlatform+" "+this.selectedDeliverable)}onChildDone(){this.reload.emit(),this.dialog.closeAll()}}x.\u0275fac=function(i){return new(i||x)(e.Y36(d.WI),e.Y36(d.uw))},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-campaign-results"]],outputs:{reload:"reload"},decls:27,vars:19,consts:[[1,"campaign-details"],[2,"color","white"],[2,"color","white",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[3,"platformDeliverable","schema","campaignId","influencerId","poc","done"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"mat-form-field")(2,"mat-label",1),e._uU(3,"Select POC"),e.qZA(),e.TgZ(4,"mat-select",2),e.NdJ("ngModelChange",function(o){return t.poc=o}),e.YNc(5,me,2,2,"mat-option",3),e.qZA()(),e.TgZ(6,"mat-form-field")(7,"mat-label",1),e._uU(8,"Select Influencer"),e.qZA(),e.TgZ(9,"mat-select",2),e.NdJ("ngModelChange",function(o){return t.selectedInfluencer=o}),e.YNc(10,pe,2,2,"mat-option",3),e.qZA()(),e.YNc(11,ge,5,2,"mat-form-field",4),e.YNc(12,ue,5,2,"mat-form-field",4),e.qZA(),e.TgZ(13,"div",0),e.YNc(14,fe,2,5,"div",4),e.YNc(15,Ce,2,5,"div",4),e.YNc(16,he,2,5,"div",4),e.YNc(17,be,2,5,"div",4),e.YNc(18,xe,2,5,"div",4),e.YNc(19,ve,2,5,"div",4),e.YNc(20,Te,2,5,"div",4),e.YNc(21,we,2,5,"div",4),e.YNc(22,ye,2,5,"div",4),e.YNc(23,Ze,2,5,"div",4),e.YNc(24,Me,2,5,"div",4),e.YNc(25,Oe,2,5,"div",4),e.YNc(26,ke,2,5,"div",4),e.qZA()),2&i&&(e.xp6(4),e.Q6J("ngModel",t.poc),e.xp6(1),e.Q6J("ngForOf",t.POCS),e.xp6(4),e.Q6J("ngModel",t.selectedInfluencer),e.xp6(1),e.Q6J("ngForOf",t.influencers),e.xp6(1),e.Q6J("ngIf",t.selectedInfluencer),e.xp6(1),e.Q6J("ngIf",t.selectedPlatform),e.xp6(2),e.Q6J("ngIf","Instagram Stories"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Instagram Post"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Instagram Reel"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Snapchat Stories"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","YouTube Videos"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","YouTube Shorts"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","YouTube Stream"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","TikTok Video"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Facebook Post"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","X Post"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Twitch Stream"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","VK Post"===t.combinedPlatformDeliverable),e.xp6(1),e.Q6J("ngIf","Telegram Post"===t.combinedPlatformDeliverable))},dependencies:[p.sg,p.O5,g.KE,g.hX,ee.gD,N.ey,s.JJ,s.On,u],styles:[".campaign-details[_ngcontent-%COMP%]{margin:2%}.add-stats-btn[_ngcontent-%COMP%]{margin-left:2%;background-color:transparent;color:#fff;border:2px solid #4789a1;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.add-stats-btn[_ngcontent-%COMP%]:hover{background-color:#4789a1;color:#fff}.campaign-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.campaign-details[_ngcontent-%COMP%]   .stats-table[_ngcontent-%COMP%]{margin-right:2%}"]});var P=c(2596);function De(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," ID "),e.qZA())}function Ne(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ae(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," File Name "),e.qZA())}function Ie(n,i){if(1&n&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.Q6J("matTooltip",t.fileName),e.xp6(1),e.hij(" ",a.truncateFilename(t.fileName)," ")}}function Pe(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," File Type "),e.qZA())}function Se(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.fileType," ")}}function Ue(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," File Size (MB) "),e.qZA())}function Fe(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=i.$implicit,a=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,a.convertToMB(t.fileSize),"1.2-2")," ")}}function Ye(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Uploaded By "),e.qZA())}function qe(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.user.name," ")}}function Je(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Created At "),e.qZA())}function Re(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.createdAt,"medium")," ")}}function Qe(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Updated At "),e.qZA())}function Ee(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.updatedAt,"medium")," ")}}function Le(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Campaign ID "),e.qZA())}function He(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.campaignId," ")}}function Ve(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Download "),e.qZA())}function Be(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",19)(1,"mat-icon",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.downloadFile(r.id,r))}),e._uU(2,"download"),e.qZA()()}}function Ge(n,i){1&n&&e._UZ(0,"tr",22)}function Ke(n,i){1&n&&e._UZ(0,"tr",23)}function $e(n,i){if(1&n&&(e.TgZ(0,"div",2)(1,"table",3),e.ynx(2,4),e.YNc(3,De,2,0,"th",5),e.YNc(4,Ne,2,1,"td",6),e.BQk(),e.ynx(5,7),e.YNc(6,Ae,2,0,"th",5),e.YNc(7,Ie,2,2,"td",8),e.BQk(),e.ynx(8,9),e.YNc(9,Pe,2,0,"th",5),e.YNc(10,Se,2,1,"td",6),e.BQk(),e.ynx(11,10),e.YNc(12,Ue,2,0,"th",5),e.YNc(13,Fe,3,4,"td",6),e.BQk(),e.ynx(14,11),e.YNc(15,Ye,2,0,"th",5),e.YNc(16,qe,2,1,"td",6),e.BQk(),e.ynx(17,12),e.YNc(18,Je,2,0,"th",5),e.YNc(19,Re,3,4,"td",6),e.BQk(),e.ynx(20,13),e.YNc(21,Qe,2,0,"th",5),e.YNc(22,Ee,3,4,"td",6),e.BQk(),e.ynx(23,14),e.YNc(24,Le,2,0,"th",5),e.YNc(25,He,2,1,"td",6),e.BQk(),e.ynx(26,15),e.YNc(27,Ve,2,0,"th",5),e.YNc(28,Be,3,0,"td",6),e.BQk(),e.YNc(29,Ge,1,0,"tr",16),e.YNc(30,Ke,1,0,"tr",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}class v{constructor(i){this.campaignService=i,this.displayedColumns=["fileName","fileType","fileSizeMB","uploadedBy","createdAt","download"],this.campaignFiles=this.campaign?.campaignFiles;const t=this.campaignFiles;this.dataSource=new l.by(t)}ngOnInit(){}ngOnChanges(){this.campaignFiles=this.campaign?.campaignFiles;const i=this.campaignFiles;this.dataSource=new l.by(i)}convertToMB(i){return i/1024/1024}truncateFilename(i){return i.length>20?i.substr(0,19)+"\u2026":i}downloadFile(i,t){this.campaignService.downloadCampaignFile(i).subscribe(a=>{const o=window.URL.createObjectURL(new Blob([a],{type:t.mimeType})),r=document.createElement("a");r.href=o,r.download=t.fileName,r.click(),window.URL.revokeObjectURL(o)},a=>{console.error("Error downloading the file:",a)})}}function je(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Name"),e.qZA())}function ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.viewInfluencer(r.influencerId))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.showName?t.name:""," ")}}function Xe(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Platform"),e.qZA())}function We(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.platform)}}function et(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Deliverable"),e.qZA())}function tt(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.deliverable)}}function nt(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Followers"),e.qZA())}function it(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.followers)}}function at(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Reach"),e.qZA())}function ot(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.reach)}}function lt(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Impressions"),e.qZA())}function rt(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.impressions)}}function ct(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Interactions"),e.qZA())}function st(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.interactions)}}function mt(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Client Cost"),e.qZA())}function pt(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.clientCost)}}function dt(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Influencer Cost"),e.qZA())}function gt(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.influencerCost)}}function _t(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Engagement Rate"),e.qZA())}function ut(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.engagementRate)}}function ft(n,i){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Year"),e.qZA())}function Ct(n,i){if(1&n&&(e.TgZ(0,"td",29),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.year)}}function ht(n,i){1&n&&e._UZ(0,"tr",30)}function bt(n,i){1&n&&e._UZ(0,"tr",31)}function xt(n,i){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Action"),e.qZA())}function vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",29)(1,"button",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.editCampaign(r.id))}),e.TgZ(2,"mat-icon"),e._uU(3,"create"),e.qZA()(),e.TgZ(4,"mat-icon",34),e.NdJ("click",function(){const r=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.deleteCampaign(r.id))}),e._uU(5," delete "),e.qZA()()}}function Tt(n,i){if(1&n&&(e.TgZ(0,"div",7)(1,"table",8),e.ynx(2,9),e.YNc(3,je,2,0,"th",10),e.YNc(4,ze,2,1,"td",11),e.BQk(),e.ynx(5,12),e.YNc(6,Xe,2,0,"th",10),e.YNc(7,We,2,1,"td",13),e.BQk(),e.ynx(8,14),e.YNc(9,et,2,0,"th",10),e.YNc(10,tt,2,1,"td",13),e.BQk(),e.ynx(11,15),e.YNc(12,nt,2,0,"th",10),e.YNc(13,it,2,1,"td",13),e.BQk(),e.ynx(14,16),e.YNc(15,at,2,0,"th",10),e.YNc(16,ot,2,1,"td",13),e.BQk(),e.ynx(17,17),e.YNc(18,lt,2,0,"th",10),e.YNc(19,rt,2,1,"td",13),e.BQk(),e.ynx(20,18),e.YNc(21,ct,2,0,"th",10),e.YNc(22,st,2,1,"td",13),e.BQk(),e.ynx(23,19),e.YNc(24,mt,2,0,"th",10),e.YNc(25,pt,2,1,"td",13),e.BQk(),e.ynx(26,20),e.YNc(27,dt,2,0,"th",10),e.YNc(28,gt,2,1,"td",13),e.BQk(),e.ynx(29,21),e.YNc(30,_t,2,0,"th",10),e.YNc(31,ut,2,1,"td",13),e.BQk(),e.ynx(32,22),e.YNc(33,ft,2,0,"th",10),e.YNc(34,Ct,2,1,"td",13),e.BQk(),e.YNc(35,ht,1,0,"tr",23),e.YNc(36,bt,1,0,"tr",24),e.ynx(37,25),e.YNc(38,xt,2,0,"th",26),e.YNc(39,vt,6,0,"td",13),e.BQk(),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}v.\u0275fac=function(i){return new(i||v)(e.Y36(y.U))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-campaign-files"]],inputs:{campaign:"campaign"},features:[e.TTD],decls:4,vars:1,consts:[[1,"vertical-container"],["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fileName"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","fileType"],["matColumnDef","fileSizeMB"],["matColumnDef","uploadedBy"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","campaignId"],["matColumnDef","download"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],[3,"click"],["mat-header-row",""],["mat-row",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2,"Files"),e.qZA(),e.YNc(3,$e,31,3,"div",1),e.qZA()),2&i&&(e.xp6(3),e.Q6J("ngIf",t.campaignFiles))},dependencies:[p.O5,Z.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,P.gM,p.JJ,p.uU],styles:[".vertical-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffff0f;border-radius:15px;box-shadow:0 4px 6px #0000;padding:20px;max-width:1500px;margin:auto;overflow:hidden}"]});class T{constructor(i,t,a,o){this.activatedRoute=i,this.campaignService=t,this.cdr=a,this.dialog=o,this.dataSource=[],this.displayedColumns=["name","platform","deliverable","followers","reach","impressions","interactions","clientCost","influencerCost","engagementRate","year"]}ngOnInit(){this.loadCampaignData()}onCampaignEdited(){this.loadCampaignData()}loadCampaignData(){this.activatedRoute.params.subscribe(i=>{this.id=i.id,this.campaignService.getCampaignById(this.id).subscribe(t=>{console.log(t),this.campaign=t,this.campaign.Influencers.forEach(o=>{let r=!0;0===o.influencerStatistics.length?this.dataSource.push({showName:r,influencerId:o.id,name:r?o.Name:"",platform:"",deliverable:"",followers:0,reach:0,impressions:0,interactions:0,clientCost:0,influencerCost:0,engagementRate:0,year:0}):o.influencerStatistics.forEach(m=>{this.dataSource.push({showName:r,influencerId:o.id,name:r?o.Name:"",platform:m.platform,deliverable:m.deliverable,followers:m.followers,reach:m.reach,impressions:m.impressions,interactions:m.interactions,clientCost:m.clientCost,influencerCost:m.influencerCost,engagementRate:m.engagementRate,year:m.year}),r=!1})}),this.cdr.detectChanges()})})}viewInfluencer(i){this.dialog?.open(z.Q,{width:"100%",height:"95%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{id:i}})}EditCampaign(){this.dialog?.open(_,{width:"80%",height:"65%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{campaign:this.campaign}}),this.dialog.afterAllClosed.subscribe(()=>{this.loadCampaignData()})}addInfluencerResults(){const i=this.campaign.Influencers.map(t=>({id:t.id,Name:t.Name}));this.dialog?.open(x,{width:"100%",height:"95%",exitAnimationDuration:"1000ms",enterAnimationDuration:"1000ms",data:{campaignId:this.campaign.id,influencers:i}}).afterClosed().subscribe(()=>{this.loadCampaignData()})}addInfluencers(){this.campaignId=this.campaign?.id,(this.dialog?.open(I.x,{width:"50%",height:"90%",data:{campaignId:this.campaignId}})).afterClosed().subscribe(()=>{window.location.reload()})}editCampaign(i){}deleteCampaign(i){}}T.\u0275fac=function(i){return new(i||T)(e.Y36(h.gz),e.Y36(y.U),e.Y36(e.sBO),e.Y36(d.uw))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-campaign-details"]],decls:21,vars:5,consts:[[1,"vertical-container"],[1,"edit",3,"click"],[1,"files-section"],[3,"campaign"],[1,"btns"],["type","button",1,"edit",2,"margin-left","2%",3,"click"],["class","table-container",4,"ngIf"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","platform"],["mat-cell","",4,"matCellDef"],["matColumnDef","deliverable"],["matColumnDef","followers"],["matColumnDef","reach"],["matColumnDef","impressions"],["matColumnDef","interactions"],["matColumnDef","clientCost"],["matColumnDef","influencerCost"],["matColumnDef","engagementRate"],["matColumnDef","year"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","Action"],["mat-header-cell","","sticky","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","","sticky",""],[1,"icons-btn",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"h2"),e._uU(4),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.qZA(),e.TgZ(7,"button",1),e.NdJ("click",function(){return t.EditCampaign()}),e._uU(8," Edit Campaign "),e.qZA()(),e.TgZ(9,"div",2),e._UZ(10,"app-campaign-files",3),e.qZA(),e.TgZ(11,"div",4)(12,"button",1),e.NdJ("click",function(){return t.addInfluencers()}),e._uU(13," Add Influencers to Campaign "),e.qZA(),e.TgZ(14,"button",5),e.NdJ("click",function(){return t.addInfluencerResults()}),e._uU(15," Add Influencer Results "),e.qZA()(),e.TgZ(16,"div",0)(17,"h2"),e._uU(18,"Influencers' Results"),e.qZA(),e.YNc(19,Tt,40,3,"div",6),e._UZ(20,"app-campaign-deliverables"),e.qZA()),2&i&&(e.xp6(2),e.hij("Campaign Name: ",null==t||null==t.campaign?null:t.campaign.campaignName,""),e.xp6(2),e.hij("Client: ",null==t||null==t.campaign||null==t.campaign.client?null:t.campaign.client.name,""),e.xp6(2),e.hij("Client Industry: ",null==t||null==t.campaign||null==t.campaign.client?null:t.campaign.client.industry,""),e.xp6(4),e.Q6J("campaign",t.campaign),e.xp6(9),e.Q6J("ngIf",t.dataSource&&t.dataSource.length>0))},dependencies:[p.O5,Z.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,w.YE,v,u],styles:["h1[_ngcontent-%COMP%]{color:#fff}.files-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.hide-show-button[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;cursor:pointer;margin-right:130px}.hide-show-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.hide-show-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:transparent;color:#fff;cursor:pointer;padding:3px 10px 3px 5px;margin-bottom:1%}.hide-show-button[_ngcontent-%COMP%]:hover{background-color:#4789a1}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;margin-top:2%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:15vh;height:auto}.edit[_ngcontent-%COMP%]{border:none;background:rgba(255,255,255,.1);border-radius:12px;border-top:1px solid rgba(255,255,255,.2);box-shadow:0 4px 6px #0000001a;margin-bottom:20px;height:40px;min-width:150px;color:#fff;padding:10px 20px;text-align:center;transition:background-color .3s,box-shadow .3s}.edit[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.15);box-shadow:0 6px 12px #00000026}.edit[_ngcontent-%COMP%]:active{background:rgba(255,255,255,.2);box-shadow:0 2px 4px #0003}h2[_ngcontent-%COMP%]{color:#fff!important}.icons-btn[_ngcontent-%COMP%]{background-color:transparent;border:0px;padding:4px 6px;color:#fff}.icons-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(300deg,rgb(45,47,149) 0%,rgba(43,45,124,.85) 77%,rgba(36,38,119,.85) 100%);border-radius:5px}.vertical-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffff0f;border-radius:15px;box-shadow:0 4px 6px #0000;padding:20px;max-width:1500px;margin:auto;overflow:hidden}.btns[_ngcontent-%COMP%]{display:flex;margin-top:10px;margin-right:130px;justify-content:flex-end}.files-section[_ngcontent-%COMP%]{margin-top:1%}"]});let wt=S.m;const yt=[{path:"viewCampaigns",component:b},{path:"campaignDetails/:id",component:T},{path:"newCampaign",component:_},{path:"",redirectTo:`${wt.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class f{}f.\u0275fac=function(i){return new(i||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[h.Bz.forChild(yt),h.Bz]});var Zt=c(6058),Mt=c(4166),Ot=c(6865);class C{}C.\u0275fac=function(i){return new(i||C)},C.\u0275mod=e.oAB({type:C}),C.\u0275inj=e.cJS({imports:[p.ez,f,Zt.q,s.UX,s.u5,d.Is,Mt.ViewBriefModule,Ot.SharingModule,P.AV]})}}]);