"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[328],{6916:(ot,f,a)=>{a.r(f),a.d(f,{CampaignModule:()=>s});var u=a(6814),C=a(1896),O=a(5753),d=a(3365),g=a(3566),l=a(5313),t=a(5879),M=a(3934),Z=a(5516),w=a(1474);class m{constructor(n){this.http=n,this.camnpaignApiURL=Z.N.apiUrl+"/v1/campaigns"}getCampaigns(){return this.http.get(`${this.camnpaignApiURL}/getCampaigns`)}getCampaignById(n){return this.http.get(`${this.camnpaignApiURL}/getCampaign/${n}`)}}m.\u0275fac=function(n){return new(n||m)(t.LFG(w.eN))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var h=a(4170),x=a(8525),N=a(3680);function T(e,n){if(1&e&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function P(e,n){if(1&e&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function v(e,n){if(1&e&&(t.TgZ(0,"mat-option",26),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.hij(" ",i," ")}}function y(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Campaign"),t.qZA())}function b(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.campaignName)}}function A(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Client"),t.qZA())}function V(e,n){if(1&e&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.clientName," ")}}function U(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Market"),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.market)}}function Y(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Client's Industry "),t.qZA())}function F(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.clientIndustry)}}function D(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Influencer"),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.influencerName," ")}}function k(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Vertical"),t.qZA())}function q(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.influencerVertical," ")}}function B(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Platform"),t.qZA())}function J(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.platform," ")}}function $(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1," Deliverable "),t.qZA())}function R(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.deliverable," ")}}function j(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"POC"),t.qZA())}function I(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.hij(" ",i.poc," ")}}function L(e,n){1&e&&(t.TgZ(0,"th",27),t._uU(1,"Year"),t.qZA())}function z(e,n){if(1&e&&(t.TgZ(0,"td",29),t._uU(1),t.qZA()),2&e){const i=n.$implicit;t.xp6(1),t.Oqu(i.year)}}function G(e,n){1&e&&t._UZ(0,"tr",30)}function H(e,n){1&e&&t._UZ(0,"tr",31)}const X=function(){return[5,10,25,50,100]};class p{ngOnInit(){this.loadCampaigns()}constructor(n,i){this.userService=n,this.campaignService=i,this.displayedColumns=["campaignName","clientName","market","clientIndustry","influencerName","influencerVertical","platform","deliverable","poc","year"],this.campaigns=[],this.clients=[],this.influencers=[],this.filterValues={campaignName:"",clientName:"",influencerName:""},this.userRole=this.userService.getRole()}loadCampaigns(){this.campaignService.getCampaigns().subscribe(n=>{this.dataSource=new l.by(n),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.campaigns=[...new Set(n.map(i=>i.campaignName))].sort(),this.clients=[...new Set(n.map(i=>i.clientName))],this.influencers=[...new Set(n.map(i=>i.influencerName))]})}filterInfluencer(n){this.filterValues.influencerName=n,this.applyFilter(),this.updateFilterOptions()}filterClient(n){this.filterValues.clientName=n,this.applyFilter(),this.updateFilterOptions()}filterCampaign(n){console.log(n),this.filterValues.campaignName=n,this.applyFilter(),this.updateFilterOptions()}applyFilter(){this.dataSource.filterPredicate=(n,i)=>{const o=JSON.parse(i),c=!o.influencerName||n.influencerName.toLowerCase().includes(o.influencerName.toLowerCase()),it=!o.clientName||n.clientName.toLowerCase().includes(o.clientName.toLowerCase()),at=!o.campaignName||n.campaignName.toLowerCase().includes(o.campaignName.toLowerCase());return c&&it&&at},this.dataSource.filter=JSON.stringify(this.filterValues)}updateFilterOptions(){const n=this.dataSource.filteredData||[];this.influencers=[...new Set(n.map(i=>i.influencerName))].sort(),this.campaigns=[...new Set(n.map(i=>i.campaignName))].sort(),this.clients=[...new Set(n.map(i=>i.clientName))].sort()}}p.\u0275fac=function(n){return new(n||p)(t.Y36(M.K),t.Y36(m))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-view-campaigns"]],viewQuery:function(n,i){if(1&n&&(t.Gf(d.NW,5),t.Gf(g.YE,5),t.Gf(l.BZ,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first),t.iGM(o=t.CRH())&&(i.sort=o.first),t.iGM(o=t.CRH())&&(i.table=o.first)}},decls:58,vars:8,consts:[[1,"campaign-button"],[1,"filter-container"],[1,"filter"],["placeholder","Campaigns Filter",3,"selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["placeholder","Client Filter",3,"selectionChange"],["placeholder","Market Filter",3,"selectionChange"],[1,"table-container"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","campaignName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","truncate-text",4,"matCellDef"],["matColumnDef","clientName"],["matColumnDef","market"],["mat-cell","",4,"matCellDef"],["matColumnDef","clientIndustry"],["matColumnDef","influencerName"],["matColumnDef","influencerVertical"],["matColumnDef","platform"],["matColumnDef","deliverable"],["matColumnDef","poc"],["matColumnDef","year"],["mat-header-row","","sticky","",4,"matHeaderRowDef"],["mat-row","","sticky","",4,"matRowDef","matRowDefColumns"],["pageSize","20","showFirstLastButtons","","aria-label","Select page",3,"pageSizeOptions"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"truncate-text"],["mat-cell",""],["mat-header-row","","sticky",""],["mat-row","","sticky",""]],template:function(n,i){1&n&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4," Campaigns Filter"),t.qZA(),t.TgZ(5,"mat-select",3),t.NdJ("selectionChange",function(c){return i.filterCampaign(c.value)}),t.TgZ(6,"mat-option",4),t._uU(7,"All Campaigns"),t.qZA(),t.YNc(8,T,2,2,"mat-option",5),t.qZA()(),t.TgZ(9,"mat-form-field",2)(10,"mat-label"),t._uU(11,"Client Filter"),t.qZA(),t.TgZ(12,"mat-select",6),t.NdJ("selectionChange",function(c){return i.filterClient(c.value)}),t.TgZ(13,"mat-option",4),t._uU(14,"All Clients"),t.qZA(),t.YNc(15,P,2,2,"mat-option",5),t.qZA()(),t.TgZ(16,"mat-form-field",2)(17,"mat-label"),t._uU(18,"Influencer Filter"),t.qZA(),t.TgZ(19,"mat-select",7),t.NdJ("selectionChange",function(c){return i.filterInfluencer(c.value)}),t.TgZ(20,"mat-option",4),t._uU(21,"All Influencer"),t.qZA(),t.YNc(22,v,2,2,"mat-option",5),t.qZA()()(),t.TgZ(23,"div",8)(24,"table",9),t.ynx(25,10),t.YNc(26,y,2,0,"th",11),t.YNc(27,b,2,1,"td",12),t.BQk(),t.ynx(28,13),t.YNc(29,A,2,0,"th",11),t.YNc(30,V,2,1,"td",12),t.BQk(),t.ynx(31,14),t.YNc(32,U,2,0,"th",11),t.YNc(33,S,2,1,"td",15),t.BQk(),t.ynx(34,16),t.YNc(35,Y,2,0,"th",11),t.YNc(36,F,2,1,"td",15),t.BQk(),t.ynx(37,17),t.YNc(38,D,2,0,"th",11),t.YNc(39,Q,2,1,"td",15),t.BQk(),t.ynx(40,18),t.YNc(41,k,2,0,"th",11),t.YNc(42,q,2,1,"td",15),t.BQk(),t.ynx(43,19),t.YNc(44,B,2,0,"th",11),t.YNc(45,J,2,1,"td",15),t.BQk(),t.ynx(46,20),t.YNc(47,$,2,0,"th",11),t.YNc(48,R,2,1,"td",15),t.BQk(),t.ynx(49,21),t.YNc(50,j,2,0,"th",11),t.YNc(51,I,2,1,"td",15),t.BQk(),t.ynx(52,22),t.YNc(53,L,2,0,"th",11),t.YNc(54,z,2,1,"td",15),t.BQk(),t.YNc(55,G,1,0,"tr",23),t.YNc(56,H,1,0,"tr",24),t.qZA()(),t._UZ(57,"mat-paginator",25)),2&n&&(t.xp6(8),t.Q6J("ngForOf",i.campaigns),t.xp6(7),t.Q6J("ngForOf",i.clients),t.xp6(7),t.Q6J("ngForOf",i.influencers),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,X)))},dependencies:[u.sg,h.KE,h.hX,x.gD,N.ey,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,d.NW,g.YE,g.nU],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:10px 0;text-align:center}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px}.table-container[_ngcontent-%COMP%]   .truncate-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:1%;width:100%}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{flex-grow:1;margin-right:20px}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child, .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]:last-child{margin-right:0}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 15px;background-color:transparent;color:#fff;border:1px solid #4789A1;border-radius:4px;cursor:pointer}.logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4789a1}mat-paginator[_ngcontent-%COMP%]{background-color:#f0f0f0}mat-paginator[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{margin:0 12px}.single[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]{background-color:#fff;color:#333;padding:15px;border-radius:4px;margin-top:20px}.single[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%], .package[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px}@media (max-width: 768px){.logs-button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.logs-button[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .logs-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}.row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#555}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}"]});let E=O.m;const K=[{path:"viewCampaigns",component:p},{path:"",redirectTo:`${E.forms}`,pathMatch:"full"},{path:"**",redirectTo:"/site/notFound"}];class r{}r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[C.Bz.forChild(K),C.Bz]});var W=a(8519),_=a(6223),tt=a(9757),nt=a(6534),et=a(9347);class s{}s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[u.ez,r,W.q,_.UX,_.u5,et.Is,tt.ViewBriefModule,nt.SharingModule]})}}]);